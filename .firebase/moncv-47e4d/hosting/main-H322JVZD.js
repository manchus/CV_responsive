var yC=Object.defineProperty,vC=Object.defineProperties;var _C=Object.getOwnPropertyDescriptors;var Iv=Object.getOwnPropertySymbols;var wC=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable;var Ev=(t,e,n)=>e in t?yC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||={})wC.call(e,n)&&Ev(t,n,e[n]);if(Iv)for(var n of Iv(e))IC.call(e,n)&&Ev(t,n,e[n]);return t},ce=(t,e)=>vC(t,_C(e));var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var Tv=null;var bd=1;function ut(t){let e=Tv;return Tv=t,e}var Dv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function EC(t){if(!(Ad(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bd)){if(!t.producerMustRecompute(t)&&!Cd(t)){t.dirty=!1,t.lastCleanEpoch=bd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bd}}function bv(t){return t&&(t.nextProducerIndex=0),ut(t)}function Cv(t,e){if(ut(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ad(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cd(t){Oa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(EC(n),r!==n.version))return!0}return!1}function Sv(t){if(Oa(t),Ad(t))for(let e=0;e<t.producerNode.length;e++)Sd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Sd(t,e){if(TC(t),Oa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Sd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oa(i),i.producerIndexOfThis[r]=e}}function Ad(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function TC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function DC(){throw new Error}var bC=DC;function Av(t){bC=t}function B(t){return typeof t=="function"}function di(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ka=di(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(s){e=s instanceof ka?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Rv(s)}catch(o){e=e??[],o instanceof ka?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ka(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Rv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yr(n,e)}remove(e){let{_finalizers:n}=this;n&&yr(n,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var Rd=be.EMPTY;function La(t){return t instanceof be||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function Rv(t){B(t)?t():t.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hi={setTimeout(t,e,...n){let{delegate:r}=hi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=hi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fa(t){hi.setTimeout(()=>{let{onUnhandledError:e}=St;if(e)e(t);else throw t})}function Rs(){}var xv=(()=>xd("C",void 0,void 0))();function Mv(t){return xd("E",void 0,t)}function Nv(t){return xd("N",t,void 0)}function xd(t,e,n){return{kind:t,value:e,error:n}}var vr=null;function fi(t){if(St.useDeprecatedSynchronousErrorHandling){let e=!vr;if(e&&(vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vr;if(vr=null,n)throw r}}else t()}function Pv(t){St.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=t)}var _r=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,La(e)&&e.add(this)):this.destination=AC}static create(e,n,r){return new mn(e,n,r)}next(e){this.isStopped?Nd(Nv(e),this):this._next(e)}error(e){this.isStopped?Nd(Mv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nd(xv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CC=Function.prototype.bind;function Md(t,e){return CC.call(t,e)}var Pd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Va(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Va(r)}else Va(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Va(n)}}},mn=class extends _r{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Md(e.next,s),error:e.error&&Md(e.error,s),complete:e.complete&&Md(e.complete,s)}):i=e}this.destination=new Pd(i)}};function Va(t){St.useDeprecatedSynchronousErrorHandling?Pv(t):Fa(t)}function SC(t){throw t}function Nd(t,e){let{onStoppedNotification:n}=St;n&&hi.setTimeout(()=>n(t,e))}var AC={closed:!0,next:Rs,error:SC,complete:Rs};var pi=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function $e(t){return t}function ja(...t){return Od(t)}function Od(t){return t.length===0?$e:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var H=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=xC(n)?n:new mn(n,r,i);return fi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ov(r),new r((i,s)=>{let o=new mn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return Od(n)(this)}toPromise(n){return n=Ov(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ov(t){var e;return(e=t??St.Promise)!==null&&e!==void 0?e:Promise}function RC(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function xC(t){return t&&t instanceof _r||RC(t)&&La(t)}function kd(t){return B(t?.lift)}function Q(t){return e=>{if(kd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Ld(t,e,n,r,i)}var Ld=class extends _r{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function gi(){return Q((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var mi=class extends H{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return gi()(this)}};var kv=di(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class t extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ua(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new kv}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Rd:(this.currentObservers=null,s.push(n),new be(()=>{this.currentObservers=null,yr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new H;return n.source=this,n}}return t.create=(e,n)=>new Ua(e,n),t})(),Ua=class extends Ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rd}};var xe=class extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xs={now(){return(xs.delegate||Date).now()},delegate:void 0};var $a=class extends Ee{constructor(e=1/0,n=1/0,r=xs){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ba=class extends be{constructor(e,n){super()}schedule(e,n=0){return this}};var Ms={setInterval(t,e,...n){let{delegate:r}=Ms;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ms;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var yi=class extends Ba{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ms.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ms.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var vi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};vi.now=xs.now;var _i=class extends vi{constructor(e,n=vi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ha=new _i(yi),Fd=Ha;var qa=class extends yi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var za=class extends _i{};var Vd=new za(qa);var Ge=new H(t=>t.complete());function Ga(t){return t&&B(t.schedule)}function jd(t){return t[t.length-1]}function Wa(t){return B(jd(t))?t.pop():void 0}function Gt(t){return Ga(jd(t))?t.pop():void 0}function Lv(t,e){return typeof jd(t)=="number"?t.pop():e}function Ud(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Fv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wr(t){return this instanceof wr?(this.v=t,this):new wr(t)}function jv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,w){s.push([h,f,g,w])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof wr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Uv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fv=="function"?Fv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ka=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qa(t){return B(t?.then)}function Ya(t){return B(t[pi])}function Ja(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function Za(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xa=MC();function ec(t){return B(t?.[Xa])}function tc(t){return jv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield wr(n.read());if(i)return yield wr(void 0);yield yield wr(r)}}finally{n.releaseLock()}})}function nc(t){return B(t?.getReader)}function ue(t){if(t instanceof H)return t;if(t!=null){if(Ya(t))return NC(t);if(Ka(t))return PC(t);if(Qa(t))return OC(t);if(Ja(t))return $v(t);if(ec(t))return kC(t);if(nc(t))return LC(t)}throw Za(t)}function NC(t){return new H(e=>{let n=t[pi]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PC(t){return new H(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OC(t){return new H(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fa)})}function kC(t){return new H(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function $v(t){return new H(e=>{FC(t,e).catch(n=>e.error(n))})}function LC(t){return $v(tc(t))}function FC(t,e){var n,r,i,s;return Vv(this,void 0,void 0,function*(){try{for(n=Uv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function nt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function On(t,e=0){return Q((n,r)=>{n.subscribe(W(r,i=>nt(r,t,()=>r.next(i),e),()=>nt(r,t,()=>r.complete(),e),i=>nt(r,t,()=>r.error(i),e)))})}function kn(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Bv(t,e){return ue(t).pipe(kn(e),On(e))}function Hv(t,e){return ue(t).pipe(kn(e),On(e))}function qv(t,e){return new H(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function zv(t,e){return new H(n=>{let r;return nt(n,e,()=>{r=t[Xa](),nt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function rc(t,e){if(!t)throw new Error("Iterable cannot be null");return new H(n=>{nt(n,e,()=>{let r=t[Symbol.asyncIterator]();nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gv(t,e){return rc(tc(t),e)}function Wv(t,e){if(t!=null){if(Ya(t))return Bv(t,e);if(Ka(t))return qv(t,e);if(Qa(t))return Hv(t,e);if(Ja(t))return rc(t,e);if(ec(t))return zv(t,e);if(nc(t))return Gv(t,e)}throw Za(t)}function le(t,e){return e?Wv(t,e):ue(t)}function O(...t){let e=Gt(t);return le(t,e)}function wi(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new H(e?i=>e.schedule(r,0,i):r)}function $d(t){return!!t&&(t instanceof H||B(t.lift)&&B(t.subscribe))}var yn=di(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Kv(t){return t instanceof Date&&!isNaN(t)}function k(t,e){return Q((n,r)=>{let i=0;n.subscribe(W(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:VC}=Array;function jC(t,e){return VC(e)?t(...e):t(e)}function ic(t){return k(e=>jC(t,e))}var{isArray:UC}=Array,{getPrototypeOf:$C,prototype:BC,keys:HC}=Object;function sc(t){if(t.length===1){let e=t[0];if(UC(e))return{args:e,keys:null};if(qC(e)){let n=HC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qC(t){return t&&typeof t=="object"&&$C(t)===BC}function oc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ii(...t){let e=Gt(t),n=Wa(t),{args:r,keys:i}=sc(t);if(r.length===0)return le([],e);let s=new H(zC(r,e,i?o=>oc(i,o):$e));return n?s.pipe(ic(n)):s}function zC(t,e,n=$e){return r=>{Qv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Qv(e,()=>{let u=le(t[c],e),l=!1;u.subscribe(W(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Qv(t,e,n){t?nt(n,t,e):e()}function Yv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=w=>u<r?g(w):c.push(w),g=w=>{s&&e.next(w),u++;let y=!1;ue(n(w,l++)).subscribe(W(e,T=>{i?.(T),s?f(T):e.next(T)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let T=c.shift();o?nt(e,o,()=>g(T)):g(T)}h()}catch(T){e.error(T)}}))};return t.subscribe(W(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Me(t,e,n=1/0){return B(e)?Me((r,i)=>k((s,o)=>e(r,s,i,o))(ue(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>Yv(r,i,t,n)))}function Ns(t=1/0){return Me($e,t)}function Jv(){return Ns(1)}function Ei(...t){return Jv()(le(t,Gt(t)))}function ac(t){return new H(e=>{ue(t()).subscribe(e)})}function cc(...t){let e=Wa(t),{args:n,keys:r}=sc(t),i=new H(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ue(n[l]).subscribe(W(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?oc(r,a):a),s.complete())}))}});return e?i.pipe(ic(e)):i}function Zv(t=0,e,n=Fd){let r=-1;return e!=null&&(Ga(e)?n=e:r=e),new H(i=>{let s=Kv(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Bd(...t){let e=Gt(t),n=Lv(t,1/0),r=t;return r.length?r.length===1?ue(r[0]):Ns(n)(le(r,e)):Ge}function rt(t,e){return Q((n,r)=>{let i=0;n.subscribe(W(r,s=>t.call(e,s,i++)&&r.next(s)))})}function At(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(W(n,void 0,void 0,o=>{s=ue(t(o,At(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Xv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(W(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ln(t,e){return B(e)?Me(t,e,1):Me(t,1)}function Fn(t){return Q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mt(t){return t<=0?()=>Ge:Q((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hd(t){return k(()=>t)}function uc(t,e=$e){return t=t??GC,Q((n,r)=>{let i,s=!0;n.subscribe(W(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function GC(t,e){return t===e}function lc(t=WC){return Q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function WC(){return new yn}function Ir(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?rt((i,s)=>t(i,s,r)):$e,mt(1),n?Fn(e):lc(()=>new yn))}function Ti(t){return t<=0?()=>Ge:Q((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?rt((i,s)=>t(i,s,r)):$e,Ti(1),n?Fn(e):lc(()=>new yn))}function zd(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?$e:Q((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(W(o,d=>{i&&(a=0),o.next(d)},void 0,d=>{if(a++<n){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(r!=null){let f=typeof r=="number"?Zv(r):ue(r(d,a)),g=W(o,()=>{g.unsubscribe(),h()},()=>{o.complete()});f.subscribe(g)}else h()}else o.error(d)})),l&&(c.unsubscribe(),c=null,u())};u()})}function dc(t,e){return Q(Xv(t,e,arguments.length>=2,!0))}function Ps(t={}){let{connector:e=()=>new Ee,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{let w=o;f(),w?.unsubscribe()};return Q((w,y)=>{u++,!d&&!l&&h();let T=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=Gd(g,i))}),T.subscribe(y),!o&&u>0&&(o=new mn({next:j=>T.next(j),error:j=>{d=!0,h(),a=Gd(f,n,j),T.error(j)},complete:()=>{l=!0,h(),a=Gd(f,r),T.complete()}}),ue(w).subscribe(o))})(s)}}function Gd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new mn({next:()=>{r.unsubscribe(),t()}});return ue(e(...n)).subscribe(r)}function Wd(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Ps({connector:()=>new $a(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function hc(...t){let e=Gt(t);return Q((n,r)=>{(e?Ei(t,n,e):Ei(t,n)).subscribe(r)})}function Te(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let u=0,l=s++;ue(t(c,l)).subscribe(i=W(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Kd(t){return Q((e,n)=>{ue(t).subscribe(W(n,()=>n.complete(),Rs)),!n.closed&&e.subscribe(n)})}function me(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(W(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):$e}function he(t){for(let e in t)if(t[e]===he)return e;throw Error("Could not find renamed property on target object.")}function it(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function e_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KC=he({__forward_ref__:he});function j_(t){return t.__forward_ref__=j_,t.toString=function(){return it(this())},t}function vt(t){return U_(t)?t():t}function U_(t){return typeof t=="function"&&t.hasOwnProperty(KC)&&t.__forward_ref__===j_}function $_(t){return t&&!!t.\u0275providers}var B_="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(Uc(e,n)),this.code=e}};function Uc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var QC=he({\u0275cmp:he}),YC=he({\u0275dir:he}),JC=he({\u0275pipe:he}),ZC=he({\u0275mod:he}),Ec=he({\u0275fac:he}),Os=he({__NG_ELEMENT_ID__:he}),t_=he({__NG_ENV_ID__:he});function $c(t){return typeof t=="string"?t:t==null?"":String(t)}function XC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$c(t)}function eS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,`Circular dependency in DI detected for ${t}${n}`)}function jh(t,e){let n=e?` in ${e}`:"";throw new L(-201,!1)}function tS(t,e){t==null&&nS(e,t,null,"!=")}function nS(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bc(t){return n_(t,q_)||n_(t,z_)}function H_(t){return Bc(t)!==null}function n_(t,e){return t.hasOwnProperty(e)?t[e]:null}function rS(t){let e=t&&(t[q_]||t[z_]);return e||null}function r_(t){return t&&(t.hasOwnProperty(i_)||t.hasOwnProperty(iS))?t[i_]:null}var q_=he({\u0275prov:he}),i_=he({\u0275inj:he}),z_=he({ngInjectableDef:he}),iS=he({ngInjectorDef:he}),J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),sh;function sS(){return sh}function yt(t){let e=sh;return sh=t,e}function G_(t,e,n){let r=Bc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&J.Optional)return null;if(e!==void 0)return e;jh(it(t),"Injector")}var vn=globalThis;var x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var oS={},Fs=oS,oh="__NG_DI_FLAG__",Tc="ngTempTokenPath",aS="ngTokenPath",cS=/\n/gm,uS="\u0275",s_="__source",ks;function Vn(t){let e=ks;return ks=t,e}function lS(t,e=J.Default){if(ks===void 0)throw new L(-203,!1);return ks===null?G_(t,void 0,e):ks.get(t,e&J.Optional?null:void 0,e)}function R(t,e=J.Default){return(sS()||lS)(vt(t),e)}function D(t,e=J.Default){return R(t,Hc(e))}function Hc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ah(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){let a=r[o],c=dS(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function W_(t,e){return t[oh]=e,t.prototype[oh]=e,t}function dS(t){return t[oh]}function hS(t,e,n,r){let i=t[Tc];throw e[s_]&&i.unshift(e[s_]),t.message=fS(`
`+t.message,i,n,r),t[aS]=i,t[Tc]=null,t}function fS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==uS?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cS,`
  `)}`}function Ks(t){return{toString:t}.toString()}var K_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(K_||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{}),Vs={},Kt=[];function Q_(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ch(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];gS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pS(t){return t===3||t===4||t===6}function gS(t){return t.charCodeAt(0)===64}function Uh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?o_(t,n,i,null,e[++r]):o_(t,n,i,null,null))}}return t}function o_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Y_="ng-template";function mS(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&Q_(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function J_(t){return t.type===4&&t.value!==Y_}function yS(t,e,n){let r=t.type===4&&!n?Y_:t.value;return e===r}function vS(t,e,n){let r=4,i=t.attrs||[],s=IS(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Rt(r)&&!Rt(c))return!1;if(o&&Rt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!yS(t,c,n)||c===""&&e.length===1){if(Rt(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!mS(t.attrs,u,n)){if(Rt(r))return!1;o=!0}continue}let l=r&8?"class":c,d=_S(l,i,J_(t),n);if(d===-1){if(Rt(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&Q_(f,u,0)!==-1||r&2&&u!==h){if(Rt(r))return!1;o=!0}}}}return Rt(r)||o}function Rt(t){return(t&1)===0}function _S(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return ES(e,t)}function wS(t,e,n=!1){for(let r=0;r<e.length;r++)if(vS(t,e[r],n))return!0;return!1}function IS(t){for(let e=0;e<t.length;e++){let n=t[e];if(pS(n))return e}return t.length}function ES(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function a_(t,e){return t?":not("+e.trim()+")":e}function TS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Rt(o)&&(e+=a_(s,i),i=""),r=o,s=s||!Rt(r);n++}return i!==""&&(e+=a_(s,i)),e}function DS(t){return t.map(TS).join(",")}function bS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Rt(i))break;i=s}r++}return{attrs:e,classes:n}}function ot(t){return Ks(()=>{let e=nw(t),n=ce(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===K_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||Kt,_:null,schemas:t.schemas||null,tView:null,id:""});rw(n);let r=t.dependencies;return n.directiveDefs=u_(r,!1),n.pipeDefs=u_(r,!0),n.id=AS(n),n})}function CS(t){return Tr(t)||Z_(t)}function SS(t){return t!==null}function Ot(t){return Ks(()=>({type:t.type,bootstrap:t.bootstrap||Kt,declarations:t.declarations||Kt,imports:t.imports||Kt,exports:t.exports||Kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function c_(t,e){if(t==null)return Vs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Pi(t){return Ks(()=>{let e=nw(t);return rw(e),e})}function Tr(t){return t[QC]||null}function Z_(t){return t[YC]||null}function X_(t){return t[JC]||null}function ew(t){let e=Tr(t)||Z_(t)||X_(t);return e!==null?e.standalone:!1}function tw(t,e){let n=t[ZC]||null;if(!n&&e===!0)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function nw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:c_(t.inputs,e),outputs:c_(t.outputs),debugInfo:null}}function rw(t){t.features?.forEach(e=>e(t))}function u_(t,e){if(!t)return null;let n=e?X_:CS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SS)}function AS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var In=0,ee=1,U=2,Ne=3,xt=4,kt=5,Dc=6,js=7,Mt=8,Ai=9,Ri=10,ke=11,Us=12,l_=13,Oi=14,Zt=15,qc=16,Di=17,$s=18,zc=19,iw=20,Ls=21,Qd=22,Dr=23,_n=25,sw=1;var br=7,bc=8,Cc=9,_t=10,xi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(xi||{});function jn(t){return Array.isArray(t)&&typeof t[sw]=="object"}function Nt(t){return Array.isArray(t)&&t[sw]===!0}function $h(t){return(t.flags&4)!==0}function Gc(t){return t.componentOffset>-1}function Wc(t){return(t.flags&1)===1}function Qs(t){return!!t.template}function RS(t){return(t[U]&512)!==0}function Mi(t,e){let n=t.hasOwnProperty(Ec);return n?t[Ec]:null}var uh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function en(){return ow}function ow(t){return t.type.prototype.ngOnChanges&&(t.setInput=MS),xS}en.ngInherit=!0;function xS(){let t=cw(this),e=t?.current;if(e){let n=t.previous;if(n===Vs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function MS(t,e,n,r){let i=this.declaredInputs[n],s=cw(t)||NS(t,{previous:Vs,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new uh(c&&c.currentValue,e,a===Vs),t[r]=e}var aw="__ngSimpleChanges__";function cw(t){return t[aw]||null}function NS(t,e){return t[aw]=e}var d_=null;var Qt=function(t,e,n){d_?.(t,e,n)},PS="svg",OS="math";function Xt(t){for(;Array.isArray(t);)t=t[In];return t}function kS(t,e){return Xt(e[t])}function Lt(t,e){return Xt(e[t.index])}function uw(t,e){return t.data[e]}function Hn(t,e){let n=e[t];return jn(n)?n:n[In]}function Bh(t){return(t[U]&128)===128}function LS(t){return Nt(t[Ne])}function Ni(t,e){return e==null?null:t[e]}function lw(t){t[Di]=0}function FS(t){t[U]&1024||(t[U]|=1024,Bh(t)&&Kc(t))}function VS(t,e){for(;t>0;)e=e[Oi],t--;return e}function dw(t){return t[U]&9216||t[Dr]?.dirty}function hw(t){dw(t)&&Kc(t)}function Kc(t){let e=t[Ne];for(;e!==null&&!(Nt(e)&&e[U]&xi.HasChildViewsToRefresh||jn(e)&&e[U]&8192);){if(Nt(e))e[U]|=xi.HasChildViewsToRefresh;else if(e[U]|=8192,!Bh(e))break;e=e[Ne]}}function jS(t,e){if((t[U]&256)===256)throw new L(911,!1);t[Ls]===null&&(t[Ls]=[]),t[Ls].push(e)}var te={lFrame:ww(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function US(){return te.lFrame.elementDepthCount}function $S(){te.lFrame.elementDepthCount++}function BS(){te.lFrame.elementDepthCount--}function fw(){return te.bindingsEnabled}function HS(){return te.skipHydrationRootTNode!==null}function qS(t){return te.skipHydrationRootTNode===t}function zS(){te.skipHydrationRootTNode=null}function De(){return te.lFrame.lView}function tn(){return te.lFrame.tView}function Hh(t){return te.lFrame.contextLView=t,t[Mt]}function qh(t){return te.lFrame.contextLView=null,t}function wt(){let t=pw();for(;t!==null&&t.type===64;)t=t.parent;return t}function pw(){return te.lFrame.currentTNode}function GS(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ar(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function zh(){return te.lFrame.isParent}function gw(){te.lFrame.isParent=!1}function WS(t){return te.lFrame.bindingIndex=t}function mw(){return te.lFrame.bindingIndex++}function KS(){return te.lFrame.inI18n}function QS(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,lh(e)}function YS(){return te.lFrame.currentDirectiveIndex}function lh(t){te.lFrame.currentDirectiveIndex=t}function yw(t){te.lFrame.currentQueryIndex=t}function JS(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function vw(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&J.Host);)if(i=JS(s),i===null||(s=s[Oi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=_w();return r.currentTNode=e,r.lView=t,!0}function Gh(t){let e=_w(),n=t[ee];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _w(){let t=te.lFrame,e=t===null?null:t.child;return e===null?ww(t):e}function ww(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Iw(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ew=Iw;function Wh(){let t=Iw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ZS(t){return(te.lFrame.contextLView=VS(t,te.lFrame.contextLView))[Mt]}function Kh(){return te.lFrame.selectedIndex}function Cr(t){te.lFrame.selectedIndex=t}function Tw(){let t=te.lFrame;return uw(t.tView,t.selectedIndex)}function XS(){return te.lFrame.currentNamespace}var Dw=!0;function Qc(){return Dw}function Yc(t){Dw=t}function eA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ow(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Jc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function yc(t,e,n){bw(t,e,3,n)}function vc(t,e,n,r){(t[U]&3)===n&&bw(t,e,n,r)}function Yd(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function bw(t,e,n,r){let i=r!==void 0?t[Di]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Di]+=65536),(a<s||s==-1)&&(tA(t,n,e,c),t[Di]=(t[Di]&4294901760)+c+2),c++}function h_(t,e){Qt(4,t,e);let n=ut(null);try{e.call(t)}finally{ut(n),Qt(5,t,e)}}function tA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[U]>>14<t[Di]>>16&&(t[U]&3)===e&&(t[U]+=16384,h_(a,s)):h_(a,s)}var Si=-1,Bs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function nA(t){return t instanceof Bs}function rA(t){return(t.flags&8)!==0}function iA(t){return(t.flags&16)!==0}function Cw(t){return t!==Si}function Sc(t){let e=t&32767;return t&32767}function sA(t){return t>>16}function Ac(t,e){let n=sA(t),r=e;for(;n>0;)r=r[Oi],n--;return r}var dh=!0;function f_(t){let e=dh;return dh=t,e}var oA=256,Sw=oA-1,Aw=5,aA=0,Yt={};function cA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Os)&&(r=n[Os]),r==null&&(r=n[Os]=aA++);let i=r&Sw,s=1<<i;e.data[t+(i>>Aw)]|=s}function Rw(t,e){let n=xw(t,e);if(n!==-1)return n;let r=e[ee];r.firstCreatePass&&(t.injectorIndex=e.length,Jd(r.data,t),Jd(e,null),Jd(r.blueprint,null));let i=Qh(t,e),s=t.injectorIndex;if(Cw(i)){let o=Sc(i),a=Ac(i,e),c=a[ee].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Jd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=kw(i),r===null)return Si;if(n++,i=i[Oi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Si}function uA(t,e,n){cA(t,e,n)}function Mw(t,e,n){if(n&J.Optional||t!==void 0)return t;jh(e,"NodeInjector")}function Nw(t,e,n,r){if(n&J.Optional&&r===void 0&&(r=null),!(n&(J.Self|J.Host))){let i=t[Ai],s=yt(void 0);try{return i?i.get(e,r,n&J.Optional):G_(e,r,n&J.Optional)}finally{yt(s)}}return Mw(r,e,n)}function Pw(t,e,n,r=J.Default,i){if(t!==null){if(e[U]&2048&&!(r&J.Self)){let o=pA(t,e,n,r,Yt);if(o!==Yt)return o}let s=Ow(t,e,n,r,Yt);if(s!==Yt)return s}return Nw(e,n,r,i)}function Ow(t,e,n,r,i){let s=hA(n);if(typeof s=="function"){if(!vw(e,t,r))return r&J.Host?Mw(i,n,r):Nw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&J.Optional))jh(n);else return o}finally{Ew()}}else if(typeof s=="number"){let o=null,a=xw(t,e),c=Si,u=r&J.Host?e[Zt][kt]:null;for((a===-1||r&J.SkipSelf)&&(c=a===-1?Qh(t,e):e[a+8],c===Si||!g_(r,!1)?a=-1:(o=e[ee],a=Sc(c),e=Ac(c,e)));a!==-1;){let l=e[ee];if(p_(s,a,l.data)){let d=lA(a,e,n,o,r,u);if(d!==Yt)return d}c=e[a+8],c!==Si&&g_(r,e[ee].data[a+8]===u)&&p_(s,a,e)?(o=l,a=Sc(c),e=Ac(c,e)):a=-1}}return i}function lA(t,e,n,r,i,s){let o=e[ee],a=o.data[t+8],c=r==null?Gc(a)&&dh:r!=o&&(a.type&3)!==0,u=i&J.Host&&s===a,l=dA(a,o,n,c,u);return l!==null?Hs(e,o,l,a):Yt}function dA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&Qs(f)&&f.type===n)return c}return null}function Hs(t,e,n,r){let i=t[n],s=e.data;if(nA(i)){let o=i;o.resolving&&eS(XC(s[n]));let a=f_(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?yt(o.injectImpl):null,l=vw(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&eA(n,s[n],e)}finally{u!==null&&yt(u),f_(a),o.resolving=!1,Ew()}}return i}function hA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Os)?t[Os]:void 0;return typeof e=="number"?e>=0?e&Sw:fA:e}function p_(t,e,n){let r=1<<t;return!!(n[e+(t>>Aw)]&r)}function g_(t,e){return!(t&J.Self)&&!(t&J.Host&&e)}var Er=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Pw(this._tNode,this._lView,e,Hc(r),n)}};function fA(){return new Er(wt(),De())}function Zc(t){return Ks(()=>{let e=t.prototype.constructor,n=e[Ec]||hh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ec]||hh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hh(t){return U_(t)?()=>{let e=hh(vt(t));return e&&e()}:Mi(t)}function pA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[U]&2048&&!(o[U]&512);){let a=Ow(s,o,n,r|J.Self,Yt);if(a!==Yt)return a;let c=s.parent;if(!c){let u=o[iw];if(u){let l=u.get(n,Yt,r);if(l!==Yt)return l}c=kw(o),o=o[Oi]}s=c}return i}function kw(t){let e=t[ee],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}var fc="__parameters__";function gA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Lw(t,e,n){return Ks(()=>{let r=gA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(fc)?c[fc]:Object.defineProperty(c,fc,{value:[]})[fc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function mA(t){return typeof t=="function"}function Yh(t,e){t.forEach(n=>Array.isArray(n)?Yh(n,e):e(n))}function Fw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yA(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}var Ft=W_(Lw("Optional"),8);var Vw=W_(Lw("SkipSelf"),4);var Ys=new x("ENVIRONMENT_INITIALIZER"),jw=new x("INJECTOR",-1),Uw=new x("INJECTOR_DEF_TYPES"),xc=class{get(e,n=Fs){if(n===Fs){let r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}};function lt(t){return{\u0275providers:t}}function Xc(...t){return{\u0275providers:$w(!0,t),\u0275fromNgModule:!0}}function $w(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Yh(e,o=>{let a=o;fh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Bw(i,s),n}function Bw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jh(i,s=>{e(s,r)})}}function fh(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,s=r_(t),o=!s&&Tr(t);if(!s&&!o){let c=t.ngModule;if(s=r_(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)fh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Yh(s.imports,l=>{fh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Bw(u,e)}if(!a){let u=Mi(i)||(()=>new i);e({provide:i,useFactory:u,deps:Kt},i),e({provide:Uw,useValue:i,multi:!0},i),e({provide:Ys,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Jh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Jh(t,e){for(let n of t)$_(n)&&(n=n.\u0275providers),Array.isArray(n)?Jh(n,e):e(n)}var vA=he({provide:String,useValue:he});function Hw(t){return t!==null&&typeof t=="object"&&vA in t}function _A(t){return!!(t&&t.useExisting)}function wA(t){return!!(t&&t.useFactory)}function ph(t){return typeof t=="function"}var eu=new x("Set Injector scope."),_c={},IA={},Zd;function Zh(){return Zd===void 0&&(Zd=new xc),Zd}var st=class{},qs=class extends st{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mh(e,o=>this.processProvider(o)),this.records.set(jw,bi(void 0,this)),i.has("environment")&&this.records.set(st,bi(void 0,this));let s=this.records.get(eu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Uw,Kt,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Vn(this),r=yt(void 0),i;try{return e()}finally{Vn(n),yt(r)}}get(e,n=Fs,r=J.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(t_))return e[t_](this);r=Hc(r);let i,s=Vn(this),o=yt(void 0);try{if(!(r&J.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=SA(e)&&Bc(e);u&&this.injectableDefInScope(u)?c=bi(gh(e),_c):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&J.Self?Zh():this.parent;return n=r&J.Optional&&n===Fs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tc]=a[Tc]||[]).unshift(it(e)),s)throw a;return hS(a,e,"R3InjectorError",this.source)}else throw a}finally{yt(o),Vn(s)}}resolveInjectorInitializers(){let e=Vn(this),n=yt(void 0),r;try{let i=this.get(Ys,Kt,J.Self);for(let s of i)s()}finally{Vn(e),yt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=vt(e);let n=ph(e)?e:vt(e&&e.provide),r=TA(e);if(!ph(e)&&e.multi===!0){let i=this.records.get(n);i||(i=bi(void 0,_c,!0),i.factory=()=>ah(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===_c&&(n.value=IA,n.value=n.factory()),typeof n.value=="object"&&n.value&&CA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gh(t){let e=Bc(t),n=e!==null?e.factory:Mi(t);if(n!==null)return n;if(t instanceof x)throw new L(204,!1);if(t instanceof Function)return EA(t);throw new L(204,!1)}function EA(t){let e=t.length;if(e>0){let r=yA(e,"?");throw new L(204,!1)}let n=rS(t);return n!==null?()=>n.factory(t):()=>new t}function TA(t){if(Hw(t))return bi(void 0,t.useValue);{let e=DA(t);return bi(e,_c)}}function DA(t,e,n){let r;if(ph(t)){let i=vt(t);return Mi(i)||gh(i)}else if(Hw(t))r=()=>vt(t.useValue);else if(wA(t))r=()=>t.useFactory(...ah(t.deps||[]));else if(_A(t))r=()=>R(vt(t.useExisting));else{let i=vt(t&&(t.useClass||t.provide));if(bA(t))r=()=>new i(...ah(t.deps));else return Mi(i)||gh(i)}return r}function bi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bA(t){return!!t.deps}function CA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function SA(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function mh(t,e){for(let n of t)Array.isArray(n)?mh(n,e):n&&$_(n)?mh(n.\u0275providers,e):e(n)}function En(t,e){t instanceof qs&&t.assertNotDestroyed();let n,r=Vn(t),i=yt(void 0);try{return e()}finally{Vn(r),yt(i)}}function m_(t,e=null,n=null,r){let i=qw(t,e,n,r);return i.resolveInjectorInitializers(),i}function qw(t,e=null,n=null,r,i=new Set){let s=[n||Kt,Xc(t)];return r=r||(typeof t=="object"?void 0:it(t)),new qs(s,e||Zh(),r||null,i)}var Vt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return m_({name:""},i,r,"");{let s=r.name??"";return m_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Fs,e.NULL=new xc,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>R(jw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var yh;function zw(t){yh=t}function Gw(){if(yh!==void 0)return yh;if(typeof document<"u")return document;throw new L(210,!1)}var Xh=new x("AppId",{providedIn:"root",factory:()=>AA}),AA="ng",ef=new x("Platform Initializer"),nn=new x("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var tf=new x("CSP nonce",{providedIn:"root",factory:()=>Gw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ww(t){return t instanceof Function?t():t}function Kw(t){return(t.flags&128)===128}var Rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Rr||{}),RA=/^>|^->|<!--|-->|--!>|<!-$/g,xA=/(<|>)/g,MA="\u200B$1\u200B";function NA(t){return t.replace(RA,e=>e.replace(xA,MA))}var Qw=new Map,PA=0;function OA(){return PA++}function kA(t){Qw.set(t[zc],t)}function LA(t){Qw.delete(t[zc])}var y_="__ngContext__";function Un(t,e){jn(e)?(t[y_]=e[zc],kA(e)):t[y_]=e}var FA;function nf(t,e){return FA(t,e)}function rf(t){let e=t[Ne];return Nt(e)?e[Ne]:e}function Yw(t){return Zw(t[Us])}function Jw(t){return Zw(t[xt])}function Zw(t){for(;t!==null&&!Nt(t);)t=t[xt];return t}function Ci(t,e,n,r,i){if(r!=null){let s,o=!1;Nt(r)?s=r:jn(r)&&(o=!0,r=r[In]);let a=Xt(r);t===0&&n!==null?i==null?nI(e,n,a):Mc(e,n,a,i||null,!0):t===1&&n!==null?Mc(e,n,a,i||null,!0):t===2?nR(e,a,o):t===3&&e.destroyNode(a),s!=null&&iR(e,t,s,n,i)}}function VA(t,e){return t.createText(e)}function jA(t,e,n){t.setValue(e,n)}function UA(t,e){return t.createComment(NA(e))}function Xw(t,e,n){return t.createElement(e,n)}function $A(t,e){let n=e[ke];Js(t,e,n,2,null,null),e[In]=null,e[kt]=null}function BA(t,e,n,r,i,s){r[In]=i,r[kt]=e,Js(t,r,n,1,i,s)}function HA(t,e){Js(t,e,e[ke],2,null,null)}function qA(t){let e=t[Us];if(!e)return Xd(t[ee],t);for(;e;){let n=null;if(jn(e))n=e[Us];else{let r=e[_t];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)jn(e)&&Xd(e[ee],e),e=e[Ne];e===null&&(e=t),jn(e)&&Xd(e[ee],e),n=e&&e[xt]}e=n}}function zA(t,e,n,r){let i=_t+r,s=n.length;r>0&&(n[i-1][xt]=e),r<s-_t?(e[xt]=n[i],Fw(n,_t+r,e)):(n.push(e),e[xt]=null),e[Ne]=n;let o=e[qc];o!==null&&n!==o&&GA(o,e);let a=e[$s];a!==null&&a.insertView(t),hw(e),e[U]|=128}function GA(t,e){let n=t[Cc],i=e[Ne][Ne][Zt];e[Zt]!==i&&(t[U]|=xi.HasTransplantedViews),n===null?t[Cc]=[e]:n.push(e)}function eI(t,e){let n=t[Cc],r=n.indexOf(e),i=e[Ne];n.splice(r,1)}function vh(t,e){if(t.length<=_t)return;let n=_t+e,r=t[n];if(r){let i=r[qc];i!==null&&i!==t&&eI(i,r),e>0&&(t[n-1][xt]=r[xt]);let s=Rc(t,_t+e);$A(r[ee],r);let o=s[$s];o!==null&&o.detachView(s[ee]),r[Ne]=null,r[xt]=null,r[U]&=-129}return r}function tI(t,e){if(!(e[U]&256)){let n=e[ke];n.destroyNode&&Js(t,e,n,3,null,null),qA(e)}}function Xd(t,e){if(!(e[U]&256)){e[U]&=-129,e[U]|=256,e[Dr]&&Sv(e[Dr]),KA(t,e),WA(t,e),e[ee].type===1&&e[ke].destroy();let n=e[qc];if(n!==null&&Nt(e[Ne])){n!==e[Ne]&&eI(n,e);let r=e[$s];r!==null&&r.detachView(t)}LA(e)}}function WA(t,e){let n=t.cleanup,r=e[js];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[js]=null);let i=e[Ls];if(i!==null){e[Ls]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function KA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Bs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qt(4,a,c);try{c.call(a)}finally{Qt(5,a,c)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function QA(t,e,n){return YA(t,e.parent,n)}function YA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[In];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return Lt(r,n)}}function Mc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nI(t,e,n){t.appendChild(e,n)}function v_(t,e,n,r,i){r!==null?Mc(t,e,n,r,i):nI(t,e,n)}function JA(t,e,n,r){t.removeChild(e,n,r)}function sf(t,e){return t.parentNode(e)}function ZA(t,e){return t.nextSibling(e)}function XA(t,e,n){return tR(t,e,n)}function eR(t,e,n){return t.type&40?Lt(t,n):null}var tR=eR,__;function tu(t,e,n,r){let i=QA(t,r,e),s=e[ke],o=r.parent||e[kt],a=XA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)v_(s,i,n[c],a,!1);else v_(s,i,n,a,!1);__!==void 0&&__(s,r,e,n,i)}function wc(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return _h(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return wc(t,r);{let i=t[e.index];return Nt(i)?_h(-1,i):Xt(i)}}else{if(n&32)return nf(e,t)()||Xt(t[e.index]);{let r=rI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rf(t[Zt]);return wc(i,r)}else return wc(t,e.next)}}}return null}function rI(t,e){if(e!==null){let r=t[Zt][kt],i=e.projection;return r.projection[i]}return null}function _h(t,e){let n=_t+t+1;if(n<e.length){let r=e[n],i=r[ee].firstChild;if(i!==null)return wc(r,i)}return e[br]}function nR(t,e,n){let r=sf(t,e);r&&JA(t,r,e,n)}function of(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Un(Xt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)of(t,e,n.child,r,i,s,!1),Ci(e,t,i,a,s);else if(c&32){let u=nf(n,r),l;for(;l=u();)Ci(e,t,i,l,s);Ci(e,t,i,a,s)}else c&16?rR(t,e,r,n,i,s):Ci(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Js(t,e,n,r,i,s){of(n,r,t.firstChild,e,i,s,!1)}function rR(t,e,n,r,i,s){let o=n[Zt],c=o[kt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ci(e,t,i,l,s)}else{let u=c,l=o[Ne];Kw(r)&&(u.flags|=128),of(t,e,u,l,i,s,!0)}}function iR(t,e,n,r,i){let s=n[br],o=Xt(n);s!==o&&Ci(e,t,r,s,i);for(let a=_t;a<n.length;a++){let c=n[a];Js(c[ee],c,t,e,r,s)}}function sR(t,e,n){t.setAttribute(e,"style",n)}function iI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ch(t,e,r),i!==null&&iI(t,e,i),s!==null&&sR(t,e,s)}var pc;function oR(){if(pc===void 0&&(pc=null,vn.trustedTypes))try{pc=vn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pc}function nu(t){return oR()?.createHTML(t)||t}var gc;function aR(){if(gc===void 0&&(gc=null,vn.trustedTypes))try{gc=vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gc}function w_(t){return aR()?.createHTML(t)||t}var Nc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${B_})`}};function ru(t){return t instanceof Nc?t.changingThisBreaksApplicationSecurity:t}function af(t,e){let n=cR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${B_})`)}return n===e}function cR(t){return t instanceof Nc&&t.getTypeName()||null}function uR(t){let e=new Ih(t);return lR()?new wh(e):e}var wh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(nu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Ih=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=nu(e),n}};function lR(){try{return!!new window.DOMParser().parseFromString(nu(""),"text/html")}catch{return!1}}var dR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cf(t){return t=String(t),t.match(dR)?t:"unsafe:"+t}function Tn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Zs(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var oI=Tn("area,br,col,hr,img,wbr"),aI=Tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cI=Tn("rp,rt"),hR=Zs(cI,aI),fR=Zs(aI,Tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pR=Zs(cI,Tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),I_=Zs(oI,fR,pR,hR),uI=Tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gR=Tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mR=Tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),yR=Zs(uI,gR,mR),vR=Tn("script,style,template"),Eh=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!I_.hasOwnProperty(n))return this.sanitizedSomething=!0,!vR.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!yR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;uI[a]&&(c=cf(c)),this.buf.push(" ",o,'="',E_(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();I_.hasOwnProperty(n)&&!oI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(E_(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},_R=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wR=/([^\#-~ |!])/g;function E_(t){return t.replace(/&/g,"&amp;").replace(_R,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(wR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var mc;function lI(t,e){let n=null;try{mc=mc||uR(t);let r=e?String(e):"";n=mc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mc.getInertBodyElement(r)}while(r!==s);let a=new Eh().sanitizeChildren(T_(n)||n);return nu(a)}finally{if(n){let r=T_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function T_(t){return"content"in t&&IR(t)?t.content:null}function IR(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var iu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(iu||{});function dI(t){let e=hI();return e?w_(e.sanitize(iu.HTML,t)||""):af(t,"HTML")?w_(ru(t)):lI(Gw(),$c(t))}function xr(t){let e=hI();return e?e.sanitize(iu.URL,t)||"":af(t,"URL")?ru(t):cf($c(t))}function hI(){let t=De();return t&&t[Ri].sanitizer}var ER="h",TR="b";var DR=(t,e,n)=>null;function uf(t,e,n=!1){return DR(t,e,n)}var Th=class{},Pc=class{};function bR(t){let e=Error(`No component factory found for ${it(t)}.`);return e[CR]=t,e}var CR="ngComponent";var Dh=class{resolveComponentFactory(e){throw bR(e)}},su=(()=>{let e=class e{};e.NULL=new Dh;let t=e;return t})();function SR(){return ou(wt(),De())}function ou(t,e){return new ki(Lt(t,e))}var ki=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SR;let t=e;return t})();var zs=class{},Xs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>AR();let t=e;return t})();function AR(){let t=De(),e=wt(),n=Hn(e.index,t);return(jn(n)?n:t)[ke]}var RR=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),$n=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},lf=new $n("17.0.7"),eh={};function fI(t){return MR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function xR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function MR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var bh=class{constructor(){}supports(e){return fI(e)}create(e){return new Ch(e)}},NR=(t,e)=>e,Ch=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<D_(r,i,s)?n:r,a=D_(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fI(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,xR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Sh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Oc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Oc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ah=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Oc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ah,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function D_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function b_(){return new df([new bh])}var df=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||b_()),deps:[[e,new Vw,new Ft]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new L(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:b_});let t=e;return t})();function kc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Xt(s)),Nt(s)&&PR(s,r);let o=n.type;if(o&8)kc(t,e,n.child,r);else if(o&32){let a=nf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=rI(e,n);if(Array.isArray(a))r.push(...a);else{let c=rf(e[Zt]);kc(c[ee],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PR(t,e){for(let n=_t;n<t.length;n++){let r=t[n],i=r[ee].firstChild;i!==null&&kc(r[ee],r,i,e)}t[br]!==t[In]&&e.push(t[br])}var pI=[];function OR(t){return t[Dr]??kR(t)}function kR(t){let e=pI.pop()??Object.create(FR);return e.lView=t,e}function LR(t){t.lView[Dr]!==t&&(t.lView=null,pI.push(t))}var FR=ce(C({},Dv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kc(t.lView)},consumerOnSignalRead(){this.lView[Dr]=this}}),VR="ngOriginalError";function th(t){return t[VR]}var wn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&th(e);for(;n&&th(n);)n=th(n);return n||null}},gI=new x("",{providedIn:"root",factory:()=>D(wn).handleError.bind(void 0)});var mI=!1,jR=new x("",{providedIn:"root",factory:()=>mI});var eo={};function N(t){yI(tn(),De(),Kh()+t,!1)}function yI(t,e,n,r){if(!r)if((e[U]&3)===3){let s=t.preOrderCheckHooks;s!==null&&yc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&vc(e,s,0,n)}Cr(n)}function Ce(t,e=J.Default){let n=De();if(n===null)return R(t,e);let r=wt();return Pw(r,n,vt(t),e)}function UR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Cr(~i);else{let s=i,o=n[++r],a=n[++r];QS(o,s);let c=e[s];a(2,c)}}}finally{Cr(-1)}}function au(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[In]=i,d[U]=r|4|128|8,(u!==null||t&&t[U]&2048)&&(d[U]|=2048),lw(d),d[Ne]=d[Oi]=t,d[Mt]=n,d[Ri]=o||t&&t[Ri],d[ke]=a||t&&t[ke],d[Ai]=c||t&&t[Ai]||null,d[kt]=s,d[zc]=OA(),d[Dc]=l,d[iw]=u,d[Zt]=e.type==2?t[Zt]:d,d}function to(t,e,n,r,i){let s=t.data[e];if(s===null)s=$R(t,e,n,r,i),KS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=GS();s.injectorIndex=o===null?-1:o.injectorIndex}return Ar(s,!0),s}function $R(t,e,n,r,i){let s=pw(),o=zh(),a=o?s:s&&s.parent,c=t.data[e]=GR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function vI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _I(t,e,n,r,i){let s=Kh(),o=r&2;try{Cr(-1),o&&e.length>_n&&yI(t,e,_n,!1),Qt(o?2:0,i),n(r,i)}finally{Cr(s),Qt(o?3:1,i)}}function hf(t,e,n){if($h(e)){let r=ut(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ut(r)}}}function ff(t,e,n){fw()&&(ZR(t,e,n,Lt(n,e)),(n.flags&64)===64&&TI(t,e,n))}function pf(t,e,n=Lt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function wI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=gf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function gf(t,e,n,r,i,s,o,a,c,u,l){let d=_n+r,h=d+i,f=BR(d,h),g=typeof u=="function"?u():u;return f[ee]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function BR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:eo);return n}function HR(t,e,n,r){let s=r.get(jR,mI)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return qR(o),o}function qR(t){zR(t)}var zR=t=>null;function GR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return HS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function C_(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?S_(n,e,i,s):r.hasOwnProperty(i)&&S_(n,e,r[i],s)}return n}function S_(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function WR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=C_(d.inputs,l,c,f),u=C_(d.outputs,l,u,g);let w=c!==null&&o!==null&&!J_(e)?ax(c,l,o):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function KR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function II(t,e,n,r,i,s,o,a){let c=Lt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(yf(t,n,l,r,i),Gc(e)&&QR(n,e.index)):e.type&3?(r=KR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function QR(t,e){let n=Hn(e,t);n[U]&16||(n[U]|=64)}function mf(t,e,n,r){if(fw()){let i=r===null?null:{"":-1},s=ex(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&EI(t,e,n,o,i,a),i&&tx(n,r,i)}n.mergedAttrs=Uh(n.mergedAttrs,n.attrs)}function EI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)uA(Rw(n,e),t,r[u].type);rx(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=vI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Uh(n.mergedAttrs,l.hostAttrs),ix(t,n,e,c,l),nx(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}WR(t,n,s)}function YR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;JR(o)!=a&&o.push(a),o.push(n,r,s)}}function JR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ZR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Gc(n)&&sx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Rw(n,e),Un(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Hs(e,t,a,n);if(Un(u,e),o!==null&&ox(e,a-i,u,c,n,o),Qs(c)){let l=Hn(n.index,e);l[Mt]=Hs(e,t,a,n)}}}function TI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=YS();try{Cr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];lh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&XR(c,u)}}finally{Cr(-1),lh(o)}}function XR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ex(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wS(e,o.selectors,!1))if(r||(r=[]),Qs(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Rh(t,e,c)}else r.unshift(o),Rh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Rh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new L(-301,!1);r.push(e[i],s)}}}function nx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qs(e)&&(n[""]=t)}}function rx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ix(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Mi(i.type,!0)),o=new Bs(s,Qs(i),Ce);t.blueprint[r]=o,n[r]=o,YR(t,e,r,vI(t,n,i.hostVars,eo),i)}function sx(t,e,n){let r=Lt(e,t),i=wI(n),s=t[Ri].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=cu(t,au(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function ox(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];DI(r,n,c,u,l)}}function DI(t,e,n,r,i){let s=ut(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{ut(s)}}function ax(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function bI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function CI(t,e){let n=t.contentQueries;if(n!==null){let r=ut(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];yw(s),a.contentQueries(2,e[o],o)}}}finally{ut(r)}}}function cu(t,e){return t[Us]?t[l_][xt]=e:t[Us]=e,t[l_]=e,e}function xh(t,e,n){yw(0);let r=ut(null);try{e(t,n)}finally{ut(r)}}function cx(t){return t[js]||(t[js]=[])}function ux(t){return t.cleanup||(t.cleanup=[])}function SI(t,e){let n=t[Ai],r=n?n.get(wn,null):null;r&&r.handleError(e)}function yf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];DI(u,c,r,a,i)}}function lx(t,e,n){let r=kS(e,t);jA(t[ke],r,n)}var dx=100;function hx(t,e=!0){let n=t[Ri],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{fx(t)}catch(o){throw e&&SI(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function fx(t){Mh(t,0);let e=0;for(;dw(t);){if(e===dx)throw new L(103,!1);e++,Mh(t,1)}}function px(t,e,n,r){let i=e[U];if((i&256)===256)return;let s=!1;!s&&e[Ri].inlineEffectRunner?.flush(),Gh(e);let o=null,a=null;!s&&gx(t)&&(a=OR(e),o=bv(a));try{lw(e),WS(t.bindingStartIndex),n!==null&&_I(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&yc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&vc(e,d,0,null),Yd(e,0)}if(mx(e),AI(e,0),t.contentQueries!==null&&CI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&yc(e,d)}else{let d=t.contentHooks;d!==null&&vc(e,d,1),Yd(e,1)}UR(t,e);let u=t.components;u!==null&&xI(e,u,0);let l=t.viewQuery;if(l!==null&&xh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&yc(e,d)}else{let d=t.viewHooks;d!==null&&vc(e,d,2),Yd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qd]){for(let d of e[Qd])d();e[Qd]=null}s||(e[U]&=-73)}catch(c){throw Kc(e),c}finally{a!==null&&(Cv(a,o),LR(a)),Wh()}}function gx(t){return t.type!==2}function AI(t,e){for(let n=Yw(t);n!==null;n=Jw(n)){n[U]&=~xi.HasChildViewsToRefresh;for(let r=_t;r<n.length;r++){let i=n[r];RI(i,e)}}}function mx(t){for(let e=Yw(t);e!==null;e=Jw(e)){if(!(e[U]&xi.HasTransplantedViews))continue;let n=e[Cc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ne];FS(i)}}}function yx(t,e,n){let r=Hn(e,t);RI(r,n)}function RI(t,e){Bh(t)&&Mh(t,e)}function Mh(t,e){let r=t[ee],i=t[U],s=t[Dr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Cd(s)),s&&(s.dirty=!1),t[U]&=-9217,o)px(r,t,r.template,t[Mt]);else if(i&8192){AI(t,1);let a=r.components;a!==null&&xI(t,a,1)}}function xI(t,e,n){for(let r=0;r<e.length;r++)yx(t,e[r],n)}function vf(t){for(;t;){t[U]|=64;let e=rf(t);if(RS(t)&&!e)return t;t=e}return null}var Sr=class{get rootNodes(){let e=this._lView,n=e[ee];return kc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return(this._lView[U]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ne];if(Nt(e)){let n=e[bc],r=n?n.indexOf(this):-1;r>-1&&(vh(e,r),Rc(n,r))}this._attachedToViewContainer=!1}tI(this._lView[ee],this._lView)}onDestroy(e){jS(this._lView,e)}markForCheck(){vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){hw(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,hx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,HA(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e}},Mr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vx;let t=e;return t})();function vx(t){return _x(wt(),De(),(t&16)===16)}function _x(t,e,n){if(Gc(t)&&!n){let r=Hn(t.index,e);return new Sr(r,r)}else if(t.type&47){let r=e[Zt];return new Sr(r,e)}return null}var A_=new Set;function _f(t){A_.has(t)||(A_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Nh=class extends Ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=nh(s),i&&(i=nh(i)),o&&(o=nh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof be&&e.add(a),a}};function nh(t){return e=>{setTimeout(t,void 0,e)}}var We=Nh;function R_(...t){}function wx(){let t=typeof vn.requestAnimationFrame=="function",e=vn[t?"requestAnimationFrame":"setTimeout"],n=vn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var de=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=wx().nativeRequestAnimationFrame,Tx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ix,R_,R_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Ix={};function wf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ex(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ph(t),t.isCheckStableRunning=!0,wf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ph(t))}function Tx(t){let e=()=>{Ex(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Dx(a))return n.invokeTask(i,s,o,a);try{return x_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),M_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return x_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),M_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ph(t),wf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ph(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function x_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function M_(t){t._nesting--,wf(t)}var MI=new x("",{providedIn:"root",factory:NI});function NI(){let t=D(de),e=!0,n=new H(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new H(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{de.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Bd(n,r.pipe(Ps()))}function Dx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var bx=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Cx(t,e){let n=Hn(e,t),r=n[ee];Sx(r,n);let i=n[In];i!==null&&n[Dc]===null&&(n[Dc]=uf(i,n[Ai])),If(r,n,n[Mt])}function Sx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function If(t,e,n){Gh(e);try{let r=t.viewQuery;r!==null&&xh(1,r,n);let i=t.template;i!==null&&_I(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&CI(t,e),t.staticViewQueries&&xh(2,t.viewQuery,n);let s=t.components;s!==null&&Ax(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[U]&=-5,Wh()}}function Ax(t,e){for(let n=0;n<e.length;n++)Cx(t,e[n])}function Lc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=e_(i,a);else if(s==2){let c=a,u=e[++o];r=e_(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Fc=class extends su{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tr(e);return new Gs(n,this.ngModule)}};function N_(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function Rx(t){let e=t.toLowerCase();return e==="svg"?PS:e==="math"?OS:null}var Oh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hc(r);let i=this.injector.get(e,eh,r);return i!==eh||n===eh?i:this.parentInjector.get(e,n,r)}},Gs=class extends Pc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=N_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return N_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof st?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Oh(e,s):e,a=o.get(zs,null);if(a===null)throw new L(407,!1);let c=o.get(RR,null),u=o.get(bx,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?HR(d,r,this.componentDef.encapsulation,o):Xw(d,h,Rx(h)),g=4608,w=this.componentDef.onPush?576:528,y=this.componentDef.signals?g:w,T=null;f!==null&&(T=uf(f,o,!0));let j=gf(0,null,null,1,0,null,null,null,null,null,null),Y=au(null,j,null,y,null,null,l,d,o,null,T);Gh(Y);let G,Ie;try{let re=this.componentDef,Oe,zt=null;re.findHostDirectiveDefs?(Oe=[],zt=new Map,re.findHostDirectiveDefs(re,Oe,zt),Oe.push(re)):Oe=[re];let mr=xx(Y,f),li=Mx(mr,f,re,Oe,Y,l,d);Ie=uw(j,_n),f&&Ox(d,re,f,r),n!==void 0&&kx(Ie,this.ngContentSelectors,n),G=Px(li,re,Oe,zt,Y,[Lx]),If(j,Y,null)}finally{Wh()}return new kh(this.componentType,G,ou(Ie,Y),Y,Ie)}},kh=class extends Th{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Sr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;yf(s[ee],s,i,e,n),this.previousInputValues.set(e,n);let o=Hn(this._tNode.index,s);vf(o)}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xx(t,e){let n=t[ee],r=_n;return t[r]=e,to(n,r,2,"#host",null)}function Mx(t,e,n,r,i,s,o){let a=i[ee];Nx(r,t,e,o);let c=null;e!==null&&(c=uf(e,i[Ai]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=au(i,wI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Rh(a,t,r.length-1),cu(i,d),i[t.index]=d}function Nx(t,e,n,r){for(let i of t)e.mergedAttrs=Uh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lc(e,e.mergedAttrs,!0),n!==null&&sI(r,n,e))}function Px(t,e,n,r,i,s){let o=wt(),a=i[ee],c=Lt(o,i);EI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Hs(i,a,d,o);Un(h,i)}TI(a,i,o),c&&Un(c,i);let u=Hs(i,a,o.directiveStart+o.componentOffset,o);if(t[Mt]=i[Mt]=u,s!==null)for(let l of s)l(u,e);return hf(a,o,t),u}function Ox(t,e,n,r){if(r)ch(t,n,["ng-version",lf.full]);else{let{attrs:i,classes:s}=bS(e.selectors[0]);i&&ch(t,n,i),s&&s.length>0&&iI(t,n,s.join(" "))}}function kx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Lx(){let t=wt();Jc(De()[ee],t)}function PI(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function OI(t,e,n,r){return PI(t,mw(),n)?e+$c(n)+r:eo}function Pe(t,e,n){let r=De(),i=mw();if(PI(r,i,e)){let s=tn(),o=Tw();II(s,o,r,t,e,r[ke],n,!1)}return Pe}function P_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";yf(t,n,s[o],o,r)}var Xq=new RegExp(`^(\\d+)*(${TR}|${ER})*(.*)`);var Fx=(t,e)=>null;function O_(t,e){return Fx(t,e)}function Vx(t,e,n,r){let i=e.tView,o=t[U]&4096?4096:16,a=au(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[qc]=c;let u=t[$s];return u!==null&&(a[$s]=u.createEmbeddedView(i)),If(i,a,n),a}function k_(t,e){return!e||e.firstChild===null||Kw(t)}function jx(t,e,n,r=!0){let i=e[ee];if(zA(i,e,t,n),r){let o=_h(n,t),a=e[ke],c=sf(a,t[br]);c!==null&&BA(i,t[kt],a,e,c,o)}let s=e[Dc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Nr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ux;let t=e;return t})();function Ux(){let t=wt();return Bx(t,De())}var $x=Nr,kI=class extends $x{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qh(this._hostTNode,this._hostLView);if(Cw(e)){let n=Ac(e,this._hostLView),r=Sc(e),i=n[ee].data[r+8];return new Er(i,n)}else return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=L_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=O_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,k_(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!mA(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Gs(Tr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let w=(o?u:this.parentInjector).get(st,null);w&&(s=w)}let l=Tr(c.componentType??{}),d=O_(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,k_(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ne],u=new kI(c,c[kt],c[Ne]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return jx(o,i,s,r),e.attachToViewContainerRef(),Fw(rh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=L_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);r&&(Rc(rh(this._lContainer),n),tI(r[ee],r))}detach(e){let n=this._adjustIndex(e,-1),r=vh(this._lContainer,n);return r&&Rc(rh(this._lContainer),n)!=null?new Sr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function L_(t){return t[bc]}function rh(t){return t[bc]||(t[bc]=[])}function Bx(t,e){let n,r=e[t.index];return Nt(r)?n=r:(n=bI(r,e,null,t),e[t.index]=n,cu(e,n)),qx(n,e,t,r),new kI(n,t,e)}function Hx(t,e){let n=t[ke],r=n.createComment(""),i=Lt(e,t),s=sf(n,i);return Mc(n,s,r,ZA(n,i),!1),r}var qx=Wx,zx=(t,e,n)=>!1;function Gx(t,e,n){return zx(t,e,n)}function Wx(t,e,n,r){if(t[br])return;let i;n.type&8?i=Xt(r):i=Hx(e,n),t[br]=i}function Kx(t,e,n,r,i,s,o,a,c){let u=e.consts,l=to(e,t,4,o||null,Ni(u,a));mf(e,n,l,Ni(u,c)),Jc(e,l);let d=l.tView=gf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Le(t,e,n,r,i,s,o,a){let c=De(),u=tn(),l=t+_n,d=u.firstCreatePass?Kx(l,u,c,e,n,r,i,s,o):u.data[l];Ar(d,!1);let h=Qx(u,c,d,t);Qc()&&tu(u,c,h,d),Un(h,c);let f=bI(h,c,h,d);return c[l]=f,cu(c,f),Gx(f,d,c),Wc(d)&&ff(u,c,d),o!=null&&pf(c,d,a),Le}var Qx=Yx;function Yx(t,e,n,r){return Yc(!0),e[ke].createComment("")}function Jx(t,e,n,r,i,s){let o=e.consts,a=Ni(o,i),c=to(e,t,2,r,a);return mf(e,n,c,Ni(o,s)),c.attrs!==null&&Lc(c,c.attrs,!1),c.mergedAttrs!==null&&Lc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=De(),s=tn(),o=_n+t,a=i[ke],c=s.firstCreatePass?Jx(o,s,i,e,n,r):s.data[o],u=Zx(s,i,c,a,e,t);i[o]=u;let l=Wc(c);return Ar(c,!0),sI(a,u,c),(c.flags&32)!==32&&Qc()&&tu(s,i,u,c),US()===0&&Un(u,i),$S(),l&&(ff(s,i,c),hf(s,c,i)),r!==null&&pf(i,c),v}function _(){let t=wt();zh()?gw():(t=t.parent,Ar(t,!1));let e=t;qS(e)&&zS(),BS();let n=tn();return n.firstCreatePass&&(Jc(n,t),$h(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&rA(e)&&P_(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&iA(e)&&P_(n,e,De(),e.stylesWithoutHost,!1),_}function F(t,e,n,r){return v(t,e,n,r),_(),F}var Zx=(t,e,n,r,i,s)=>(Yc(!0),Xw(r,i,XS()));function Xx(t,e,n,r,i){let s=e.consts,o=Ni(s,r),a=to(e,t,8,"ng-container",o);o!==null&&Lc(a,o,!0);let c=Ni(s,i);return mf(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function qn(t,e,n){let r=De(),i=tn(),s=t+_n,o=i.firstCreatePass?Xx(s,i,r,e,n):i.data[s];Ar(o,!0);let a=eM(i,r,o,t);return r[s]=a,Qc()&&tu(i,r,a,o),Un(a,r),Wc(o)&&(ff(i,r,o),hf(i,o,r)),n!=null&&pf(r,o),qn}function zn(){let t=wt(),e=tn();return zh()?gw():(t=t.parent,Ar(t,!1)),e.firstCreatePass&&(Jc(e,t),$h(t)&&e.queries.elementEnd(t)),zn}var eM=(t,e,n,r)=>(Yc(!0),UA(e[ke],""));function Ef(){return De()}var Vc="en-US";var tM=Vc;function nM(t){tS(t,"Expected localeId to be defined"),typeof t=="string"&&(tM=t.toLowerCase().replace(/_/g,"-"))}function no(t){return!!t&&typeof t.then=="function"}function LI(t){return!!t&&typeof t.subscribe=="function"}function It(t,e,n,r){let i=De(),s=tn(),o=wt();return iM(s,i,i[ke],o,t,e,r),It}function rM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[js],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function iM(t,e,n,r,i,s,o){let a=Wc(r),u=t.firstCreatePass&&ux(t),l=e[Mt],d=cx(e),h=!0;if(r.type&3||o){let w=Lt(r,e),y=o?o(w):w,T=d.length,j=o?G=>o(Xt(G[r.index])):r.index,Y=null;if(!o&&a&&(Y=rM(t,e,i,r.index)),Y!==null){let G=Y.__ngLastListenerFn__||Y;G.__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,h=!1}else{s=V_(r,e,l,s,!1);let G=n.listen(y,i,s);d.push(s,G),u&&u.push(i,j,T,T+1)}}else s=V_(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let w=g.length;if(w)for(let y=0;y<w;y+=2){let T=g[y],j=g[y+1],Ie=e[T][j].subscribe(s),re=d.length;d.push(s,Ie),u&&u.push(i,r.index,re,-(re+1))}}}function F_(t,e,n,r){try{return Qt(6,e,n),n(r)!==!1}catch(i){return SI(t,i),!1}finally{Qt(7,e,n)}}function V_(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Hn(t.index,e):e;vf(a);let c=F_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=F_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function uu(t=1){return ZS(t)}function Gn(t,e,n,r,i){let s=De(),o=OI(s,e,n,r);if(o!==eo){let a=tn(),c=Tw();II(a,c,s,t,o,s[ke],i,!1)}return Gn}function I(t,e=""){let n=De(),r=tn(),i=t+_n,s=r.firstCreatePass?to(r,i,1,e,null):r.data[i],o=sM(r,n,s,e,t);n[i]=o,Qc()&&tu(r,n,o,s),Ar(s,!1)}var sM=(t,e,n,r,i)=>(Yc(!0),VA(e[ke],r));function Be(t){return fe("",t,""),Be}function fe(t,e,n){let r=De(),i=OI(r,t,e,n);return i!==eo&&lx(r,Kh(),i),fe}var Bn=class{},Ws=class{};var Lh=class extends Bn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fc(this);let i=tw(e);this._bootstrapComponents=Ww(i.bootstrap),this._r3Injector=qw(e,n,[{provide:Bn,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Fh=class extends Ws{constructor(e){super(),this.moduleType=e}create(e){return new Lh(this.moduleType,e,[])}};var jc=class extends Bn{constructor(e){super(),this.componentFactoryResolver=new Fc(this),this.instance=null;let n=new qs([...e.providers,{provide:Bn,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],e.parent||Zh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tf(t,e,n=null){return new jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var oM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=$w(!1,r.type),s=i.length>0?Tf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(R(st))});let t=e;return t})();function at(t){_f("NgStandalone"),t.getStandaloneInjector=e=>e.get(oM).getOrCreateStandaloneInjector(t)}var Li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uM;let t=e;return t})(),aM=Li,cM=class extends aM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Vx(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Sr(i)}};function uM(){return lM(wt(),De())}function lM(t,e){return t.type&4?new cM(e,t,ou(t,e)):null}var lu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ro=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Df=(()=>{let e=class e{compileModuleSync(r){return new Fh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=tw(r),o=Ww(s.declarations).reduce((a,c)=>{let u=Tr(c);return u&&a.push(new Gs(u)),a},[]);return new Vh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FI=new x("");var bf=new x("Application Initializer"),VI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(bf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(no(o))r.push(o);else if(LI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),du=new x("appBootstrapListener");function dM(){Av(()=>{throw new L(600,!1)})}function hM(t){return t.isBoundToModule}function fM(t,e,n){try{let r=n();return no(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Fi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(gI),this.zoneIsStable=D(MI),this.componentTypes=[],this.components=[],this.isStable=D(ro).hasPendingTasks.pipe(Te(r=>r?O(!1):this.zoneIsStable),uc()),this._injector=D(st)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Pc;if(!this._injector.get(VI).done){let g="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&ew(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new L(405,!1)}let a;s?a=r:a=this._injector.get(su).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=hM(a)?void 0:this._injector.get(Bn),u=i||a.selector,l=a.create(Vt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(FI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ih(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ih(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(du,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ih(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new L(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ih(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var pM=(()=>{let e=class e{constructor(){this.zone=D(de),this.applicationRef=D(Fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gM(t){return[{provide:de,useFactory:t},{provide:Ys,multi:!0,useFactory:()=>{let e=D(pM,{optional:!0});return()=>e.initialize()}},{provide:gI,useFactory:mM},{provide:MI,useFactory:NI}]}function mM(){let t=D(de),e=D(wn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function yM(t){let e=gM(()=>new de(vM(t)));return lt([[],e])}function vM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function _M(){return typeof $localize<"u"&&$localize.locale||Vc}var Cf=new x("LocaleId",{providedIn:"root",factory:()=>D(Cf,J.Optional|J.SkipSelf)||_M()});var jI=new x("PlatformDestroyListeners");var Ic=null;function wM(t=[],e){return Vt.create({name:e,providers:[{provide:eu,useValue:"platform"},{provide:jI,useValue:new Set([()=>Ic=null])},...t]})}function IM(t=[]){if(Ic)return Ic;let e=wM(t);return Ic=e,dM(),EM(e),e}function EM(t){t.get(ef,null)?.forEach(n=>n())}function UI(){return!1}function $I(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=IM(r),s=[yM(),...n||[]],a=new jc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(de);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(wn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(jI);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),fM(u,c,()=>{let f=a.get(VI);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Cf,Vc);nM(g||Vc);let w=a.get(Fi);return e!==void 0&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}var Sf=null;function Vi(){return Sf}function zI(t){Sf||(Sf=t)}var hu=class{},Xe=new x("DocumentToken"),GI=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>D(SM))(),providedIn:"platform"});let t=e;return t})();var SM=(()=>{let e=class e extends GI{constructor(){super(),this._doc=D(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vi().getBaseHref(this._doc)}onPopState(r){let i=Vi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Vi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function WI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}var fu=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>D(KI))(),providedIn:"root"});let t=e;return t})(),AM=new x("appBaseHref"),KI=(()=>{let e=class e extends fu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return WI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(GI),R(AM,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var io=(()=>{let e=class e{constructor(r){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=MM(BI(HI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(xM(this._basePath,HI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=WI,e.stripTrailingSlash=BI,e.\u0275fac=function(i){return new(i||e)(R(fu))},e.\u0275prov=M({token:e,factory:()=>RM(),providedIn:"root"});let t=e;return t})();function RM(){return new io(R(fu))}function xM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function HI(t){return t.replace(/\/index.html$/,"")}function MM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function pu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Af=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Af(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),qI(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);qI(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Ce(Nr),Ce(Li),Ce(df))},e.\u0275dir=Pi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qI(t,e){t.context.$implicit=e.item}var Dn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Pt({});let t=e;return t})(),QI="browser",NM="server";function Rf(t){return t===NM}var ji=class{};var ao=class{},mu=class{},Or=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Mf=class{encodeKey(e){return YI(e)}encodeValue(e){return YI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function kM(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var LM=/%(\d[a-f0-9])/gi,FM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YI(t){return encodeURIComponent(t).replace(LM,(e,n)=>FM[n]??e)}function gu(t){return`${t}`}var Kn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=kM(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(gu):[gu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(gu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(gu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Nf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function VM(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ZI(t){return typeof Blob<"u"&&t instanceof Blob}function XI(t){return typeof FormData<"u"&&t instanceof FormData}function jM(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var oo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(VM(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Or),this.context||(this.context=new Nf),!this.params)this.params=new Kn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:JI(this.body)||ZI(this.body)||XI(this.body)||jM(this.body)||typeof this.body=="string"?this.body:this.body instanceof Kn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XI(this.body)?null:ZI(this.body)?this.body.type||null:JI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Kn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},Ui=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ui||{}),co=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Or,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pf=class t extends co{constructor(e={}){super(e),this.type=Ui.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},yu=class t extends co{constructor(e={}){super(e),this.type=Ui.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vu=class extends co{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function xf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Of=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof oo)o=r;else{let u;s.headers instanceof Or?u=s.headers:u=new Or(s.headers);let l;s.params&&(s.params instanceof Kn?l=s.params:l=new Kn({fromObject:s.params})),o=new oo(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=O(o).pipe(Ln(u=>this.handler.handle(u)));if(r instanceof oo||s.observe==="events")return a;let c=a.pipe(rt(u=>u instanceof yu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(k(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(k(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(k(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(k(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Kn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,xf(s,i))}post(r,i,s={}){return this.request("POST",r,xf(s,i))}put(r,i,s={}){return this.request("PUT",r,xf(s,i))}};e.\u0275fac=function(i){return new(i||e)(R(ao))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function UM(t,e){return e(t)}function $M(t,e,n){return(r,i)=>En(n,()=>e(r,s=>t(s,i)))}var nE=new x(""),BM=new x(""),HM=new x("");var eE=(()=>{let e=class e extends ao{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=D(ro);let s=D(HM,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(nE),...this.injector.get(BM,[])]));this.chain=s.reduceRight((o,a)=>$M(o,a,this.injector),UM)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Ir(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(R(mu),R(st))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();var qM=/^\)\]\}',?\n/;function zM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var tE=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new L(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?le(i.\u0275loadImpl()):O(null)).pipe(Te(()=>new H(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,T)=>a.setRequestHeader(y,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let y=r.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(r.responseType){let y=r.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let y=a.statusText||"OK",T=new Or(a.getAllResponseHeaders()),j=zM(a)||r.url;return u=new Pf({headers:T,status:a.status,statusText:y,url:j}),u},d=()=>{let{headers:y,status:T,statusText:j,url:Y}=l(),G=null;T!==204&&(G=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=G?200:0);let Ie=T>=200&&T<300;if(r.responseType==="json"&&typeof G=="string"){let re=G;G=G.replace(qM,"");try{G=G!==""?JSON.parse(G):null}catch(Oe){G=re,Ie&&(Ie=!1,G={error:Oe,text:G})}}Ie?(o.next(new yu({body:G,headers:y,status:T,statusText:j,url:Y||void 0})),o.complete()):o.error(new vu({error:G,headers:y,status:T,statusText:j,url:Y||void 0}))},h=y=>{let{url:T}=l(),j=new vu({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});o.error(j)},f=!1,g=y=>{f||(o.next(l()),f=!0);let T={type:Ui.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(T.total=y.total),r.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),o.next(T)},w=y=>{let T={type:Ui.UploadProgress,loaded:y.loaded};y.lengthComputable&&(T.total=y.total),o.next(T)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(c),o.next({type:Ui.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(R(ji))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),rE=new x("XSRF_ENABLED"),GM="XSRF-TOKEN",WM=new x("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>GM}),KM="X-XSRF-TOKEN",QM=new x("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>KM}),_u=class{},YM=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=pu(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(R(Xe),R(nn),R(WM))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function JM(t,e){let n=t.url.toLowerCase();if(!D(rE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=D(_u).getToken(),i=D(QM);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function iE(...t){let e=[Of,tE,eE,{provide:ao,useExisting:eE},{provide:mu,useExisting:tE},{provide:nE,useValue:JM,multi:!0},{provide:rE,useValue:!0},{provide:_u,useClass:YM}];for(let n of t)e.push(...n.\u0275providers);return lt(e)}var Ff=class extends hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vf=class t extends Ff{static makeCurrent(){zI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZM();return n==null?null:XM(n)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pu(document.cookie,e)}},uo=null;function ZM(){return uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null}function XM(t){return new URL(t,document.baseURI).pathname}var eN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),jf=new x("EventManagerPlugins"),cE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(jf),R(de))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),wu=class{constructor(e){this._doc=e}},kf="ng-app-id",uE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${kf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(kf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(kf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(Xe),R(Xh),R(tf,8),R(nn))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Lf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$f=/%COMP%/g,lE="%COMP%",tN=`_nghost-${lE}`,nN=`_ngcontent-${lE}`,rN=!0,iN=new x("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>rN});function sN(t){return nN.replace($f,t)}function oN(t){return tN.replace($f,t)}function dE(t,e){return e.map(n=>n.replace($f,t))}var sE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Rf(c),this.defaultRenderer=new lo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=ce(C({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Iu?s.applyToHost(r):s instanceof ho&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new Iu(u,l,i,this.appId,d,a,c,h);break;case Jt.ShadowDom:return new Uf(u,l,r,i,a,c,this.nonce,h);default:o=new ho(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(cE),R(uE),R(Xh),R(iN),R(Xe),R(nn),R(de),R(tf))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),lo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Lf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Lf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rr.DashCase|Rr.Important)?e.style.setProperty(n,r,i&Rr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function oE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Uf=class extends lo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=dE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ho=class extends lo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?dE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Iu=class extends ho{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=sN(u),this.hostAttr=oN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},aN=(()=>{let e=class e extends wu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(Xe))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),aE=["alt","control","meta","shift"],cN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lN=(()=>{let e=class e extends wu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),aE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=cN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),aE.forEach(a=>{if(a!==s){let c=uN[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(Xe))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function hE(t,e){return $I(C({rootComponent:t},dN(e)))}function dN(t){return{appProviders:[...mN,...t?.providers??[]],platformProviders:gN}}function hN(){Vf.makeCurrent()}function fN(){return new wn}function pN(){return zw(document),document}var gN=[{provide:nn,useValue:QI},{provide:ef,useValue:hN,multi:!0},{provide:Xe,useFactory:pN,deps:[]}];var mN=[{provide:eu,useValue:"root"},{provide:wn,useFactory:fN,deps:[]},{provide:jf,useClass:aN,multi:!0,deps:[Xe,de,nn]},{provide:jf,useClass:lN,multi:!0,deps:[Xe]},sE,uE,cE,{provide:zs,useExisting:sE},{provide:ji,useClass:eN,deps:[]},[]];function yN(){return new Bf(R(Xe))}var Bf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(Xe))},e.\u0275prov=M({token:e,factory:function(i){let s=null;return i?s=new i:s=yN(),s},providedIn:"root"});let t=e;return t})();var pE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_N=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_N(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new qf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wN=function(t){let e=pE(t);return gE.encodeByteArray(e,!0)},fo=function(t){return wN(t).replace(/\./g,"")},Gf=function(t){try{return gE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EN=()=>IN().__FIREBASE_DEFAULTS__,TN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Gf(t[1]);return e&&JSON.parse(e)},Wf=()=>{try{return EN()||TN()||DN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,n;return(n=(e=Wf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yE=t=>{let e=mE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kf=()=>{var t;return(t=Wf())===null||t===void 0?void 0:t.config},vE=t=>{var e;return(e=Wf())===null||e===void 0?void 0:e[`_${t}`]};var Eu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function _E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fo(JSON.stringify(n)),fo(JSON.stringify(o)),a].join(".")}function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function IE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qf(){try{return typeof indexedDB=="object"}catch{return!1}}function TE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var bN="FirebaseError",Et=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}},bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Et(i,a,r)}};function CN(t,e){return t.replace(SN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var SN=/\{\$([^}]+)}/g;function $i(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fE(s)&&fE(o)){if(!$i(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fE(t){return t!==null&&typeof t=="object"}function Yf(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DE(t,e){let n=new zf(t,e);return n.subscribe.bind(n)}var zf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hf),i.error===void 0&&(i.error=Hf),i.complete===void 0&&(i.complete=Hf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hf(){}var c3=4*60*60*1e3;function dt(t){return t&&t._delegate?t._delegate:t}var Dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kr="[DEFAULT]";var Jf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xN(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RN(t){return t===kr?void 0:t}function xN(t){return t.instantiationMode==="EAGER"}var Tu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Jf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var MN=[],Z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Z||{}),NN={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},PN=Z.INFO,ON={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},kN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ON[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qn=class{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=kN,this._userLogHandler=null,MN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}};var LN=(t,e)=>e.some(n=>t instanceof n),bE,CE;function FN(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VN(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SE=new WeakMap,Xf=new WeakMap,AE=new WeakMap,Zf=new WeakMap,tp=new WeakMap;function jN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SE.set(n,t)}).catch(()=>{}),tp.set(e,t),e}function UN(t){if(Xf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xf.set(t,e)}var ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RE(t){ep=t(ep)}function $N(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Du(this),e,...n);return AE.set(r,e.sort?e.sort():[e]),rn(r)}:VN().includes(t)?function(...e){return t.apply(Du(this),e),rn(SE.get(this))}:function(...e){return rn(t.apply(Du(this),e))}}function BN(t){return typeof t=="function"?$N(t):(t instanceof IDBTransaction&&UN(t),LN(t,FN())?new Proxy(t,ep):t)}function rn(t){if(t instanceof IDBRequest)return jN(t);if(Zf.has(t))return Zf.get(t);let e=BN(t);return e!==t&&(Zf.set(t,e),tp.set(e,t)),e}var Du=t=>tp.get(t);function ME(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=rn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(rn(o.result),c.oldVersion,c.newVersion,rn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var HN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],np=new Map;function xE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=qN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HN.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return np.set(e,s),s}RE(t=>ce(C({},t),{get:(e,n,r)=>xE(e,n)||t.get(e,n,r),has:(e,n)=>!!xE(e,n)||t.has(e,n)}));var ip=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zN(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function zN(t){let e=t.getComponent();return e?.type==="VERSION"}var sp="@firebase/app",NE="0.9.25";var Lr=new Qn("@firebase/app"),GN="@firebase/app-compat",WN="@firebase/analytics-compat",KN="@firebase/analytics",QN="@firebase/app-check-compat",YN="@firebase/app-check",JN="@firebase/auth",ZN="@firebase/auth-compat",XN="@firebase/database",eP="@firebase/database-compat",tP="@firebase/functions",nP="@firebase/functions-compat",rP="@firebase/installations",iP="@firebase/installations-compat",sP="@firebase/messaging",oP="@firebase/messaging-compat",aP="@firebase/performance",cP="@firebase/performance-compat",uP="@firebase/remote-config",lP="@firebase/remote-config-compat",dP="@firebase/storage",hP="@firebase/storage-compat",fP="@firebase/firestore",pP="@firebase/firestore-compat",gP="firebase",mP="10.7.1";var op="[DEFAULT]",yP={[sp]:"fire-core",[GN]:"fire-core-compat",[KN]:"fire-analytics",[WN]:"fire-analytics-compat",[YN]:"fire-app-check",[QN]:"fire-app-check-compat",[JN]:"fire-auth",[ZN]:"fire-auth-compat",[XN]:"fire-rtdb",[eP]:"fire-rtdb-compat",[tP]:"fire-fn",[nP]:"fire-fn-compat",[rP]:"fire-iid",[iP]:"fire-iid-compat",[sP]:"fire-fcm",[oP]:"fire-fcm-compat",[aP]:"fire-perf",[cP]:"fire-perf-compat",[uP]:"fire-rc",[lP]:"fire-rc-compat",[dP]:"fire-gcs",[hP]:"fire-gcs-compat",[fP]:"fire-fst",[pP]:"fire-fst-compat","fire-js":"fire-js",[gP]:"fire-js-all"};var po=new Map,ap=new Map;function vP(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){let e=t.name;if(ap.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,t);for(let n of po.values())vP(n,t);return!0}function dp(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var _P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yn=new bn("app","Firebase",_P);var cp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Bi=mP;function hp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Kf()),!n)throw Yn.create("no-options");let s=po.get(i);if(s){if($i(n,s.options)&&$i(r,s.config))return s;throw Yn.create("duplicate-app",{appName:i})}let o=new Tu(i);for(let c of ap.values())o.addComponent(c);let a=new cp(n,r,o);return po.set(i,a),a}function mo(t=op){let e=po.get(t);if(!e&&t===op&&Kf())return hp();if(!e)throw Yn.create("no-app",{appName:t});return e}function bu(){return Array.from(po.values())}function Fe(t,e,n){var r;let i=(r=yP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}Jn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var wP="firebase-heartbeat-database",IP=1,go="firebase-heartbeat-store",rp=null;function LE(){return rp||(rp=ME(wP,IP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(go)}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),rp}function EP(t){return p(this,null,function*(){try{return yield(yield LE()).transaction(go).objectStore(go).get(FE(t))}catch(e){if(e instanceof Et)Lr.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(n.message)}}})}function PE(t,e){return p(this,null,function*(){try{let r=(yield LE()).transaction(go,"readwrite");yield r.objectStore(go).put(e,FE(t)),yield r.done}catch(n){if(n instanceof Et)Lr.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});Lr.warn(r.message)}}})}function FE(t){return`${t.name}!${t.options.appId}`}var TP=1024,DP=30*24*60*60*1e3,up=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new lp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=OE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=DP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=OE(),{heartbeatsToSend:r,unsentEntries:i}=bP(this._heartbeatsCache.heartbeats),s=fo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function OE(){return new Date().toISOString().substring(0,10)}function bP(t,e=TP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var lp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Qf()?TE().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kE(t){return fo(JSON.stringify({version:2,heartbeats:t})).length}function CP(t){Jn(new Dt("platform-logger",e=>new ip(e),"PRIVATE")),Jn(new Dt("heartbeat",e=>new up(e),"PRIVATE")),Fe(sp,NE,t),Fe(sp,NE,"esm2017"),Fe("fire-js","")}CP("");var SP="firebase",AP="10.7.1";Fe(SP,AP,"app");var qi=new $n("ANGULARFIRE2_VERSION");function pp(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var vo=(t,e)=>{let n=e?[e]:bu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},yo=class{constructor(){return vo(RP)}},RP="app-check";function Hi(){}var Cu=class{zone;delegate;constructor(e,n=Vd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},fp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)),n.pipe(me({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_o=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=n.run(()=>new Cu(Zone.current,Ha)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(de))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Su(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function xP(t){return Su().ngZone.runOutsideAngular(()=>t())}function Fr(t){return Su().ngZone.run(()=>t())}function MP(t){return NP(Su())(t)}function NP(t){return function(n){return n=n.lift(new fp(t.ngZone)),n.pipe(kn(t.outsideAngular),On(t.insideAngular))}}var PP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fr(()=>t.apply(void 0,r))},Zn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi))),r[s]=PP(r[s],n));let i=xP(()=>t.apply(this,r));if(!e)if(i instanceof H){let s=Su();return i.pipe(kn(s.outsideAngular),On(s.insideAngular))}else return Fr(()=>i);return i instanceof H?i.pipe(MP):i instanceof Promise?Fr(()=>new Promise((s,o)=>i.then(a=>Fr(()=>s(a)),a=>Fr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Fr(()=>i)};var Vr=class{constructor(e){return e}},wo=class{constructor(){return bu()}};function OP(t){return t&&t.length===1?t[0]:new Vr(mo())}var gp=new x("angularfire2._apps"),kP={provide:Vr,useFactory:OP,deps:[[new Ft,gp]]},LP={provide:wo,deps:[[new Ft,gp]]};function FP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vr(r)}}var VP=(()=>{class t{constructor(n){Fe("angularfire",qi.full,"core"),Fe("angularfire",qi.full,"app"),Fe("angular",lf.full,n.toString())}static \u0275fac=function(r){return new(r||t)(R(nn))};static \u0275mod=Ot({type:t});static \u0275inj=Pt({providers:[kP,LP]})}return t})();function VE(t,...e){return{ngModule:VP,providers:[{provide:gp,useFactory:FP(t),multi:!0,deps:[de,Vt,_o,...e]}]}}var jE=Zn(hp,!0);var K="primary",ko=Symbol("RouteTitle"),wp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qi(t){return new wp(t)}function jP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?Ip(t):void 0,r=e?Ip(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!zE(t[i],e[i]))return!1;return!0}function Ip(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function GE(t){return t.length>0?t[t.length-1]:null}function tr(t){return $d(t)?t:no(t)?le(Promise.resolve(t)):O(t)}var $P={exact:KE,subset:QE},WE={exact:BP,subset:HP,ignored:()=>!0};function UE(t,e,n){return $P[n.paths](t.root,e.root,n.matrixParams)&&WE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function BP(t,e){return sn(t,e)}function KE(t,e,n){if(!Ur(t.segments,e.segments)||!xu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!KE(t.children[r],e.children[r],n))return!1;return!0}function HP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zE(t[n],e[n]))}function QE(t,e,n){return YE(t,e,e.segments,n)}function YE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ur(i,n)||e.hasChildren()||!xu(i,n,r))}else if(t.segments.length===n.length){if(!Ur(t.segments,n)||!xu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!QE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ur(t.segments,i)||!xu(t.segments,i,r)||!t.children[K]?!1:YE(t.children[K],e,s,r)}}function xu(t,e,n){return e.every((r,i)=>WE[n](t[i].parameters,r.parameters))}var Xn=class{constructor(e=new se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qi(this.queryParams)),this._queryParamMap}toString(){return GP.serialize(this)}},se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mu(this)}},jr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Qi(this.parameters)),this._parameterMap}toString(){return ZE(this)}};function qP(t,e){return Ur(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function Ur(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var Gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>new Pu)(),providedIn:"root"});let t=e;return t})(),Pu=class{parse(e){let n=new Tp(e);return new Xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Io(e.root,!0)}`,r=QP(e.queryParams),i=typeof e.fragment=="string"?`#${WP(e.fragment)}`:"";return`${n}${r}${i}`}},GP=new Pu;function Mu(t){return t.segments.map(e=>ZE(e)).join("/")}function Io(t,e){if(!t.hasChildren())return Mu(t);if(e){let n=t.children[K]?Io(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Io(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zP(t,(r,i)=>i===K?[Io(t.children[K],!1)]:[`${i}:${Io(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Mu(t)}/${n[0]}`:`${Mu(t)}/(${n.join("//")})`}}function JE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(t){return JE(t).replace(/%3B/gi,";")}function WP(t){return encodeURI(t)}function Ep(t){return JE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nu(t){return decodeURIComponent(t)}function $E(t){return Nu(t.replace(/\+/g,"%20"))}function ZE(t){return`${Ep(t.path)}${KP(t.parameters)}`}function KP(t){return Object.keys(t).map(e=>`;${Ep(e)}=${Ep(t[e])}`).join("")}function QP(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Au(n)}=${Au(i)}`).join("&"):`${Au(n)}=${Au(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var YP=/^[^\/()?;#]+/;function mp(t){let e=t.match(YP);return e?e[0]:""}var JP=/^[^\/()?;=#]+/;function ZP(t){let e=t.match(JP);return e?e[0]:""}var XP=/^[^=?&#]+/;function eO(t){let e=t.match(XP);return e?e[0]:""}var tO=/^[^&#]+/;function nO(t){let e=t.match(tO);return e?e[0]:""}var Tp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new se(e,n)),r}parseSegment(){let e=mp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new jr(Nu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=mp(this.remaining);i&&(r=i,this.capture(r))}e[Nu(n)]=Nu(r)}parseQueryParam(e){let n=eO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=nO(this.remaining);o&&(r=o,this.capture(r))}let i=$E(n),s=$E(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function XE(t){return t.segments.length>0?new se([],{[K]:t}):t}function eT(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=eT(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new se(t.segments,e);return rO(n)}function rO(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new se(t.segments.concat(e.segments),e.children)}return t}function Yi(t){return t instanceof Xn}function iO(t,e,n=null,r=null){let i=tT(t);return nT(i,e,n,r)}function tT(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new se(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=XE(r);return e??i}function nT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return yp(i,i,i,n,r);let s=sO(e);if(s.toRoot())return yp(i,i,new se([],{}),n,r);let o=oO(s,i,t),a=o.processChildren?Do(o.segmentGroup,o.index,s.commands):iT(o.segmentGroup,o.index,s.commands);return yp(i,o.segmentGroup,a,n,r)}function Ou(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function So(t){return typeof t=="object"&&t!=null&&t.outlets}function yp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=rT(t,e,n);let a=XE(eT(o));return new Xn(a,s,i)}function rT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=rT(s,e,n)}),new se(t.segments,r)}var ku=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ou(r[0]))throw new L(4003,!1);let i=r.find(So);if(i&&i!==GE(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ku(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ku(n,e,r)}var Wi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function oO(t,e,n){if(t.isAbsolute)return new Wi(e,!0,0);if(!n)return new Wi(e,!1,NaN);if(n.parent===null)return new Wi(n,!0,0);let r=Ou(t.commands[0])?0:1,i=n.segments.length-1+r;return aO(n,i,t.numberOfDoubleDots)}function aO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Wi(r,!1,i-s)}function cO(t){return So(t[0])?t[0].outlets:{[K]:t}}function iT(t,e,n){if(t||(t=new se([],{})),t.segments.length===0&&t.hasChildren())return Do(t,e,n);let r=uO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new se(t.segments.slice(r.pathIndex),t.children),Do(s,0,i)}else return r.match&&i.length===0?new se(t.segments,{}):r.match&&!t.hasChildren()?Dp(t,e,n):r.match?Do(t,0,i):Dp(t,e,n)}function Do(t,e,n){if(n.length===0)return new se(t.segments,{});{let r=cO(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Do(t.children[K],e,n);return new se(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=iT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new se(t.segments,i)}}function uO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(So(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!HE(c,u,o))return s;r+=2}else{if(!HE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Dp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(So(s)){let c=lO(s.outlets);return new se(r,c)}if(i===0&&Ou(n[0])){let c=t.segments[e];r.push(new jr(c.path,BE(n[0]))),i++;continue}let o=So(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ou(a)?(r.push(new jr(o,BE(a))),i+=2):(r.push(new jr(o,{})),i++)}return new se(r,{})}function lO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Dp(new se([],{}),0,r))}),e}function BE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function HE(t,e,n){return t==n.path&&sn(e,n.parameters)}var bo="imperative",bt=class{constructor(e,n){this.id=e,this.url=n}},Ao=class extends bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$r=class extends bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},er=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Br=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Ro=class extends bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lu=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class extends bt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sp=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ap=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rp=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xp=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mp=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pp=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Op=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xo=class{},Mo=class{constructor(e){this.url=e}};var kp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bu,this.attachRef=null}},Bu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new kp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Lp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Lp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fp(e,this._root).map(n=>n.value)}};function Lp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Lp(t,n);if(r)return r}return null}function Fp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fp(t,n);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vu=class extends Fu{constructor(e,n){super(e),this.snapshot=n,Kp(this,e)}toString(){return this.snapshot.toString()}};function sT(t,e){let n=dO(t,e),r=new xe([new jr("",{})]),i=new xe({}),s=new xe({}),o=new xe({}),a=new xe(""),c=new Ji(r,i,o,a,s,K,e,n.root);return c.snapshot=n.root,new Vu(new ht(c,[]),n)}function dO(t,e){let n={},r={},i={},s="",o=new No([],n,i,s,r,K,e,null,{});return new ju("",new ht(o,[]))}var Ji=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(k(u=>u[ko]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(k(e=>Qi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(k(e=>Qi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:C(C({},t.data),t._resolvedData??{})},i&&aT(i)&&(r.resolve[ko]=i.title),r}var No=class{get title(){return this.data?.[ko]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qi(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ju=class extends Fu{constructor(e,n){super(n),this.url=e,Kp(this,n)}toString(){return oT(this._root)}};function Kp(t,e){e.value._routerState=t,e.children.forEach(n=>Kp(t,n))}function oT(t){let e=t.children.length>0?` { ${t.children.map(oT).join(", ")} } `:"";return`${t.value}${e}`}function vp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),UP(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vp(t,e){let n=sn(t.params,e.params)&&qP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vp(t.parent,e.parent))}function aT(t){return typeof t.title=="string"||t.title===null}var hO=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=D(Bu),this.location=D(Nr),this.changeDetector=D(Mr),this.environmentInjector=D(st),this.inputBinder=D(Qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new jp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Pi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]});let t=e;return t})(),jp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ji?this.route:e===Bu?this.childContexts:this.parent.get(e,n)}},Qp=new x("");function fO(t,e,n){let r=Po(t,e._root,n?n._root:void 0);return new Vu(r,e)}function Po(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=pO(t,e,n);return new ht(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Po(t,a)),o}}let r=gO(e.value),i=e.children.map(s=>Po(t,s));return new ht(r,i)}}function pO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Po(t,r,i);return Po(t,r)})}function gO(t){return new Ji(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var cT="ngNavigationCancelingError";function uT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lT(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lT(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[cT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function mO(t){return dT(t)&&Yi(t.url)}function dT(t){return t&&t[cT]}var yO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["ng-component"]],standalone:!0,features:[at],decls:1,vars:0,template:function(i,s){i&1&&F(0,"router-outlet")},dependencies:[hO],encapsulation:2});let t=e;return t})();function vO(t,e){return t.providers&&!t._injector&&(t._injector=Tf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yp(t){let e=t.children&&t.children.map(Yp),n=e?ce(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=yO),n}function on(t){return t.outlet||K}function _O(t,e){let n=t.filter(r=>on(r)===e);return n.push(...t.filter(r=>on(r)!==e)),n}function Lo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wO=(t,e,n,r)=>k(i=>(new Up(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Up=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gi(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gi(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Op(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Np(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(vp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Lo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ki=class{constructor(e,n){this.component=e,this.route=n}};function IO(t,e,n){let r=t._root,i=e?e._root:null;return Eo(r,i,n,[r.value])}function EO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!H_(t)?t:e.get(t):r}function Eo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Gi(e);return t.children.forEach(o=>{TO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Co(a,n.getContext(o),i)),i}function TO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=DO(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Uu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Eo(t,e,a?a.children:null,r,i):Eo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ki(a.outlet.component,o))}else o&&Co(e,a,i),i.canActivateChecks.push(new Uu(r)),s.component?Eo(t,null,a?a.children:null,r,i):Eo(t,null,n,r,i);return i}function DO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ur(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ur(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vp(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!Vp(t,e)}}function Co(t,e,n){let r=Gi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Co(o,e.children.getContext(s),n):Co(o,null,n):Co(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ki(e.outlet.component,i)):n.canDeactivateChecks.push(new Ki(null,i)):n.canDeactivateChecks.push(new Ki(null,i))}function Fo(t){return typeof t=="function"}function bO(t){return typeof t=="boolean"}function CO(t){return t&&Fo(t.canLoad)}function SO(t){return t&&Fo(t.canActivate)}function AO(t){return t&&Fo(t.canActivateChild)}function RO(t){return t&&Fo(t.canDeactivate)}function xO(t){return t&&Fo(t.canMatch)}function hT(t){return t instanceof yn||t?.name==="EmptyError"}var Ru=Symbol("INITIAL_VALUE");function Zi(){return Te(t=>Ii(t.map(e=>e.pipe(mt(1),hc(Ru)))).pipe(k(e=>{for(let n of e)if(n!==!0){if(n===Ru)return Ru;if(n===!1||n instanceof Xn)return n}return!0}),rt(e=>e!==Ru),mt(1)))}function MO(t,e){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(ce(C({},n),{guardsResult:!0})):NO(o,r,i,t).pipe(Me(a=>a&&bO(a)?PO(r,s,t,e):O(a)),k(a=>ce(C({},n),{guardsResult:a})))})}function NO(t,e,n,r){return le(t).pipe(Me(i=>VO(i.component,i.route,n,e,r)),Wt(i=>i!==!0,!0))}function PO(t,e,n,r){return le(e).pipe(Ln(i=>Ei(kO(i.route.parent,r),OO(i.route,r),FO(t,i.path,n),LO(t,i.route,n))),Wt(i=>i!==!0,!0))}function OO(t,e){return t!==null&&e&&e(new Pp(t)),O(!0)}function kO(t,e){return t!==null&&e&&e(new Mp(t)),O(!0)}function LO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>ac(()=>{let o=Lo(e)??n,a=Xi(s,o),c=SO(a)?a.canActivate(e,t):En(o,()=>a(e,t));return tr(c).pipe(Wt())}));return O(i).pipe(Zi())}function FO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>EO(o)).filter(o=>o!==null).map(o=>ac(()=>{let a=o.guards.map(c=>{let u=Lo(o.node)??n,l=Xi(c,u),d=AO(l)?l.canActivateChild(r,t):En(u,()=>l(r,t));return tr(d).pipe(Wt())});return O(a).pipe(Zi())}));return O(s).pipe(Zi())}function VO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let c=Lo(e)??i,u=Xi(a,c),l=RO(u)?u.canDeactivate(t,e,n,r):En(c,()=>u(t,e,n,r));return tr(l).pipe(Wt())});return O(o).pipe(Zi())}function jO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=Xi(o,t),c=CO(a)?a.canLoad(e,n):En(t,()=>a(e,n));return tr(c)});return O(s).pipe(Zi(),fT(r))}function fT(t){return ja(me(e=>{if(Yi(e))throw uT(t,e)}),k(e=>e===!0))}function UO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=Xi(o,t),c=xO(a)?a.canMatch(e,n):En(t,()=>a(e,n));return tr(c)});return O(s).pipe(Zi(),fT(r))}var Oo=class{constructor(e){this.segmentGroup=e||null}},$u=class extends Error{constructor(e){super(),this.urlTree=e}};function zi(t){return wi(new Oo(t))}function $O(t){return wi(new L(4e3,!1))}function BO(t){return wi(lT(!1,3))}var $p=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[K])return $O(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $u(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Xn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HO(t,e,n,r,i){let s=Jp(t,e,n);return s.matched?(r=vO(e,r),UO(r,e,n,i).pipe(k(o=>o===!0?s:C({},Bp)))):O(s)}function Jp(t,e,n){if(e.path==="**")return qO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},Bp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jP)(n,t,e);if(!i)return C({},Bp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?C(C({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function qO(t){return{matched:!0,parameters:t.length>0?GE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qE(t,e,n,r){return n.length>0&&WO(t,n,r)?{segmentGroup:new se(e,GO(r,new se(n,t.children))),slicedSegments:[]}:n.length===0&&KO(t,n,r)?{segmentGroup:new se(t.segments,zO(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function zO(t,e,n,r,i){let s={};for(let o of r)if(Hu(t,n,o)&&!i[on(o)]){let a=new se([],{});s[on(o)]=a}return C(C({},i),s)}function GO(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&on(r)!==K){let i=new se([],{});n[on(r)]=i}return n}function WO(t,e,n){return n.some(r=>Hu(t,e,r)&&on(r)!==K)}function KO(t,e,n){return n.some(r=>Hu(t,e,r))}function Hu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QO(t,e,n,r){return on(t)!==r&&(r===K||!Hu(e,n,t))?!1:Jp(e,t,n).matched}function YO(t,e,n){return e.length===0&&!t.children[n]}var Hp=class{};function JO(t,e,n,r,i,s,o="emptyOnly"){return new qp(t,e,n,r,i,o,s).recognize()}var ZO=31,qp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new $p(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=qE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(k(n=>{let r=new No([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new ht(r,n),s=new ju("",i),o=iO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(At(r=>{if(r instanceof $u)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Oo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Wp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(k(s=>s instanceof ht?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return le(i).pipe(Ln(s=>{let o=r.children[s],a=_O(n,s);return this.processSegmentGroup(e,a,o,s)}),dc((s,o)=>(s.push(...o),s)),Fn(null),qd(),Me(s=>{if(s===null)return zi(r);let o=pT(s);return XO(o),O(o)}))}processSegment(e,n,r,i,s,o){return le(n).pipe(Ln(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(At(c=>{if(c instanceof Oo)return O(null);throw c}))),Wt(a=>!!a),At(a=>{if(hT(a))return YO(r,i,s)?O(new Hp):zi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return QO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):zi(i):zi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Jp(n,i,s);if(!a)return zi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Me(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=HO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Te(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Te(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new No(l,h,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,t1(r),on(r),r.component??r._loadedComponent??null,r,n1(r)),{segmentGroup:g,slicedSegments:w}=qE(n,l,d,c);if(w.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(k(T=>T===null?null:new ht(f,T)));if(c.length===0&&w.length===0)return O(new ht(f,[]));let y=on(r)===s;return this.processSegment(u,c,g,w,y?K:s,!0).pipe(k(T=>new ht(f,T instanceof ht?[T]:[])))}))):zi(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):jO(e,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,n).pipe(me(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):BO(n))):O({routes:[],injector:e})}};function XO(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function e1(t){let e=t.value.routeConfig;return e&&e.path===""}function pT(t){let e=[],n=new Set;for(let r of t){if(!e1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=pT(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!n.has(r))}function t1(t){return t.data||{}}function n1(t){return t.resolve||{}}function r1(t,e,n,r,i,s){return Me(o=>JO(t,e,n,r,o.extractedUrl,i,s).pipe(k(({state:a,tree:c})=>ce(C({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function i1(t,e){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of gT(c))o.add(u);let a=0;return le(o).pipe(Ln(c=>s.has(c)?s1(c,r,t,e):(c.data=Wp(c,c.parent,t).resolve,O(void 0))),me(()=>a++),Ti(1),Me(c=>a===o.size?O(n):Ge))})}function gT(t){let e=t.children.map(n=>gT(n)).flat();return[t,...e]}function s1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!aT(i)&&(s[ko]=i.title),o1(s,t,e,r).pipe(k(o=>(t._resolvedData=o,t.data=Wp(t,t.parent,n).resolve,null)))}function o1(t,e,n,r){let i=Ip(t);if(i.length===0)return O({});let s={};return le(i).pipe(Me(o=>a1(t[o],e,n,r).pipe(Wt(),me(a=>{s[o]=a}))),Ti(1),Hd(s),At(o=>hT(o)?Ge:wi(o)))}function a1(t,e,n,r){let i=Lo(e)??r,s=Xi(t,i),o=s.resolve?s.resolve(e,n):En(i,()=>s(e,n));return tr(o)}function _p(t){return Te(e=>{let n=t(e);return n?le(n).pipe(k(()=>e)):O(e)})}var mT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[ko]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>D(c1))(),providedIn:"root"});let t=e;return t})(),c1=(()=>{let e=class e extends mT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(Bf))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zp=new x("",{providedIn:"root",factory:()=>({})}),Xp=new x("ROUTES"),u1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(Df)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=tr(r.loadComponent()).pipe(k(yT),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ir(()=>{this.componentLoaders.delete(r)})),s=new mi(i,()=>new Ee).pipe(gi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=l1(i,this.compiler,r,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(i)})),a=new mi(o,()=>new Ee).pipe(gi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l1(t,e,n,r){return tr(t.loadChildren()).pipe(k(yT),Me(i=>i instanceof Ws||Array.isArray(i)?O(i):le(e.compileModuleAsync(i))),k(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Xp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Yp),injector:s}}))}function d1(t){return t&&typeof t=="object"&&"default"in t}function yT(t){return d1(t)?t.default:t}var eg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>D(h1))(),providedIn:"root"});let t=e;return t})(),h1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f1=new x("");var p1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=D(u1),this.environmentInjector=D(st),this.urlSerializer=D(Gp),this.rootContexts=D(Bu),this.location=D(io),this.inputBindingEnabled=D(Qp,{optional:!0})!==null,this.titleStrategy=D(mT),this.options=D(Zp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(eg),this.createViewTransition=D(f1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Rp(s)),i=s=>this.events.next(new xp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ce(C(C({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rt(o=>o.id!==0),k(o=>ce(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Te(o=>{this.currentTransition=o;let a=!1,c=!1;return O(o).pipe(me(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Te(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Br(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Ge}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return O(u).pipe(Te(h=>{let f=this.transitions?.getValue();return this.events.next(new Ao(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ge:Promise.resolve(h)}),r1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),me(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(C({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Lu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:w,extras:y}=u,T=new Ao(h,this.urlSerializer.serialize(f),g,w);this.events.next(T);let j=sT(f,this.rootComponentType).snapshot;return this.currentTransition=o=ce(C({},u),{targetSnapshot:j,urlAfterRedirects:f,extras:ce(C({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new Br(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Ge}}),me(u=>{let l=new bp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),k(u=>(this.currentTransition=o=ce(C({},u),{guards:IO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),MO(this.environmentInjector,u=>this.events.next(u)),me(u=>{if(o.guardsResult=u.guardsResult,Yi(u.guardsResult))throw uT(this.urlSerializer,u.guardsResult);let l=new Cp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),rt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),_p(u=>{if(u.guards.canActivateChecks.length)return O(u).pipe(me(l=>{let d=new Sp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Te(l=>{let d=!1;return O(l).pipe(i1(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),me(l=>{let d=new Ap(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),_p(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(me(f=>{d.component=f}),k(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Ii(l(u.targetSnapshot.root)).pipe(Fn(),mt(1))}),_p(()=>this.afterPreactivation()),Te(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?le(d).pipe(k(()=>o)):O(o)}),k(u=>{let l=fO(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ce(C({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),me(()=>{this.events.next(new xo)}),wO(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),mt(1),me({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Kd(this.transitionAbortSubject.pipe(me(u=>{throw u}))),Ir(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),At(u=>{if(c=!0,dT(u))this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),mO(u)?this.events.next(new Mo(u.url)):o.resolve(!1);else{this.events.next(new Ro(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return Ge}))}))}cancelNavigationTransition(r,i,s){let o=new er(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g1(t){return t!==bo}var m1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>D(y1))(),providedIn:"root"});let t=e;return t})(),zp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},y1=(()=>{let e=class e extends zp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Zc(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>(()=>D(v1))(),providedIn:"root"});let t=e;return t})(),v1=(()=>{let e=class e extends vT{constructor(){super(...arguments),this.location=D(io),this.urlSerializer=D(Gp),this.options=D(Zp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(eg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sT(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ao)this.stateMemento=this.createStateMemento();else if(r instanceof Br)this.rawUrlTree=i.initialUrl;else if(r instanceof Lu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof xo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof er&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Ro?this.restoreHistory(i,!0):r instanceof $r&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=C(C({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=C(C({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Zc(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),To=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(To||{});function _1(t,e){t.events.pipe(rt(n=>n instanceof $r||n instanceof er||n instanceof Ro||n instanceof Br),k(n=>n instanceof $r||n instanceof Br?To.COMPLETE:(n instanceof er?n.code===0||n.code===1:!1)?To.REDIRECTING:To.FAILED),rt(n=>n!==To.REDIRECTING),mt(1)).subscribe(()=>{e()})}function w1(t){throw t}var I1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_T=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(lu),this.stateManager=D(vT),this.options=D(Zp,{optional:!0})||{},this.pendingTasks=D(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(p1),this.urlSerializer=D(Gp),this.location=D(io),this.urlHandlingStrategy=D(eg),this._events=new Ee,this.errorHandler=this.options.errorHandler||w1,this.navigated=!1,this.routeReuseStrategy=D(m1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Xp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Qp,{optional:!0}),this.eventsSubscription=new be,this.isNgZoneEnabled=D(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof er&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof $r)this.navigated=!0;else if(i instanceof Mo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||g1(s.source)};this.scheduleNavigation(a,bo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}D1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=C({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=tT(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return nT(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Yi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,bo,null,i)}navigate(r,i={skipLocationChange:!1}){return T1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=C({},I1):i===!1?s=C({},E1):s=i,Yi(r))return UE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return UE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return _1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function D1(t){return!(t instanceof xo)&&!(t instanceof Mo)}var b1=new x("");function wT(t,...e){return lt([{provide:Xp,multi:!0,useValue:t},[],{provide:Ji,useFactory:C1,deps:[_T]},{provide:du,multi:!0,useFactory:S1},e.map(n=>n.\u0275providers)])}function C1(t){return t.routerState.root}function S1(){let t=D(Vt);return e=>{let n=t.get(Fi);if(e!==n.components[0])return;let r=t.get(_T),i=t.get(A1);t.get(R1)===1&&r.initialNavigation(),t.get(x1,null,J.Optional)?.setUpPreloading(),t.get(b1,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var A1=new x("",{factory:()=>new Ee}),R1=new x("",{providedIn:"root",factory:()=>1});var x1=new x("");var IT=[];function ET(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function TT(t){return t}function tg(t,e){e=e||{};let n=e.delimiter||".",r=e.maxDepth,i=e.transformKey||TT,s={};function o(a,c,u){u=u||1,Object.keys(a).forEach(function(l){let d=a[l],h=e.safe&&Array.isArray(d),f=Object.prototype.toString.call(d),g=ET(d),w=f==="[object Object]"||f==="[object Array]",y=c?c+n+i(l):i(l);if(!h&&!g&&w&&Object.keys(d).length&&(!e.maxDepth||u<r))return o(d,y,u+1);s[y]=d})}return o(t),s}function ng(t,e){e=e||{};let n=e.delimiter||".",r=e.overwrite||!1,i=e.transformKey||TT,s={};if(ET(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function a(l){let d=Number(l);return isNaN(d)||l.indexOf(".")!==-1||e.object?l:d}function c(l,d,h){return Object.keys(h).reduce(function(f,g){return f[l+n+g]=h[g],f},d)}function u(l){let d=Object.prototype.toString.call(l),h=d==="[object Array]",f=d==="[object Object]";if(l){if(h)return!l.length;if(f)return!Object.keys(l).length}else return!0}return t=Object.keys(t).reduce(function(l,d){let h=Object.prototype.toString.call(t[d]);return!(h==="[object Object]"||h==="[object Array]")||u(t[d])?(l[d]=t[d],l):c(d,l,tg(t[d],e))},{}),Object.keys(t).forEach(function(l){let d=l.split(n).map(i),h=a(d.shift()),f=a(d[0]),g=s;for(;f!==void 0;){if(h==="__proto__")return;let w=Object.prototype.toString.call(g[h]),y=w==="[object Object]"||w==="[object Array]";if(!r&&!y&&typeof g[h]<"u")return;(r&&!y||!r&&g[h]==null)&&(g[h]=typeof f=="number"&&!e.object?[]:{}),g=g[h],d.length>0&&(h=a(d.shift()),f=a(d[0]))}g[h]=ng(t[l],e)}),s}var ig=class{translations;constructor(e){this.translations=e}getTranslation(e){return O(this.translations.get(e)||{})}},ST=new x("TRANSLOCO_LOADER");function DT(t,e){return t&&(Object.prototype.hasOwnProperty.call(t,e)?t[e]:e.split(".").reduce((n,r)=>n?.[r],t))}function M1(t,e,n){t=C({},t);let r=e.split("."),i=r.length-1;return r.reduce((s,o,a)=>(a===i?s[o]=n:s[o]=Array.isArray(s[o])?s[o].slice():C({},s[o]),s&&s[o]),t),t}function AT(t){return t?Array.isArray(t)?t.length:lg(t)?Object.keys(t).length:t?t.length:0:0}function N1(t){return AT(t)===0}function P1(t){return typeof t=="function"}function es(t){return typeof t=="string"}function lg(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function RT(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,n)=>n==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}function sg(t){return t==null}function bT(t){return sg(t)===!1}function dg(t){return t&&typeof t.scope=="string"}function O1(t){return Array.isArray(t)&&t.every(dg)}function k1(t){return t&&lg(t.loader)}function L1(t){return ng(t)}function CT(t){return tg(t,{safe:!0})}var ts=new x("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>Vo}),Vo={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function F1(t={}){return ce(C(C({},Vo),t),{missingHandler:C(C({},Vo.missingHandler),t.missingHandler),flatten:C(C({},Vo.flatten),t.flatten)})}var xT=new x("TRANSLOCO_TRANSPILER"),V1=(()=>{class t{interpolationMatcher;constructor(n){this.interpolationMatcher=j1(n??Vo)}transpile(n,r={},i,s){return es(n)?n.replace(this.interpolationMatcher,(o,a)=>(a=a.trim(),bT(r[a])?r[a]:bT(i[a])?this.transpile(i[a],r,i,s):"")):(r&&(lg(n)?n=this.handleObject(n,r,i,s):Array.isArray(n)&&(n=this.handleArray(n,r,i,s))),n)}handleObject(n,r={},i,s){let o=n;return Object.keys(r).forEach(a=>{let c=DT(o,a),u=DT(r,a),l=this.transpile(c,u,i,s);o=M1(o,a,l)}),o}handleArray(n,r={},i,s){return n.map(o=>this.transpile(o,r,i,s))}static \u0275fac=function(r){return new(r||t)(R(ts,8))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function j1(t){let[e,n]=t.interpolation;return new RegExp(`${e}(.*?)${n}`,"g")}var MT=new x("TRANSLOCO_MISSING_HANDLER"),U1=(()=>{class t{handle(n,r){if(r.missingHandler.logMissingKey&&!r.prodMode){let i=`Missing translation for '${n}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),NT=new x("TRANSLOCO_INTERCEPTOR"),$1=(()=>{class t{preSaveTranslation(n){return n}preSaveTranslationKey(n,r){return r}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})(),PT=new x("TRANSLOCO_FALLBACK_STRATEGY"),B1=(()=>{class t{userConfig;constructor(n){this.userConfig=n}getNextLangs(){let n=this.userConfig.fallbackLang;if(!n)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(n)?n:[n]}static \u0275fac=function(r){return new(r||t)(R(ts))};static \u0275prov=M({token:t,factory:t.\u0275fac})}return t})();function jo(t){if(!t)return"";let e=t.split("/");return e.pop(),e.join("/")}function nr(t){return t?t.split("/").pop():""}function og(t,e,n="|"){if(es(t)){let r=t.split(n),i=r.pop();return i===e?[!0,r.toString()]:[!1,i]}return[!1,""]}function H1(t,e){let[n]=og(e,"static");return n?!1:!!t.config.reRenderOnLangChange}function q1(t){return t?e=>e:mt(1)}function z1(t,e){return Object.keys(t).reduce((n,r)=>(n[`${e}/${r}`]=t[r],n),{})}function OT(t,e){return k1(t)?z1(t.loader,e):void 0}function rg(t){return{scope:jo(t)||null,langName:nr(t)}}function kT(t){let{path:e,inlineLoader:n,mainLoader:r,data:i}=t;if(n){let s=n[e];if(P1(s)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return n[e]().then(o=>o.default?o.default:o)}return r.getTranslation(e,i)}function G1({mainLoader:t,path:e,data:n,fallbackPath:r,inlineLoader:i}){return(r?[e,r]:[e]).map(o=>{let a=kT({path:o,mainLoader:t,inlineLoader:i,data:n});return le(a).pipe(k(c=>({translation:c,lang:o})))})}var W1;var Cn=(()=>{class t{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Ee;events$=this.events.asObservable();config;constructor(n,r,i,s,o,a){this.loader=n,this.parser=r,this.missingHandler=i,this.interceptor=s,this.fallbackStrategy=a,this.loader||(this.loader=new ig(this.translations)),W1=this,this.config=JSON.parse(JSON.stringify(o)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new xe(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(c=>{c.type==="translationLoadSuccess"&&c.wasFailure&&this.setActiveLang(c.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(n){this.defaultLang=n}getActiveLang(){return this.lang.getValue()}setActiveLang(n){return this.parser.onLangChanged?.(n),this.lang.next(n),this.events.next({type:"langChanged",payload:rg(n)}),this}setAvailableLangs(n){this.availableLangs=n}getAvailableLangs(){return this.availableLangs}load(n,r={}){let i=this.cache.get(n);if(i)return i;let s,o=this._isLangScoped(n),a;o&&(a=jo(n));let c={path:n,mainLoader:this.loader,inlineLoader:r.inlineLoader,data:o?{scope:a}:void 0};if(this.useFallbackTranslation(n)){let l=o?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,d=G1(ce(C({},c),{fallbackPath:l}));s=cc(d)}else{let l=kT(c);s=le(l)}let u=s.pipe(zd(this.config.failedRetries),me(l=>{if(Array.isArray(l)){l.forEach(d=>{this.handleSuccess(d.lang,d.translation),d.lang!==n&&this.cache.set(d.lang,O({}))});return}this.handleSuccess(n,l)}),At(l=>(this.config.prodMode||console.error(`Error while trying to load "${n}"`,l),this.handleFailure(n,r))),Wd(1));return this.cache.set(n,u),u}translate(n,r={},i=this.getActiveLang()){if(!n)return n;let{scope:s,resolveLang:o}=this.resolveLangAndScope(i);if(Array.isArray(n))return n.map(u=>this.translate(s?`${s}.${u}`:u,r,o));n=s?`${s}.${n}`:n;let a=this.getTranslation(o),c=a[n];return c?this.parser.transpile(c,r,a,n):this._handleMissingKey(n,c,r)}selectTranslate(n,r,i,s=!1){let o,a=(u,l)=>this.load(u,l).pipe(k(()=>s?this.translateObject(n,r,u):this.translate(n,r,u)));if(sg(i))return this.langChanges$.pipe(Te(u=>a(u)));if(O1(i)||dg(i)){let u=Array.isArray(i)?i[0]:i;i=u.scope,o=OT(u,u.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return a(i);let c=i;return this.langChanges$.pipe(Te(u=>a(`${c}/${u}`,{inlineLoader:o})))}isScopeWithLang(n){return this.isLang(nr(n))}translateObject(n,r={},i=this.getActiveLang()){if(es(n)||Array.isArray(n)){let{resolveLang:o,scope:a}=this.resolveLangAndScope(i);if(Array.isArray(n))return n.map(l=>this.translateObject(a?`${a}.${l}`:l,r,o));let c=this.getTranslation(o);n=a?`${a}.${n}`:n;let u=L1(this.getObjectByKey(c,n));return N1(u)?this.translate(n,r,i):this.parser.transpile(u,r,c,n)}let s=[];for(let[o,a]of this.getEntries(n))s.push(this.translateObject(o,a,i));return s}selectTranslateObject(n,r,i){if(es(n)||Array.isArray(n))return this.selectTranslate(n,r,i,!0);let[[s,o],...a]=this.getEntries(n);return this.selectTranslateObject(s,o,i).pipe(k(c=>{let u=[c];for(let[l,d]of a)u.push(this.translateObject(l,d,i));return u}))}getTranslation(n){if(n){if(this.isLang(n))return this.translations.get(n)||{};{let{scope:r,resolveLang:i}=this.resolveLangAndScope(n),s=this.translations.get(i)||{};return this.getObjectByKey(s,r)}}return this.translations}selectTranslation(n){let r=this.langChanges$;if(n){let i=nr(n)!==n;this.isLang(n)||i?r=O(n):r=this.langChanges$.pipe(k(s=>`${n}/${s}`))}return r.pipe(Te(i=>this.load(i).pipe(k(()=>this.getTranslation(i)))))}setTranslation(n,r=this.getActiveLang(),i={}){let o=C(C({},{merge:!0,emitChange:!0}),i),a=jo(r),c=n;if(a){let f=this.getMappedScope(a);c=CT({[f]:n})}let u=a?nr(r):r,l=C(C({},o.merge&&this.getTranslation(u)),c),d=this.config.flatten.aot?l:CT(l),h=this.interceptor.preSaveTranslation(d,u);this.translations.set(u,h),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(n,r,i=this.getActiveLang(),s={}){let o=this.interceptor.preSaveTranslationKey(n,r,i),a={[n]:o};this.setTranslation(a,i,ce(C({},s),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:n}){let r=Array.isArray(n)?n[0]:n;n&&this.useFallbackTranslation(r)&&(this.firstFallbackLang=r)}_handleMissingKey(n,r,i){if(this.config.missingHandler.allowEmpty&&r==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let s=this.translate(n,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(n,this.getMissingHandlerData(),i)}_isLangScoped(n){return this.getAvailableLangsIds().indexOf(n)===-1}isLang(n){return this.getAvailableLangsIds().indexOf(n)!==-1}_loadDependencies(n,r){let i=nr(n);return this._isLangScoped(n)&&!this.isLoadedTranslation(i)?Ii([this.load(i),this.load(n,{inlineLoader:r})]):this.load(n,{inlineLoader:r})}_completeScopeWithLang(n){return this._isLangScoped(n)&&!this.isLang(nr(n))?`${n}/${this.getActiveLang()}`:n}_setScopeAlias(n,r){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[n]=r}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(n){return AT(this.getTranslation(n))}getAvailableLangsIds(){let n=this.getAvailableLangs()[0];return es(n)?this.getAvailableLangs():this.getAvailableLangs().map(r=>r.id)}getMissingHandlerData(){return ce(C({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(n){return this.config.missingHandler.useFallbackTranslation&&n!==this.firstFallbackLang}handleSuccess(n,r){this.setTranslation(r,n,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:rg(n)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(n,r){sg(r.failedCounter)&&(r.failedCounter=0,r.fallbackLangs||(r.fallbackLangs=this.fallbackStrategy.getNextLangs(n)));let i=n.split("/"),o=r.fallbackLangs[r.failedCounter];if(this.failedLangs.add(n),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),Ge;let a=o===i[i.length-1];if(!o||a){let u="Unable to load translation and all the fallback languages";throw i.length>1&&(u+=", did you misspelled the scope name?"),new Error(u)}let c=o;return i.length>1&&(i[i.length-1]=o,c=i.join("/")),r.failedCounter++,this.events.next({type:"translationLoadFailure",payload:rg(n)}),this.load(c,r)}getMappedScope(n){let{scopeMapping:r={}}=this.config;return r[n]||RT(n)}resolveLangAndScope(n){let r=n,i;if(this._isLangScoped(n)){let s=nr(n),o=this.isLang(s);r=o?s:this.getActiveLang(),i=this.getMappedScope(o?jo(n):n)}return{scope:i,resolveLang:r}}getObjectByKey(n,r){let i={},s=`${r}.`;for(let o in n)o.startsWith(s)&&(i[o.replace(s,"")]=n[o]);return i}getEntries(n){return n instanceof Map?n.entries():Object.entries(n)}static \u0275fac=function(r){return new(r||t)(R(ST,8),R(xT),R(MT),R(NT),R(ts),R(PT))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),K1=(()=>{class t{html;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ot({type:t,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[at],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(r,i){r&1&&F(0,"div",0),r&2&&Pe("innerHTML",i.html,dI)},encapsulation:2})}return t})(),ag=class{view;vcr;constructor(e,n){this.view=e,this.vcr=n}attachView(){if(this.view instanceof Li)this.vcr.createEmbeddedView(this.view);else if(es(this.view)){let e=this.vcr.createComponent(K1);e.instance.html=this.view,e.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}},Q1=new x("TRANSLOCO_LANG"),Y1=new x("TRANSLOCO_LOADING_TEMPLATE"),J1=new x("TRANSLOCO_SCOPE"),cg=class{initialized=!1;resolve({inline:e,provider:n,active:r}){let i=r;if(this.initialized)return i=r,i;if(n){let[,s]=og(n,"static");i=s}if(e){let[,s]=og(e,"static");i=s}return this.initialized=!0,i}resolveLangBasedOnScope(e){return jo(e)?nr(e):e}resolveLangPath(e,n){return n?`${n}/${e}`:e}},ug=class{service;constructor(e){this.service=e}resolve(e){let{inline:n,provider:r}=e;if(n)return n;if(r){if(dg(r)){let{scope:i,alias:s=RT(i)}=r;return this.service._setScopeAlias(i,s),i}return r}}},qu=(()=>{class t{service=D(Cn);tpl=D(Li,{optional:!0});providerLang=D(Q1,{optional:!0});providerScope=D(J1,{optional:!0});providedLoadingTpl=D(Y1,{optional:!0});cdr=D(Mr);host=D(ki);vcr=D(Nr);renderer=D(Xs);subscription=null;view;translationMemo={};key;params={};inlineScope;inlineRead;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new cg;scopeResolver=new ug(this.service);strategy=this.tpl===null?"attribute":"structural";static ngTemplateContextGuard(n,r){return!0}ngOnInit(){let n=H1(this.service,this.providerLang||this.inlineLang);if(this.subscription=this.service.langChanges$.pipe(Te(r=>{let i=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?cc(this.providerScope.map(s=>this.resolveScope(i,s))):this.resolveScope(i,this.providerScope)}),q1(n)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),this.strategy==="attribute"?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){let r=this.resolveLoadingContent();r&&(this.loaderTplHandler=new ag(r,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(n){this.strategy==="attribute"&&Object.keys(n).some(i=>!n[i].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(n,r){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(n,r),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(n,r),currentLang:this.currentLang}))}getTranslateFn(n,r){return(i,s)=>{let o=r?`${r}.${i}`:i,a=s?`${o}${JSON.stringify(s)}`:o;return Object.prototype.hasOwnProperty.call(this.translationMemo,a)?this.translationMemo[a].value:(this.translationMemo[a]={params:s,value:this.service.translate(o,s,n)},this.translationMemo[a].value)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(n,r){let i=this.scopeResolver.resolve({inline:this.inlineScope,provider:r});this.path=this.langResolver.resolveLangPath(n,i);let s=OT(r,i);return this.service._loadDependencies(this.path,s)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Pi({type:t,selectors:[["","transloco",""]],inputs:{key:["transloco","key"],params:["translocoParams","params"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[en]})}return t})();var rr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ot({type:t});static \u0275inj=Pt({})}return t})();function LT(t){let e=[ek(V1),nk(U1),rk($1),tk(B1)];return t.config&&e.push(Z1(t.config)),t.loader&&e.push(X1(t.loader)),e}function Z1(t){return lt([{provide:ts,useValue:F1(t)}])}function X1(t){return lt([{provide:ST,useClass:t}])}function ek(t){return lt([{provide:xT,useClass:t,deps:[ts]}])}function tk(t){return lt([{provide:PT,useClass:t,deps:[ts]}])}function nk(t){return lt([{provide:MT,useClass:t}])}function rk(t){return lt([{provide:NT,useClass:t}])}var kG=new x("TRANSLOCO_TEST_LANGS - Available testing languages"),LG=new x("TRANSLOCO_TEST_OPTIONS - Testing options");var FT=(()=>{let e=class e{constructor(){this.http=D(Of)}getTranslation(r){return this.http.get(`/assets/i18n/${r}.json`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zT=qT,GT=new bn("auth","Firebase",qT());var Ku=new Qn("@firebase/auth");function sk(t,...e){Ku.logLevel<=Z.WARN&&Ku.warn(`Auth (${Bi}): ${t}`,...e)}function Wu(t,...e){Ku.logLevel<=Z.ERROR&&Ku.error(`Auth (${Bi}): ${t}`,...e)}function VT(t,...e){throw Eg(t,...e)}function WT(t,...e){return Eg(t,...e)}function ok(t,e,n){let r=Object.assign(Object.assign({},zT()),{[e]:n});return new bn("auth","Firebase",r).create(e,{appName:t.name})}function Eg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GT.create(t,...e)}function oe(t,e,...n){if(!t)throw Eg(e,...n)}function Uo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function Qu(t,e){t||Uo(e)}function ak(){return jT()==="http:"||jT()==="https:"}function jT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ak()||IE()||"connection"in navigator)?navigator.onLine:!0}function uk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qu(n>e,"Short delay should be less than long delay!"),this.isMobile=wE()||EE()}get(){return ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lk(t,e){Qu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hk=new qr(3e4,6e4);function KT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rl(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return QT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Yf(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Yu.fetch()(YT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function QT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dk),e);try{let i=new pg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Gu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Gu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ok(t,l,u);VT(t,l)}}catch(i){if(i instanceof Et)throw i;VT(t,"network-request-failed",{message:String(i)})}})}function YT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lk(t.config,i):`${t.config.apiScheme}://${i}`}var pg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(WT(this.auth,"network-request-failed")),hk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=WT(t,e,r);return i.customData._tokenResponse=n,i}function fk(t,e){return p(this,null,function*(){return rl(t,"POST","/v1/accounts:delete",e)})}function pk(t,e){return p(this,null,function*(){return rl(t,"POST","/v1/accounts:lookup",e)})}function $o(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tg(t,e=!1){return p(this,null,function*(){let n=dt(t),r=yield n.getIdToken(e),i=JT(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$o(hg(i.auth_time)),issuedAtTime:$o(hg(i.iat)),expirationTime:$o(hg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function hg(t){return Number(t)*1e3}function JT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Gf(n);return i?JSON.parse(i):(Wu("Failed to decode base64 JWT payload"),null)}catch(i){return Wu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gk(t){let e=JT(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function gg(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Et&&mk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function mk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ju=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield gg(t,pk(n,{idToken:r}));oe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vk(s.providerUserInfo):[],a=yk(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ju(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function Dg(t){return p(this,null,function*(){let e=dt(t);yield Zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vk(t){return t.map(e=>{var{providerId:n}=e,r=Ud(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _k(t,e){return p(this,null,function*(){let n=yield QT(t,{},()=>p(this,null,function*(){let r=Yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wk(t,e){return p(this,null,function*(){return rl(t,"POST","/v2/accounts:revokeToken",KT(t,e))})}var Xu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield _k(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Uo("not implemented")}};function ir(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var el=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ud(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ju(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield gg(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Tg(this,e)}reload(){return Dg(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield gg(this,fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,j=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Y,emailVerified:G,isAnonymous:Ie,providerData:re,stsTokenManager:Oe}=n;oe(Y&&Oe,e,"internal-error");let zt=Xu.fromJSON(this.name,Oe);oe(typeof Y=="string",e,"internal-error"),ir(d,e.name),ir(h,e.name),oe(typeof G=="boolean",e,"internal-error"),oe(typeof Ie=="boolean",e,"internal-error"),ir(f,e.name),ir(g,e.name),ir(w,e.name),ir(y,e.name),ir(T,e.name),ir(j,e.name);let mr=new t({uid:Y,auth:e,email:h,emailVerified:G,displayName:d,isAnonymous:Ie,photoURL:g,phoneNumber:f,tenantId:w,stsTokenManager:zt,createdAt:T,lastLoginAt:j});return re&&Array.isArray(re)&&(mr.providerData=re.map(li=>Object.assign({},li))),y&&(mr._redirectEventId=y),mr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Xu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zu(s),s})}};var UT=new Map;function Hr(t){Qu(t instanceof Function,"Expected a class definition");let e=UT.get(t);return e?(Qu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UT.set(t,e),e)}var Ik=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),yg=Ik;function fg(t,e,n){return`firebase:${t}:${e}:${n}`}var tl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=fg(this.userKey,i.apiKey,s),this.fullPersistenceKey=fg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?el._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Hr(yg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Hr(yg),o=fg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=el._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function $T(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sk(e))return"Blackberry";if(Ak(e))return"Webos";if(Tk(e))return"Safari";if((e.includes("chrome/")||Dk(e))&&!e.includes("edge/"))return"Chrome";if(Ck(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ek(t=Tt()){return/firefox\//i.test(t)}function Tk(t=Tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dk(t=Tt()){return/crios\//i.test(t)}function bk(t=Tt()){return/iemobile/i.test(t)}function Ck(t=Tt()){return/android/i.test(t)}function Sk(t=Tt()){return/blackberry/i.test(t)}function Ak(t=Tt()){return/webos/i.test(t)}function ZT(t,e=[]){let n;switch(t){case"Browser":n=$T(Tt());break;case"Worker":n=`${$T(Tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${r}`}var vg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Rk(n){return p(this,arguments,function*(t,e={}){return rl(t,"GET","/v2/passwordPolicy",KT(t,e))})}var xk=6,_g=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var wg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nl(this),this.idTokenSubscription=new nl(this),this.beforeStateQueue=new vg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Zu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uk()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?dt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Hr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield Rk(this),n=new _g(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Hr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=yield tl.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&sk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Mk(t){return dt(t)}var nl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DE(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function Nk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Pk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var JG=Nk("rcb"),ZG=new qr(3e4,6e4);var XG=new qr(2e3,1e4);var e9=10*60*1e3;var t9=new qr(3e4,6e4);var n9=new qr(5e3,15e3);var r9=encodeURIComponent("fac");var BT="@firebase/auth",HT="1.5.1";var Ig=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Ok(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function kk(t){Jn(new Dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(t)},u=new wg(r,i,s,c);return Pk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Dt("auth-internal",e=>{let n=Mk(e.getProvider("auth").getImmediate());return(r=>new Ig(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(BT,HT,Ok(t)),Fe(BT,HT,"esm2017")}var Lk=5*60,i9=vE("authIdTokenMaxAge")||Lk;kk("Browser");var kL="auth";var il=class{constructor(){return vo(kL)}};var LL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},b,Gg=Gg||{},$=LL||self;function vl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ta(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function FL(t){return Object.prototype.hasOwnProperty.call(t,bg)&&t[bg]||(t[bg]=++VL)}var bg="closure_uid_"+(1e9*Math.random()>>>0),VL=0;function jL(t,e,n){return t.call.apply(t.bind,arguments)}function UL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=jL:Ke=UL,Ke.apply(null,arguments)}function sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function sr(){this.s=this.s,this.o=this.o}var $L=0;sr.prototype.s=!1;sr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$L!=0)&&FL(this)};sr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var d0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Wg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(vl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var BL=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};$.addEventListener("test",n,e),$.removeEventListener("test",n,e)}catch{}return t}();function Wo(t){return/^[\s\xa0]*$/.test(t)}function _l(){var t=$.navigator;return t&&(t=t.userAgent)?t:""}function an(t){return _l().indexOf(t)!=-1}function Kg(t){return Kg[" "](t),t}Kg[" "]=function(){};function HL(t,e){var n=MF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qL=an("Opera"),ss=an("Trident")||an("MSIE"),h0=an("Edge"),xg=h0||ss,f0=an("Gecko")&&!(_l().toLowerCase().indexOf("webkit")!=-1&&!an("Edge"))&&!(an("Trident")||an("MSIE"))&&!an("Edge"),zL=_l().toLowerCase().indexOf("webkit")!=-1&&!an("Edge");function p0(){var t=$.document;return t?t.documentMode:void 0}var Mg;e:{if(ol="",al=function(){var t=_l();if(f0)return/rv:([^\);]+)(\)|;)/.exec(t);if(h0)return/Edge\/([\d\.]+)/.exec(t);if(ss)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zL)return/WebKit\/(\S+)/.exec(t);if(qL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),al&&(ol=al?al[1]:""),ss&&(cl=p0(),cl!=null&&cl>parseFloat(ol))){Mg=String(cl);break e}Mg=ol}var ol,al,cl,Ng;$.document&&ss?(Cg=p0(),Ng=Cg||parseInt(Mg,10)||void 0):Ng=void 0;var Cg,GL=Ng;function Ko(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(f0){e:{try{Kg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:WL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ko.$.h.call(this)}}je(Ko,Qe);var WL={2:"touch",3:"pen",4:"mouse"};Ko.prototype.h=function(){Ko.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var na="closure_listenable_"+(1e6*Math.random()|0),KL=0;function QL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++KL,this.fa=this.ia=!1}function wl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Qg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function YL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function g0(t){let e={};for(let n in t)e[n]=t[n];return e}var e0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<e0.length;s++)n=e0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Il(t){this.src=t,this.g={},this.h=0}Il.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Og(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new QL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Pg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=d0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Og(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Yg="closure_lm_"+(1e6*Math.random()|0),Sg={};function y0(t,e,n,r,i){if(r&&r.once)return _0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)y0(t,e[s],n,r,i);return null}return n=Xg(n),t&&t[na]?t.O(e,n,ta(r)?!!r.capture:!!r,i):v0(t,e,n,!1,r,i)}function v0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ta(i)?!!i.capture:!!i,a=Zg(t);if(a||(t[Yg]=a=new Il(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=JL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(I0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JL(){function t(n){return e.call(t.src,t.listener,n)}let e=ZL;return t}function _0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_0(t,e[s],n,r,i);return null}return n=Xg(n),t&&t[na]?t.P(e,n,ta(r)?!!r.capture:!!r,i):v0(t,e,n,!0,r,i)}function w0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)w0(t,e[s],n,r,i);else r=ta(r)?!!r.capture:!!r,n=Xg(n),t&&t[na]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Og(s,n,r,i),-1<n&&(wl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Og(e,n,r,i)),(n=-1<t?e[t]:null)&&Jg(n))}function Jg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[na])Pg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(I0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zg(e))?(Pg(n,t),n.h==0&&(n.src=null,e[Yg]=null)):wl(t)}}}function I0(t){return t in Sg?Sg[t]:Sg[t]="on"+t}function ZL(t,e){if(t.fa)t=!0;else{e=new Ko(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Jg(t),t=n.call(r,e)}return t}function Zg(t){return t=t[Yg],t instanceof Il?t:null}var Ag="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xg(t){return typeof t=="function"?t:(t[Ag]||(t[Ag]=function(e){return t.handleEvent(e)}),t[Ag])}function Ve(){sr.call(this),this.i=new Il(this),this.S=this,this.J=null}je(Ve,sr);Ve.prototype[na]=!0;Ve.prototype.removeEventListener=function(t,e,n,r){w0(this,t,e,n,r)};function qe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var i=e;e=new Qe(r,t),m0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ul(o,r,!0,e)&&i}if(o=e.g=t,i=ul(o,r,!0,e)&&i,i=ul(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ul(o,r,!1,e)&&i}Ve.prototype.N=function(){if(Ve.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wl(n[r]);delete t.g[e],t.h--}}this.J=null};Ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ve.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ul(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Pg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var em=$.JSON.stringify,kg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function XL(){var t=tm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Lg=class{constructor(){this.h=this.g=null}add(e,n){let r=E0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},E0=new kg(()=>new Fg,t=>t.reset()),Fg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function eF(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tF(t){$.setTimeout(()=>{throw t},0)}var Qo,Yo=!1,tm=new Lg,T0=()=>{let t=$.Promise.resolve(void 0);Qo=()=>{t.then(nF)}},nF=()=>{for(var t;t=XL();){try{t.h.call(t.g)}catch(n){tF(n)}var e=E0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yo=!1};function El(t,e){Ve.call(this),this.h=t||1,this.g=e||$,this.j=Ke(this.qb,this),this.l=Date.now()}je(El,Ve);b=El.prototype;b.ga=!1;b.T=null;b.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qe(this,"tick"),this.ga&&(nm(this),this.start()))}};b.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}b.N=function(){El.$.N.call(this),nm(this),delete this.g};function rm(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:$.setTimeout(t,e||0)}function D0(t){t.g=rm(()=>{t.g=null,t.i&&(t.i=!1,D0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Vg=class extends sr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D0(this)}N(){super.N(),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Jo(t){sr.call(this),this.h=t,this.g={}}je(Jo,sr);var t0=[];function b0(t,e,n,r){Array.isArray(n)||(n&&(t0[0]=n.toString()),n=t0);for(var i=0;i<n.length;i++){var s=y0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function C0(t){Qg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jg(e)},t),t.g={}}Jo.prototype.N=function(){Jo.$.N.call(this),C0(this)};Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tl(){this.g=!0}Tl.prototype.Ea=function(){this.g=!1};function rF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function iF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function rs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+oF(t,n)+(r?" "+r:"")})}function sF(t,e){t.info(function(){return"TIMEOUT: "+e})}Tl.prototype.info=function(){};function oF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return em(n)}catch{return e}}var Kr={},n0=null;function Dl(){return n0=n0||new Ve}Kr.Ta="serverreachability";function S0(t){Qe.call(this,Kr.Ta,t)}je(S0,Qe);function Zo(t){let e=Dl();qe(e,new S0(e))}Kr.STAT_EVENT="statevent";function A0(t,e){Qe.call(this,Kr.STAT_EVENT,t),this.stat=e}je(A0,Qe);function et(t){let e=Dl();qe(e,new A0(e,t))}Kr.Ua="timingevent";function R0(t,e){Qe.call(this,Kr.Ua,t),this.size=e}je(R0,Qe);function ra(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){t()},e)}var bl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function im(){}im.prototype.h=null;function r0(t){return t.h||(t.h=t.i())}function M0(){}var ia={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sm(){Qe.call(this,"d")}je(sm,Qe);function om(){Qe.call(this,"c")}je(om,Qe);var jg;function Cl(){}je(Cl,im);Cl.prototype.g=function(){return new XMLHttpRequest};Cl.prototype.i=function(){return{}};jg=new Cl;function sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Jo(this),this.P=aF,t=xg?125:void 0,this.V=new El(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}var aF=45e3,P0={},Ug={};b=sa.prototype;b.setTimeout=function(t){this.P=t};function $g(t,e,n){t.L=1,t.A=Al(An(e)),t.u=n,t.S=!0,O0(t,null)}function O0(t,e){t.G=Date.now(),oa(t),t.B=An(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),B0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new N0,t.g=uD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Vg(Ke(t.Pa,t,t.g),t.O)),b0(t.U,t.g,"readystatechange",t.nb),e=t.I?g0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Zo(),rF(t.j,t.v,t.B,t.m,t.W,t.u)}b.nb=function(t){t=t.target;let e=this.M;e&&cn(t)==3?e.l():this.Pa(t)};b.Pa=function(t){try{if(t==this.g)e:{let l=cn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||xg||this.g&&(this.h.h||this.g.ja()||a0(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Zo(3):Zo(2)),Sl(this);var n=this.g.da();this.ca=n;t:if(k0(this)){var r=a0(this.g);t="";var i=r.length,s=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),Go(this);var o="";break t}this.h.i=new $.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,iF(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wo(a)){var u=a;break t}}u=null}if(n=u)rs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bg(this,n);else{this.i=!1,this.s=3,et(12),zr(this),Go(this);break e}}this.S?(L0(this,l,o),xg&&this.i&&l==3&&(b0(this.U,this.V,"tick",this.mb),this.V.start())):(rs(this.j,this.m,o,null),Bg(this,o)),l==4&&zr(this),this.i&&!this.J&&(l==4?sD(this.l,this):(this.i=!1,oa(this)))}else AF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),zr(this),Go(this)}}}catch{}finally{}};function k0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function L0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=cF(t,n),i==Ug){e==4&&(t.s=4,et(14),r=!1),rs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==P0){t.s=4,et(15),rs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else rs(t.j,t.m,i,null),Bg(t,i);k0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hm(e),e.M=!0,et(11))):(rs(t.j,t.m,n,"[Invalid Chunked Response]"),zr(t),Go(t))}b.mb=function(){if(this.g){var t=cn(this.g),e=this.g.ja();this.o<e.length&&(Sl(this),L0(this,t,e),this.i&&t!=4&&oa(this))}};function cF(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ug:(n=Number(e.substring(n,r)),isNaN(n)?P0:(r+=1,r+n>e.length?Ug:(e=e.slice(r,r+n),t.o=r+n,e)))}b.cancel=function(){this.J=!0,zr(this)};function oa(t){t.Y=Date.now()+t.P,F0(t,t.P)}function F0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ra(Ke(t.lb,t),e)}function Sl(t){t.C&&($.clearTimeout(t.C),t.C=null)}b.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(sF(this.j,this.B),this.L!=2&&(Zo(),et(17)),zr(this),this.s=2,Go(this)):F0(this,this.Y-t)};function Go(t){t.l.H==0||t.J||sD(t.l,t)}function zr(t){Sl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,nm(t.V),C0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hg(n.i,t))){if(!t.K&&Hg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)pl(n),Ml(n);else break e;dm(n),et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ra(Ke(n.ib,n),6e3));if(1>=z0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gr(n,11)}else if((t.K||n.g==t)&&pl(n),!Wo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(am(s,s.h),s.h=null))}if(r.F){let w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,ge(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=cD(r,r.J?r.pa:null,r.Y),o.K){G0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Sl(a),oa(a)),r.g=o}else rD(r);0<n.j.length&&Nl(n)}else u[0]!="stop"&&u[0]!="close"||Gr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gr(n,7):lm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Zo(4)}catch{}}function uF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function lF(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function V0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=lF(t),r=uF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var j0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wr){this.h=t.h,hl(this,t.j),this.s=t.s,this.g=t.g,fl(this,t.m),this.l=t.l;var e=t.i,n=new Xo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),i0(this,n),this.o=t.o}else t&&(e=String(t).match(j0))?(this.h=!1,hl(this,e[1]||"",!0),this.s=qo(e[2]||""),this.g=qo(e[3]||"",!0),fl(this,e[4]),this.l=qo(e[5]||"",!0),i0(this,e[6]||"",!0),this.o=qo(e[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Wr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zo(e,s0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zo(e,s0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zo(n,n.charAt(0)=="/"?pF:fF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zo(n,mF)),t.join("")};function An(t){return new Wr(t)}function hl(t,e,n){t.j=n?qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function i0(t,e,n){e instanceof Xo?(t.i=e,yF(t.i,t.h)):(n||(e=zo(e,gF)),t.i=new Xo(e,t.h))}function ge(t,e,n){t.i.set(e,n)}function Al(t){return ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,hF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var s0=/[#\/\?@]/g,fF=/[#\?:]/g,pF=/[#\?]/g,gF=/[#\?@]/g,mF=/#/g;function Xo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function or(t){t.g||(t.g=new Map,t.h=0,t.i&&dF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}b=Xo.prototype;b.add=function(t,e){or(this),this.i=null,t=os(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function U0(t,e){or(t),e=os(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $0(t,e){return or(t),e=os(t,e),t.g.has(e)}b.forEach=function(t,e){or(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};b.ta=function(){or(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};b.Z=function(t){or(this);let e=[];if(typeof t=="string")$0(this,t)&&(e=e.concat(this.g.get(os(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};b.set=function(t,e){return or(this),this.i=null,t=os(this,t),$0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};b.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function B0(t,e,n){U0(t,e),0<n.length&&(t.i=null,t.g.set(os(t,e),Wg(n)),t.h+=n.length)}b.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function os(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yF(t,e){e&&!t.j&&(or(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(U0(this,r),B0(this,i,n))},t)),t.j=e}var vF=class{constructor(t,e){this.g=t,this.map=e}};function H0(t){this.l=t||_F,$.PerformanceNavigationTiming?(t=$.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!($.g&&$.g.Ka&&$.g.Ka()&&$.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _F=10;function q0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function z0(t){return t.h?1:t.g?t.g.size:0}function Hg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function am(t,e){t.g?t.g.add(e):t.h=e}function G0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}H0.prototype.cancel=function(){if(this.i=W0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function W0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Wg(t.i)}var wF=class{stringify(t){return $.JSON.stringify(t,void 0)}parse(t){return $.JSON.parse(t,void 0)}};function IF(){this.g=new wF}function EF(t,e,n){let r=n||"";try{V0(t,function(i,s){let o=i;ta(i)&&(o=em(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function TF(t,e){let n=new Tl;if($.Image){let r=new Image;r.onload=sl(ll,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sl(ll,n,r,"TestLoadImage: error",!1,e),r.onabort=sl(ll,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sl(ll,n,r,"TestLoadImage: timeout",!1,e),$.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ll(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function aa(t){this.l=t.ec||null,this.j=t.ob||!1}je(aa,im);aa.prototype.g=function(){return new Rl(this.l,this.j)};aa.prototype.i=function(t){return function(){return t}}({});function Rl(t,e){Ve.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}je(Rl,Ve);var cm=0;b=Rl.prototype;b.open=function(t,e){if(this.readyState!=cm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ea(this)};b.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};b.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=cm};b.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function K0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}b.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ca(this):ea(this),this.readyState==3&&K0(this)}};b.Za=function(t){this.g&&(this.response=this.responseText=t,ca(this))};b.Ya=function(t){this.g&&(this.response=t,ca(this))};b.ka=function(){this.g&&ca(this)};function ca(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ea(t)}b.setRequestHeader=function(t,e){this.v.append(t,e)};b.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};b.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var DF=$.JSON.parse;function ve(t){Ve.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Q0,this.L=this.M=!1}je(ve,Ve);var Q0="",bF=/^https?$/i,CF=["POST","PUT"];b=ve.prototype;b.Oa=function(t){this.M=t};b.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jg.g(),this.C=this.u?r0(this.u):r0(jg),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){o0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=$.FormData&&t instanceof $.FormData,!(0<=d0(CF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z0(this),0<this.B&&((this.L=SF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=rm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){o0(this,s)}};function SF(t){return ss&&typeof t.timeout=="number"&&t.ontimeout!==void 0}b.ua=function(){typeof Gg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))};function o0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Y0(t),xl(t)}function Y0(t){t.F||(t.F=!0,qe(t,"complete"),qe(t,"error"))}b.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qe(this,"complete"),qe(this,"abort"),xl(this))};b.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xl(this,!0)),ve.$.N.call(this)};b.La=function(){this.s||(this.G||this.v||this.l?J0(this):this.kb())};b.kb=function(){J0(this)};function J0(t){if(t.h&&typeof Gg<"u"&&(!t.C[1]||cn(t)!=4||t.da()!=2)){if(t.v&&cn(t)==4)rm(t.La,0,t);else if(qe(t,"readystatechange"),cn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(j0)[1]||null;!i&&$.self&&$.self.location&&(i=$.self.location.protocol.slice(0,-1)),r=!bF.test(i?i.toLowerCase():"")}n=r}if(n)qe(t,"complete"),qe(t,"success");else{t.m=6;try{var s=2<cn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Y0(t)}}finally{xl(t)}}}}function xl(t,e){if(t.g){Z0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function Z0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($.clearTimeout(t.A),t.A=null)}b.isActive=function(){return!!this.g};function cn(t){return t.g?t.g.readyState:0}b.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};b.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};b.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),DF(e)}};function a0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Q0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function AF(t){let e={};t=(t.g&&2<=cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Wo(t[r]))continue;var n=eF(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}YL(e,function(r){return r.join(", ")})}b.Ia=function(){return this.m};b.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function X0(t){let e="";return Qg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function um(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=X0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ge(t,e,n))}function Bo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eD(t){this.Ga=0,this.j=[],this.l=new Tl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bo("baseRetryDelayMs",5e3,t),this.hb=Bo("retryDelaySeedMs",1e4,t),this.eb=Bo("forwardChannelMaxRetries",2,t),this.xa=Bo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new H0(t&&t.concurrentRequestLimit),this.Ja=new IF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}b=eD.prototype;b.ra=8;b.H=1;function lm(t){if(tD(t),t.H==3){var e=t.W++,n=An(t.I);if(ge(n,"SID",t.K),ge(n,"RID",e),ge(n,"TYPE","terminate"),ua(t,n),e=new sa(t,t.l,e),e.L=2,e.A=Al(An(n)),n=!1,$.navigator&&$.navigator.sendBeacon)try{n=$.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&$.Image&&(new Image().src=e.A,n=!0),n||(e.g=uD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),oa(e)}aD(t)}function Ml(t){t.g&&(hm(t),t.g.cancel(),t.g=null)}function tD(t){Ml(t),t.u&&($.clearTimeout(t.u),t.u=null),pl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&$.clearTimeout(t.m),t.m=null)}function Nl(t){if(!q0(t.i)&&!t.m){t.m=!0;var e=t.Na;Qo||T0(),Yo||(Qo(),Yo=!0),tm.add(e,t),t.C=0}}function RF(t,e){return z0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ra(Ke(t.Na,t,e),oD(t,t.C)),t.C++,!0)}b.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new sa(this,this.l,t),s=this.s;if(this.U&&(s?(s=g0(s),m0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nD(this,i,e),n=An(this.I),ge(n,"RID",t),ge(n,"CVER",22),this.F&&ge(n,"X-HTTP-Session-Id",this.F),ua(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(X0(s)))+"&"+e:this.o&&um(n,this.o,s)),am(this.i,i),this.bb&&ge(n,"TYPE","init"),this.P?(ge(n,"$req",e),ge(n,"SID","null"),i.aa=!0,$g(i,n,null)):$g(i,n,e),this.H=2}}else this.H==3&&(t?c0(this,t):this.j.length==0||q0(this.i)||c0(this))};function c0(t,e){var n;e?n=e.m:n=t.W++;let r=An(t.I);ge(r,"SID",t.K),ge(r,"RID",n),ge(r,"AID",t.V),ua(t,r),t.o&&t.s&&um(r,t.o,t.s),n=new sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),am(t.i,n),$g(n,r,e)}function ua(t,e){t.na&&Qg(t.na,function(n,r){ge(e,r,n)}),t.h&&V0({},function(n,r){ge(e,r,n)})}function nD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{EF(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qo||T0(),Yo||(Qo(),Yo=!0),tm.add(e,t),t.A=0}}function dm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ra(Ke(t.Ma,t),oD(t,t.A)),t.A++,!0)}b.Ma=function(){if(this.u=null,iD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ra(Ke(this.jb,this),t)}};b.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,et(10),Ml(this),iD(this))};function hm(t){t.B!=null&&($.clearTimeout(t.B),t.B=null)}function iD(t){t.g=new sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);ge(e,"RID","rpc"),ge(e,"SID",t.K),ge(e,"AID",t.V),ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ge(e,"TO",t.qa),ge(e,"TYPE","xmlhttp"),ua(t,e),t.o&&t.s&&um(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Al(An(e)),n.u=null,n.S=!0,O0(n,t)}b.ib=function(){this.v!=null&&(this.v=null,Ml(this),dm(this),et(19))};function pl(t){t.v!=null&&($.clearTimeout(t.v),t.v=null)}function sD(t,e){var n=null;if(t.g==e){pl(t),hm(t),t.g=null;var r=2}else if(Hg(t.i,e))n=e.F,G0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Dl(),qe(r,new R0(r,n)),Nl(t)}else rD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&RF(t,e)||r==2&&dm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Gr(t,5);break;case 4:Gr(t,10);break;case 3:Gr(t,6);break;default:Gr(t,2)}}}function oD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new Wr("//www.google.com/images/cleardot.gif"),$.location&&$.location.protocol=="http"||hl(n,"https"),Al(n)),TF(n.toString(),r)}else et(2);t.H=0,t.h&&t.h.za(e),aD(t),tD(t)}b.pb=function(t){t?(this.l.info("Successfully pinged google.com"),et(2)):(this.l.info("Failed to ping google.com"),et(1))};function aD(t){if(t.H=0,t.ma=[],t.h){let e=W0(t.i);(e.length!=0||t.j.length!=0)&&(XT(t.ma,e),XT(t.ma,t.j),t.i.i.length=0,Wg(t.j),t.j.length=0),t.h.ya()}}function cD(t,e,n){var r=n instanceof Wr?An(n):new Wr(n);if(r.g!="")e&&(r.g=e+"."+r.g),fl(r,r.m);else{var i=$.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wr(null);r&&hl(s,r),e&&(s.g=e),i&&fl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ge(r,n,e),ge(r,"VER",t.ra),ua(t,r),r}function uD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ve(new aa({ob:n})):new ve(t.va),e.Oa(t.J),e}b.isActive=function(){return!!this.h&&this.h.isActive(this)};function lD(){}b=lD.prototype;b.Ba=function(){};b.Aa=function(){};b.za=function(){};b.ya=function(){};b.isActive=function(){return!0};b.Va=function(){};function gl(){if(ss&&!(10<=Number(GL)))throw Error("Environmental error: no available transport.")}gl.prototype.g=function(t,e){return new ft(t,e)};function ft(t,e){Ve.call(this),this.g=new eD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new as(this)}je(ft,Ve);ft.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cD(t,null,t.Y),Nl(t)};ft.prototype.close=function(){lm(this.g)};ft.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=em(t),t=n);e.j.push(new vF(e.fb++,t)),e.H==3&&Nl(e)};ft.prototype.N=function(){this.g.h=null,delete this.j,lm(this.g),delete this.g,ft.$.N.call(this)};function dD(t){sm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}je(dD,sm);function hD(){om.call(this),this.status=1}je(hD,om);function as(t){this.g=t}je(as,lD);as.prototype.Ba=function(){qe(this.g,"a")};as.prototype.Aa=function(t){qe(this.g,new dD(t))};as.prototype.za=function(t){qe(this.g,new hD)};as.prototype.ya=function(){qe(this.g,"b")};function xF(){this.blockSize=-1}function jt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}je(jt,xF);jt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Rg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}jt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Rg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Rg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Rg(this,r),i=0;break}}this.h=i,this.i+=e};jt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var MF={};function fm(t){return-128<=t&&128>t?HL(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function un(t){if(isNaN(t)||!isFinite(t))return is;if(0>t)return He(un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qg;return new ae(e,0)}function fD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return He(fD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(e,8)),r=is,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=un(Math.pow(e,s)),r=r.R(s).add(un(o))):(r=r.R(n),r=r.add(un(o)))}return r}var qg=4294967296,is=fm(0),zg=fm(1),u0=fm(16777216);b=ae.prototype;b.ea=function(){if(Ct(this))return-He(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qg+r)*e,e*=qg}return t};b.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sn(this))return"0";if(Ct(this))return"-"+He(this).toString(t);for(var e=un(Math.pow(t,6)),n=this,r="";;){var i=yl(n,e).g;n=ml(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};b.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ct(t){return t.h==-1}b.X=function(t){return t=ml(this,t),Ct(t)?-1:Sn(t)?0:1};function He(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(zg)}b.abs=function(){return Ct(this)?He(this):this};b.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function ml(t,e){return t.add(He(e))}b.R=function(t){if(Sn(this)||Sn(t))return is;if(Ct(this))return Ct(t)?He(this).R(He(t)):He(He(this).R(t));if(Ct(t))return He(this.R(He(t)));if(0>this.X(u0)&&0>t.X(u0))return un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,dl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,dl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,dl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,dl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function dl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ho(t,e){this.g=t,this.h=e}function yl(t,e){if(Sn(e))throw Error("division by zero");if(Sn(t))return new Ho(is,is);if(Ct(t))return e=yl(He(t),e),new Ho(He(e.g),He(e.h));if(Ct(e))return e=yl(t,He(e)),new Ho(He(e.g),e.h);if(30<t.g.length){if(Ct(t)||Ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zg,r=e;0>=r.X(t);)n=l0(n),r=l0(r);var i=ns(n,1),s=ns(r,1);for(r=ns(r,2),n=ns(n,2);!Sn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ns(r,1),n=ns(n,1)}return e=ml(t,i.R(e)),new Ho(i,e)}for(i=is;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=un(n),o=s.R(e);Ct(o)||0<o.X(t);)n-=r,s=un(n),o=s.R(e);Sn(s)&&(s=zg),i=i.add(s),t=ml(t,o)}return new Ho(i,t)}b.gb=function(t){return yl(this,t).h};b.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};b.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};b.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function l0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function ns(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(i,t.h)}gl.prototype.createWebChannel=gl.prototype.g;ft.prototype.send=ft.prototype.u;ft.prototype.open=ft.prototype.m;ft.prototype.close=ft.prototype.close;bl.NO_ERROR=0;bl.TIMEOUT=8;bl.HTTP_ERROR=6;x0.COMPLETE="complete";M0.EventType=ia;ia.OPEN="a";ia.CLOSE="b";ia.ERROR="c";ia.MESSAGE="d";Ve.prototype.listen=Ve.prototype.O;ve.prototype.listenOnce=ve.prototype.P;ve.prototype.getLastError=ve.prototype.Sa;ve.prototype.getLastErrorCode=ve.prototype.Ia;ve.prototype.getStatus=ve.prototype.da;ve.prototype.getResponseJson=ve.prototype.Wa;ve.prototype.getResponseText=ve.prototype.ja;ve.prototype.send=ve.prototype.ha;ve.prototype.setWithCredentials=ve.prototype.Oa;jt.prototype.digest=jt.prototype.l;jt.prototype.reset=jt.prototype.reset;jt.prototype.update=jt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=un;ae.fromString=fD;var pD=Ut.createWebChannelTransport=function(){return new gl},gD=Ut.getStatEventTarget=function(){return Dl()},Pl=Ut.ErrorCode=bl,mD=Ut.EventType=x0,yD=Ut.Event=Kr,pm=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K9=Ut.FetchXmlHttpFactory=aa,la=Ut.WebChannel=M0,vD=Ut.XhrIo=ve,_D=Ut.Md5=jt,Qr=Ut.Integer=ae;var wD="@firebase/firestore";var Ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var Cs="10.7.0";var Xr=new Qn("@firebase/firestore");function da(){return Xr.logLevel}function A(t,...e){if(Xr.logLevel<=Z.DEBUG){let n=e.map(Zy);Xr.debug(`Firestore (${Cs}): ${t}`,...n)}}function xn(t,...e){if(Xr.logLevel<=Z.ERROR){let n=e.map(Zy);Xr.error(`Firestore (${Cs}): ${t}`,...n)}}function gs(t,...e){if(Xr.logLevel<=Z.WARN){let n=e.map(Zy);Xr.warn(`Firestore (${Cs}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function V(t="Unexpected state"){let e=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: `+t;throw xn(e),new Error(e)}function pe(t,e){t||V()}function z(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends Et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_m=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}},wm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Im=class{constructor(e){this.t=e,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new Vl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new Ue(e)}},Em=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Tm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Em(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new Dm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function NF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=NF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var q=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ul=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Ul{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},PF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pt=class t extends Ul{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return PF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new S(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var P=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var Cm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Cm.UNKNOWN_ID=-1;function OF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new ei(i,P.empty(),e)}function kF(t){return new ei(t.readTime,t.key,-1)}var ei=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(q.min(),P.empty(),-1)}static max(){return new t(q.max(),P.empty(),-1)}};function LF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=P.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var FF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ra(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==FF)throw t;A("LocalStore","Unexpectedly lost primary lease")})}var E=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function xa(t){return t.name==="IndexedDbTransactionError"}var ZD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function gd(t){return t==null}function ya(t){return t===0&&1/t==-1/0}function VF(t){return typeof t=="number"&&Number.isInteger(t)&&!ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var jF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sW=[...jF,"documentOverlays"],UF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$F=UF,oW=[...$F,"indexConfiguration","indexState","indexEntries"];function ID(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var we=class t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ds(this.root,e,this.comparator,!0)}},ds=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();let e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $l(this.data.getIterator())}getIteratorFrom(e){return new $l(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},$l=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Bl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tt.EMPTY_BYTE_STRING=new tt("");var BF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(pe(!!t),typeof t=="string"){let e=0,n=BF.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(t.seconds),nanos:_e(t.nanos)}}function _e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}function Xy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ev(t){let e=t.mapValue.fields.__previous_value__;return Xy(e)?ev(e):e}function va(t){let e=ur(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}var Am=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Hl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:eb(t)?9007199254740991:10:V()}function gn(t,e){if(t===e)return!0;let n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ur(i.timestampValue),a=ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lr(i.bytesValue).isEqual(lr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _e(i.geoPointValue.latitude)===_e(s.geoPointValue.latitude)&&_e(i.geoPointValue.longitude)===_e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _e(i.integerValue)===_e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=_e(i.doubleValue),a=_e(s.doubleValue);return o===a?ya(o)===ya(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ms(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ID(o)!==ID(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!gn(o[c],a[c])))return!1;return!0}(t,e);default:return V()}}function _a(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function ys(t,e){if(t===e)return 0;let n=ti(t),r=ti(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=_e(s.integerValue||s.doubleValue),c=_e(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ED(t.timestampValue,e.timestampValue);case 4:return ED(va(t),va(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=lr(s),c=lr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ie(a[u],c[u]);if(l!==0)return l}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ie(_e(s.latitude),_e(o.latitude));return a!==0?a:ie(_e(s.longitude),_e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ys(a[u],c[u]);if(l)return l}return ie(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ol.mapValue&&o===Ol.mapValue)return 0;if(s===Ol.mapValue)return 1;if(o===Ol.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ie(c[d],l[d]);if(h!==0)return h;let f=ys(a[c[d]],u[l[d]]);if(f!==0)return f}return ie(c.length,l.length)}(t.mapValue,e.mapValue);default:throw V()}}function ED(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=ur(t),r=ur(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function vs(t){return Rm(t)}function Rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return P.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Rm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Rm(n.fields[o])}`;return i+"}"}(t.mapValue):V()}function TD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xm(t){return!!t&&"integerValue"in t}function tv(t){return!!t&&"arrayValue"in t}function DD(t){return!!t&&"nullValue"in t}function bD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ll(t){return!!t&&"mapValue"in t}function fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var $t=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ll(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ss(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(fa(this.value))}};function tb(t){let e=[];return Ss(t.fields,(n,r)=>{let i=new pt([n]);if(Ll(r)){let s=tb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}var Bt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,q.min(),q.min(),q.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,q.min(),q.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,q.min(),q.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var _s=class{constructor(e,n){this.position=e,this.inclusive=n}};function CD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=P.comparator(P.fromName(o.referenceValue),n.key):r=ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}var ni=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function HF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ql=class{},Re=class t extends ql{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nm(e,n,r):n==="array-contains"?new km(e,r):n==="in"?new Lm(e,r):n==="not-in"?new Fm(e,r):n==="array-contains-any"?new Vm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pm(e,r):new Om(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ys(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ht=class t extends ql{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return nb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function nb(t){return t.op==="and"}function rb(t){return qF(t)&&nb(t)}function qF(t){for(let e of t.filters)if(e instanceof Ht)return!1;return!0}function Mm(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+vs(t.value);if(rb(t))return t.filters.map(e=>Mm(e)).join(",");{let e=t.filters.map(n=>Mm(n)).join(",");return`${t.op}(${e})`}}function ib(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ib(o,i.filters[a]),!0):!1}(t,e):void V()}function sb(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${vs(n.value)}`}(t):t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(sb).join(" ,")+"}"}(t):"Filter"}var Nm=class extends Re{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){let n=P.comparator(e.key,this.key);return this.matchesComparison(n)}},Pm=class extends Re{constructor(e,n){super(e,"in",n),this.keys=ob("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Om=class extends Re{constructor(e,n){super(e,"not-in",n),this.keys=ob("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ob(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}var km=class extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return tv(n)&&_a(n.arrayValue,this.value)}},Lm=class extends Re{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_a(this.value.arrayValue,n)}},Fm=class extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_a(this.value.arrayValue,n)}},Vm=class extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_a(this.value.arrayValue,r))}};var jm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function AD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jm(t,e,n,r,i,s,o)}function nv(t){let e=z(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vs(r)).join(",")),e.ce=n}return e.ce}function rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ib(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SD(t.startAt,e.startAt)&&SD(t.endAt,e.endAt)}function Um(t){return P.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var dr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function zF(t,e,n,r,i,s,o,a){return new dr(t,e,n,r,i,s,o,a)}function iv(t){return new dr(t)}function RD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ab(t){return t.collectionGroup!==null}function pa(t){let e=z(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ni(s,r))}),n.has(pt.keyField().canonicalString())||e.le.push(new ni(pt.keyField(),r))}return e.le}function fn(t){let e=z(t);return e.he||(e.he=GF(e,pa(t))),e.he}function GF(t,e){if(t.limitType==="F")return AD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ni(i.field,s)});let n=t.endAt?new _s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _s(t.startAt.position,t.startAt.inclusive):null;return AD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e){let n=t.filters.concat([e]);return new dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return rv(fn(t),fn(e))&&t.limitType===e.limitType}function cb(t){return`${nv(fn(t))}|lt:${t.limitType}`}function cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sb(i)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vs(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):P.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of pa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=CD(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,pa(r),i)||r.endAt&&!function(o,a,c){let u=CD(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,pa(r),i))}(t,e)}function WF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ub(t){return(e,n)=>{let r=!1;for(let i of pa(t)){let s=KF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KF(t,e,n){let r=t.field.isKeyField()?P.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ys(c,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}var hr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return XD(this.inner)}size(){return this.innerSize}};var QF=new we(P.comparator);function Mn(){return QF}var lb=new we(P.comparator);function ha(...t){let e=lb;for(let n of t)e=e.insert(n.key,n);return e}function db(t){let e=lb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return ga()}function hb(){return ga()}function ga(){return new hr(t=>t.toString(),(t,e)=>t.isEqual(e))}var YF=new we(P.comparator),JF=new Je(P.comparator);function X(...t){let e=JF;for(let n of t)e=e.add(n);return e}var ZF=new Je(ie);function XF(){return ZF}function fb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(e)?"-0":e}}function pb(t){return{integerValue:""+t}}function eV(t,e){return VF(e)?pb(e):fb(t,e)}var ws=class{constructor(){this._=void 0}};function tV(t,e,n){return t instanceof Is?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xy(s)&&(s=ev(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ri?mb(t,e):t instanceof ii?yb(t,e):function(i,s){let o=gb(i,s),a=xD(o)+xD(i.Ie);return xm(o)&&xm(i.Ie)?pb(a):fb(i.serializer,a)}(t,e)}function nV(t,e,n){return t instanceof ri?mb(t,e):t instanceof ii?yb(t,e):n}function gb(t,e){return t instanceof Es?function(r){return xm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Is=class extends ws{},ri=class extends ws{constructor(e){super(),this.elements=e}};function mb(t,e){let n=vb(e);for(let r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ii=class extends ws{constructor(e){super(),this.elements=e}};function yb(t,e){let n=vb(e);for(let r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}var Es=class extends ws{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function xD(t){return _e(t.integerValue||t.doubleValue)}function vb(t){return tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ri&&i instanceof ri||r instanceof ii&&i instanceof ii?ms(r.elements,i.elements,gn):r instanceof Es&&i instanceof Es?gn(r.Ie,i.Ie):r instanceof Is&&i instanceof Is}(t.transform,e.transform)}var Hm=class{constructor(e,n){this.version=e,this.transformResults=n}},ar=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ts=class{};function _b(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wa(t.key,ar.none()):new si(t.key,t.data,ar.none());{let n=t.data,r=$t.empty(),i=new Je(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Nn(t.key,r,new dn(i.toArray()),ar.none())}}function iV(t,e,n){t instanceof si?function(i,s,o){let a=i.value.clone(),c=ND(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nn?function(i,s,o){if(!Fl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=ND(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(wb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,r){return t instanceof si?function(s,o,a,c){if(!Fl(s.precondition,o))return a;let u=s.value.clone(),l=PD(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nn?function(s,o,a,c){if(!Fl(s.precondition,o))return a;let u=PD(s.fieldTransforms,c,o),l=o.data;return l.setAll(wb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Fl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=gb(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function MD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ms(r,i,(s,o)=>rV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var si=class extends Ts{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nn=class extends Ts{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function wb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function ND(t,e,n){let r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nV(o,a,n[i]))}return r}function PD(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,tV(s,o,e))}return r}var wa=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qm=class extends Ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&iV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=_b(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(n,r)=>MD(n,r))&&ms(this.baseMutations,e.baseMutations,(n,r)=>MD(n,r))}},Gm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=function(){return YF}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Wm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Km=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Se,ne;function oV(t){switch(t){default:return V();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function Ib(t){if(t===void 0)return xn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Se.OK:return m.OK;case Se.CANCELLED:return m.CANCELLED;case Se.UNKNOWN:return m.UNKNOWN;case Se.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Se.INTERNAL:return m.INTERNAL;case Se.UNAVAILABLE:return m.UNAVAILABLE;case Se.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Se.NOT_FOUND:return m.NOT_FOUND;case Se.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Se.ABORTED:return m.ABORTED;case Se.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Se.DATA_LOSS:return m.DATA_LOSS;default:return V()}}(ne=Se||(Se={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";var OD=null;function aV(){return new TextEncoder}var cV=new Qr([4294967295,4294967295],0);function kD(t){let e=aV().encode(t),n=new _D;return n.update(e),new Uint8Array(n.digest())}function LD(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qr([n,r],0),new Qr([i,s],0)]}var Qm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jr(`Invalid padding: ${n}`);if(r<0)throw new Jr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Qr.fromNumber(r)));return i.compare(cV)===1&&(i=new Qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=kD(e),[r,i]=LD(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=kD(e),[r,i]=LD(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Jr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(q.min(),i,new we(ie),Mn(),X())}},Ia=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,X(),X(),X())}};var hs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Gl=class{constructor(e,n){this.targetId=e,this.fe=n}},Wl=class{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Kl=class{constructor(){this.ge=0,this.pe=VD(),this.ye=tt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=X(),n=X(),r=X();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Ia(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=VD()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Ym=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Mn(),this.Qe=FD(),this.Ke=new we(ie)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Um(s))if(r===0){let o=new P(s.path);this.We(n,o,Bt.newNoDocument(o,q.min()))}else pe(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}OD?.tt(function(l,d,h,f,g){var w,y,T,j,Y,G;let Ie={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},re=d.unchangedNames;return re&&(Ie.bloomFilter={applied:g===0,hashCount:(w=re?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(j=(T=(y=re?.bits)===null||y===void 0?void 0:y.bitmap)===null||T===void 0?void 0:T.length)!==null&&j!==void 0?j:0,padding:(G=(Y=re?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&G!==void 0?G:0,mightContain:Oe=>{var zt;return(zt=f?.mightContain(Oe))!==null&&zt!==void 0&&zt}}),Ie}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=lr(r).toUint8Array()}catch(c){if(c instanceof Bl)return gs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Qm(o,i,s)}catch(c){return gs(c instanceof Jr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Um(a.target)){let c=new P(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Bt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=X();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new zl(e,n,this.Ke,this.qe,r);return this.qe=Mn(),this.Qe=FD(),this.Ke=new we(ie),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Kl,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Je(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Kl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function FD(){return new we(P.comparator)}function VD(){return new we(P.comparator)}var uV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),dV=(()=>({and:"AND",or:"OR"}))(),Jm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Zm(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Ql(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hV(t,e){return Ql(t,e.toTimestamp())}function pn(t){return pe(!!t),q.fromTimestamp(function(n){let r=ur(n);return new ze(r.seconds,r.nanos)}(t))}function sv(t,e){return function(r){return new ye(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Tb(t){let e=ye.fromString(t);return pe(Sb(e)),e}function Xm(t,e){return sv(t.databaseId,e.path)}function gm(t,e){let n=Tb(e);if(n.get(1)!==t.databaseId.projectId)throw new S(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(Db(n))}function ey(t,e){return sv(t.databaseId,e)}function fV(t){let e=Tb(t);return e.length===4?ye.emptyPath():Db(e)}function ty(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Db(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jD(t,e,n){return{name:Xm(t,e),fields:n.value.mapValue.fields}}function pV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(pe(l===void 0||typeof l=="string"),tt.fromBase64String(l||"")):(pe(l===void 0||l instanceof Uint8Array),tt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:Ib(u.code);return new S(l,u.message||"")}(o);n=new Wl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gm(t,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):q.min(),a=new $t({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new hs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gm(t,r.document),s=r.readTime?pn(r.readTime):q.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gm(t,r.document),s=r.removedTargetIds||[];n=new hs([],s,i,null)}else{if(!("filter"in e))return V();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Km(i,s),a=r.targetId;n=new Gl(a,o)}}return n}function gV(t,e){let n;if(e instanceof si)n={update:jD(t,e.key,e.value)};else if(e instanceof wa)n={delete:Xm(t,e.key)};else if(e instanceof Nn)n={update:jD(t,e.key,e.data),updateMask:DV(e.fieldMask)};else{if(!(e instanceof qm))return V();n={verify:Xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Is)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ii)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Es)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:V()}(t,e.precondition)),n}function mV(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pn(i.updateTime):pn(s);return o.isEqual(q.min())&&(o=pn(s)),new Hm(o,i.transformResults||[])}(n,e))):[]}function yV(t,e){return{documents:[ey(t,e.path)]}}function vV(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ey(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ey(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return Cb(Ht.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:us(d.field),direction:IV(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=Zm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function _V(t){let e=fV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=bb(d);return h instanceof Ht&&rb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new ni(ls(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,gd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new _s(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new _s(f,h)}(n.endAt)),zF(e,i,o,s,a,"F",c,u)}function wV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ls(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ls(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ls(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ls(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ht.create(n.compositeFilter.filters.map(r=>bb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return V()}}(n.compositeFilter.op))}(t):V()}function IV(t){return uV[t]}function EV(t){return lV[t]}function TV(t){return dV[t]}function us(t){return{fieldPath:t.canonicalString()}}function ls(t){return pt.fromServerFormat(t.fieldPath)}function Cb(t){return t instanceof Re?function(n){if(n.op==="=="){if(bD(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(DD(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bD(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(DD(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof Ht?function(n){let r=n.getFilters().map(i=>Cb(i));return r.length===1?r[0]:{compositeFilter:{op:TV(n.op),filters:r}}}(t):V()}function DV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ea=class t{constructor(e,n,r,i,s=q.min(),o=q.min(),a=tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ny=class{constructor(e){this.ut=e}};function bV(t){let e=_V({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}var Yl=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(_e(e.integerValue));else if("doubleValue"in e){let r=_e(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),ya(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(lr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?eb(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):V()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),P.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Yl.St=new Yl;var ry=class{constructor(){this.on=new iy}addToCollectionParentIndex(e,n){return this.on.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(ei.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}},iy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(ye.comparator)).toArray()}};var cW=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Ta=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var sy=class{constructor(){this.changes=new hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var oy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ay=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ma(r.mutation,i,dn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){let i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ha();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mn(),o=ga(),a=function(){return ga()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Nn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),ma(l.mutation,u,l.mutation.getFieldMask(),ze.now())):o.set(u.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new oy(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ga(),i=new we((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||dn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||X()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=hb();l.forEach(h=>{if(!s.has(h)){let f=_b(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return P.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ab(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(Yr()),a=-1,c=s;return o.next(u=>E.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,X())).next(l=>({batchId:a,changes:db(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ha();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,c=>{let u=function(d,h){return new dr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Bt.newInvalidDocument(l)))});let a=ha();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&ma(l.mutation,u,dn.empty(),ze.now()),yd(n,u)&&(a=a.insert(c,u))}),a})}};var cy=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return E.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),E.resolve()}getNamedQuery(e,n){return E.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:bV(i.bundledQuery),readTime:pn(i.readTime)}}(n)),E.resolve()}};var uy=class{constructor(){this.overlays=new we(P.comparator),this.lr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Yr();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){let i=Yr(),s=n.length+1,o=new P(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new we((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Yr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Yr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return E.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wm(n,r));let s=this.lr.get(n);s===void 0&&(s=X(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Da=class{constructor(){this.hr=new Je(Ae.Pr),this.Ir=new Je(Ae.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new Ae(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ae(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new P(new ye([])),r=new Ae(n,e),i=new Ae(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new P(new ye([])),r=new Ae(n,e),i=new Ae(n,e+1),s=X();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ae(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ae=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return P.comparator(e.key,n.key)||ie(e.gr,n.gr)}static Tr(e,n){return ie(e.gr,n.gr)||P.comparator(e.key,n.key)}};var ly=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Je(Ae.Pr)}checkEmpty(e){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new Ae(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ae(n,0),i=new Ae(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ie);return n.forEach(i=>{let s=new Ae(i,0),o=new Ae(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),E.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;P.isDocumentKey(s)||(s=s.child(""));let o=new Ae(new P(s),0),a=new Je(ie);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),E.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return E.forEach(n.mutations,i=>{let s=new Ae(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new Ae(n,0),i=this.yr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,E.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var dy=class{constructor(e){this.Cr=e,this.docs=function(){return new we(P.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Mn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mn(),o=n.path,a=new P(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||LF(kF(l),r)<=0||(i.has(l.key)||yd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){V()}vr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hy(this)}getSize(e){return E.resolve(this.size)}},hy=class extends sy{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var fy=class{constructor(e){this.persistence=e,this.Fr=new hr(n=>nv(n),rv),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Da,this.targetCount=0,this.Nr=Ta.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),E.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.kn(n),E.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),E.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Or.containsKey(n))}};var py=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ZD(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new fy(this),this.indexManager=new ry,this.remoteDocumentCache=function(i){return new dy(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new ny(n),this.Kr=new cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ly(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);let i=new gy(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},gy=class extends Sm{constructor(e){super(),this.currentSequenceNumber=e}},my=class t{constructor(e){this.persistence=e,this.Gr=new Da,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw V()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),E.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Hr,r=>{let i=P.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return E.or([()=>E.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var yy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=X(),i=X();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var vy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _y=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new vy;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(da()<=Z.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),E.resolve()):(da()<=Z.DEBUG&&A("QueryEngine","Query:",cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(da()<=Z.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):E.resolve())}zi(e,n){if(RD(n))return E.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bm(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=X(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Bm(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return RD(n)||i.isEqual(q.min())?E.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?E.resolve(null):(da()<=Z.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cs(n)),this.Xi(e,o,n,OF(i,-1)).next(a=>a))})}Yi(e,n){let r=new Je(ub(e));return n.forEach((i,s)=>{yd(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return da()<=Z.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",cs(n)),this.Gi.getDocumentsMatchingQuery(e,n,ei.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var wy=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new we(ie),this.ns=new hr(s=>nv(s),rv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ay(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function CV(t,e,n,r){return new wy(t,e,n,r)}function Ab(t,e){return p(this,null,function*(){let n=z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=X();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function SV(t,e){let n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=E.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(w=>{let y=u.docVersions.get(g);pe(y!==null),w.version.compareTo(y)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),l.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=X();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Rb(t){let e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function AV(t,e){let n=z(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(tt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(w,y,T){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=Mn(),u=X();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(RV(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(q.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function RV(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function xV(t,e){let n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MV(t,e){let n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Ea(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function Iy(t,e,n){return p(this,null,function*(){let r=z(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xa(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function UD(t,e,n){let r=z(t),i=q.min(),s=X();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=z(c),h=d.ns.get(l);return h!==void 0?E.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:X())).next(a=>(NV(r,WF(e),a),{documents:a,ls:s})))}function NV(t,e,n){let r=t.rs.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var Jl=class{constructor(){this.activeTargetIds=XF()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ey=class{constructor(){this.eo=new Jl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Jl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ty=class{ro(e){}shutdown(){}};var Zl=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kl=null;function mm(){return kl===null?kl=function(){return 268435456+Math.round(2147483648*Math.random())}():kl++,"0x"+kl.toString(16)}var PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Dy=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var Ye="WebChannelConnection",by=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=mm(),c=this.So(n,r);A("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(A("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw gs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=PV[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=mm();return new Promise((o,a)=>{let c=new vD;c.setWithCredentials(!0),c.listenOnce(mD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Pl.NO_ERROR:let l=c.getResponseJson();A(Ye,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Pl.TIMEOUT:A(Ye,`RPC '${e}' ${s} timed out`),a(new S(m.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:let d=c.getStatus();if(A(Ye,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(y){let T=y.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(T)>=0?T:m.UNKNOWN}(f.status);a(new S(g,f.message))}else a(new S(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(m.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{A(Ye,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);A(Ye,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=mm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pD(),a=gD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");A(Ye,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new Dy({co:y=>{f?A(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(A(Ye,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(Ye,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),w=(y,T,j)=>{y.listen(T,Y=>{try{j(Y)}catch(G){setTimeout(()=>{throw G},0)}})};return w(d,la.EventType.OPEN,()=>{f||A(Ye,`RPC '${e}' stream ${i} transport opened.`)}),w(d,la.EventType.CLOSE,()=>{f||(f=!0,A(Ye,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),w(d,la.EventType.ERROR,y=>{f||(f=!0,gs(Ye,`RPC '${e}' stream ${i} transport errored:`,y),g.Ro(new S(m.UNAVAILABLE,"The operation could not be completed")))}),w(d,la.EventType.MESSAGE,y=>{var T;if(!f){let j=y.data[0];pe(!!j);let Y=j,G=Y.error||((T=Y[0])===null||T===void 0?void 0:T.error);if(G){A(Ye,`RPC '${e}' stream ${i} received error:`,G);let Ie=G.status,re=function(mr){let li=Se[mr];if(li!==void 0)return Ib(li)}(Ie),Oe=G.message;re===void 0&&(re=m.INTERNAL,Oe="Unknown error status: "+Ie+" with message "+G.message),f=!0,g.Ro(new S(re,Oe)),d.close()}else A(Ye,`RPC '${e}' stream ${i} received:`,j),g.Vo(j)}}),w(a,yD.STAT_EVENT,y=>{y.stat===pm.PROXY?A(Ye,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===pm.NOPROXY&&A(Ye,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}};function ym(){return typeof document<"u"?document:null}function vd(t){return new Jm(t,!0)}var Xl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var ed=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Xl(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return p(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return p(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return p(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new S(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>p(this,null,function*(){this.state=0,this.start()}))}o_(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cy=class extends ed{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=pV(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?pn(o.readTime):q.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=ty(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Um(c)?{documents:yV(s,c)}:{query:vV(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Eb(s,o.resumeToken);let u=Zm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=Ql(s,o.snapshotVersion.toTimestamp());let u=Zm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=wV(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=ty(this.serializer),n.removeTarget=e,this.e_(n)}},Sy=class extends ed{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=mV(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.I_(r,n)}return pe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=ty(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>gV(this.serializer,r))};this.e_(n)}};var Ay=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new S(m.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(m.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(m.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var Ry=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(xn(n),this.f_=!1):A("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var xy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){ci(this)&&(A("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=z(c);u.C_.add(4),yield Ma(u),u.M_.set("Unknown"),u.C_.delete(4),yield _d(u)})}(this))}))}),this.M_=new Ry(r,i)}};function _d(t){return p(this,null,function*(){if(ci(t))for(let e of t.v_)yield e(!0)})}function Ma(t){return p(this,null,function*(){for(let e of t.v_)yield e(!1)})}function xb(t,e){let n=z(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),cv(n)?av(n):As(n).Ho()&&ov(n,e))}function Mb(t,e){let n=z(t),r=As(n);n.D_.delete(e),r.Ho()&&Nb(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ci(n)&&n.M_.set("Unknown"))}function ov(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}As(t).u_(e)}function Nb(t,e){t.x_.Oe(e),As(t).c_(e)}function av(t){t.x_=new Ym({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),As(t).start(),t.M_.g_()}function cv(t){return ci(t)&&!As(t).jo()&&t.D_.size>0}function ci(t){return z(t).C_.size===0}function Pb(t){t.x_=void 0}function OV(t){return p(this,null,function*(){t.D_.forEach((e,n)=>{ov(t,e)})})}function kV(t,e){return p(this,null,function*(){Pb(t),cv(t)?(t.M_.w_(e),av(t)):t.M_.set("Unknown")})}function LV(t,e,n){return p(this,null,function*(){if(t.M_.set("Online"),e instanceof Wl&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield td(t,r)}else if(e instanceof hs?t.x_.$e(e):e instanceof Gl?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(q.min()))try{let r=yield Rb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(tt.EMPTY_BYTE_STRING,l.snapshotVersion)),Nb(s,c);let d=new Ea(l.target,c,u,l.sequenceNumber);ov(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield td(t,r)}})}function td(t,e,n){return p(this,null,function*(){if(!xa(e))throw e;t.C_.add(1),yield Ma(t),t.M_.set("Offline"),n||(n=()=>Rb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield _d(t)}))})}function Ob(t,e){return e().catch(n=>td(t,n,e))}function wd(t){return p(this,null,function*(){let e=z(t),n=fr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;FV(e);)try{let i=yield xV(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,VV(e,i)}catch(i){yield td(e,i)}kb(e)&&Lb(e)})}function FV(t){return ci(t)&&t.b_.length<10}function VV(t,e){t.b_.push(e);let n=fr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kb(t){return ci(t)&&!fr(t).jo()&&t.b_.length>0}function Lb(t){fr(t).start()}function jV(t){return p(this,null,function*(){fr(t).E_()})}function UV(t){return p(this,null,function*(){let e=fr(t);for(let n of t.b_)e.P_(n.mutations)})}function $V(t,e,n){return p(this,null,function*(){let r=t.b_.shift(),i=Gm.from(r,e,n);yield Ob(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield wd(t)})}function BV(t,e){return p(this,null,function*(){e&&fr(t).h_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return oV(o)&&o!==m.ABORTED}(i.code)){let s=r.b_.shift();fr(r).Yo(),yield Ob(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield wd(r)}})}(t,e)),kb(t)&&Lb(t)})}function $D(t,e){return p(this,null,function*(){let n=z(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");let r=ci(n);n.C_.add(3),yield Ma(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield _d(n)})}function HV(t,e){return p(this,null,function*(){let n=z(t);e?(n.C_.delete(2),yield _d(n)):e||(n.C_.add(2),yield Ma(n),n.M_.set("Unknown"))})}function As(t){return t.O_||(t.O_=function(n,r,i){let s=z(n);return s.A_(),new Cy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:OV.bind(null,t),Io:kV.bind(null,t),a_:LV.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.O_.Yo(),cv(t)?av(t):t.M_.set("Unknown")):(yield t.O_.stop(),Pb(t))}))),t.O_}function fr(t){return t.N_||(t.N_=function(n,r,i){let s=z(n);return s.A_(),new Sy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:jV.bind(null,t),Io:BV.bind(null,t),T_:UV.bind(null,t),I_:$V.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.N_.Yo(),yield wd(t)):(yield t.N_.stop(),t.b_.length>0&&(A("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var My=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uv(t,e){if(xn("AsyncQueue",`${e}: ${t}`),xa(t))return new S(m.UNAVAILABLE,`${e}: ${t}`);throw t}var nd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=ha(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var rd=class{constructor(){this.B_=new we(P.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):V():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ds=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,nd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ny=class{constructor(){this.k_=void 0,this.listeners=[]}},Py=class{constructor(){this.queries=new hr(e=>cb(e),md),this.onlineState="Unknown",this.q_=new Set}};function qV(t,e){return p(this,null,function*(){let n=z(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ny),i)try{s.k_=yield n.onListen(r)}catch(o){let a=uv(o,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&lv(n)})}function zV(t,e){return p(this,null,function*(){let n=z(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function GV(t,e){let n=z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&lv(n)}function WV(t,e,n){let r=z(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function lv(t){t.q_.forEach(e=>{e.next()})}var Oy=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var id=class{constructor(e){this.key=e}},sd=class{constructor(e){this.key=e}},ky=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=X(),this.mutatedKeys=X(),this._a=ub(e),this.aa=new nd(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new rd,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=yd(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),y=!1;h&&f?h.data.isEqual(f.data)?g!==w&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(f?(o=o.add(f),s=w?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,g){let w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return w(f)-w(g)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new Ds(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new rd,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=X(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new sd(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new id(r))}),n}da(e){this.ia=e.ls,this.oa=X();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ds.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Ly=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Fy=class{constructor(e){this.key=e,this.Ra=!1}},Vy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new hr(a=>cb(a),md),this.fa=new Map,this.ga=new Set,this.pa=new we(P.comparator),this.ya=new Map,this.wa=new Da,this.Sa={},this.ba=new Map,this.Da=Ta.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function KV(t,e){return p(this,null,function*(){let n=i2(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield MV(n.localStore,fn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield QV(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&xb(n.remoteStore,o)}return i})}function QV(t,e,n,r,i){return p(this,null,function*(){t.va=(d,h,f)=>function(w,y,T,j){return p(this,null,function*(){let Y=y.view.ca(T);Y.Zi&&(Y=yield UD(w.localStore,y.query,!1).then(({documents:Oe})=>y.view.ca(Oe,Y)));let G=j&&j.targetChanges.get(y.targetId),Ie=j&&j.targetMismatches.get(y.targetId)!=null,re=y.view.applyChanges(Y,w.isPrimaryClient,G,Ie);return HD(w,y.targetId,re.Ta),re.snapshot})}(t,d,h,f);let s=yield UD(t.localStore,e,!0),o=new ky(e,s.ls),a=o.ca(s.documents),c=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);HD(t,n,u.Ta);let l=new Ly(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function YV(t,e){return p(this,null,function*(){let n=z(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!md(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Iy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Mb(n.remoteStore,r.targetId),jy(n,r.targetId)}).catch(Ra))):(jy(n,r.targetId),yield Iy(n.localStore,r.targetId,!0))})}function JV(t,e,n){return p(this,null,function*(){let r=s2(t);try{let i=yield function(o,a){let c=z(o),u=ze.now(),l=a.reduce((f,g)=>f.add(g.key),X()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Mn(),w=X();return c.ss.getEntries(f,l).next(y=>{g=y,g.forEach((T,j)=>{j.isValidDocument()||(w=w.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(y=>{d=y;let T=[];for(let j of a){let Y=sV(j,d.get(j.key).overlayedDocument);Y!=null&&T.push(new Nn(j.key,Y,tb(Y.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,T,a)}).next(y=>{h=y;let T=y.applyToLocalDocumentSet(d,w);return c.documentOverlayCache.saveOverlays(f,y.batchId,T)})}).then(()=>({batchId:h.batchId,changes:db(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new we(ie)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Na(r,i.changes),yield wd(r.remoteStore)}catch(i){let s=uv(i,"Failed to persist write");n.reject(s)}})}function Fb(t,e){return p(this,null,function*(){let n=z(t);try{let r=yield AV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?pe(o.Ra):i.removedDocuments.size>0&&(pe(o.Ra),o.Ra=!1))}),yield Na(n,r,e)}catch(r){yield Ra(r)}})}function BD(t,e,n){let r=z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=z(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&lv(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ZV(t,e,n){return p(this,null,function*(){let r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new we(P.comparator);o=o.insert(s,Bt.newNoDocument(s,q.min()));let a=X().add(s),c=new zl(q.min(),new Map,new we(ie),o,a);yield Fb(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),dv(r)}else yield Iy(r.localStore,e,!1).then(()=>jy(r,e,n)).catch(Ra)})}function XV(t,e){return p(this,null,function*(){let n=z(t),r=e.batch.batchId;try{let i=yield SV(n.localStore,e);jb(n,r,null),Vb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Na(n,i)}catch(i){yield Ra(i)}})}function e2(t,e,n){return p(this,null,function*(){let r=z(t);try{let i=yield function(o,a){let c=z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(pe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);jb(r,e,n),Vb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Na(r,i)}catch(i){yield Ra(i)}})}function Vb(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function jb(t,e,n){let r=z(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function jy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Ub(t,r)})}function Ub(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(Mb(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),dv(t))}function HD(t,e,n){for(let r of n)r instanceof id?(t.wa.addReference(r.key,e),t2(t,r)):r instanceof sd?(A("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Ub(t,r.key)):V()}function t2(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ga.add(r),dv(t))}function dv(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new P(ye.fromString(e)),r=t.Da.next();t.ya.set(r,new Fy(n)),t.pa=t.pa.insert(n,r),xb(t.remoteStore,new Ea(fn(iv(n.path)),r,"TargetPurposeLimboResolution",ZD._e))}}function Na(t,e,n){return p(this,null,function*(){let r=z(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=yy.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return p(this,null,function*(){let l=z(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(u,h=>E.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!xa(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,w)}}})}(r.localStore,s))})}function n2(t,e){return p(this,null,function*(){let n=z(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());let r=yield Ab(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new S(m.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Na(n,r._s)}})}function r2(t,e){let n=z(t),r=n.ya.get(e);if(r&&r.Ra)return X().add(r.key);{let i=X(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function i2(t){let e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.Va.a_=GV.bind(null,e.eventManager),e.Va.Fa=WV.bind(null,e.eventManager),e}function s2(t){let e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,e),e}var od=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return CV(this.persistence,new _y,e.initialUser,this.serializer)}createPersistence(e){return new py(my.jr,this.serializer)}createSharedClientState(e){return new Ey}terminate(){return p(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Uy=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n2.bind(null,this.syncEngine),yield HV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Py}()}createDatastore(e){let n=vd(e.databaseInfo.databaseId),r=function(s){return new by(s)}(e.databaseInfo);return function(s,o,a,c){return new Ay(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new xy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>BD(this.syncEngine,n,0),function(){return Zl.D()?new Zl:new Ty}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Vy(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return p(this,null,function*(){let r=z(n);A("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Ma(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var $y=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):xn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var By=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ue.UNAUTHENTICATED,this.clientId=jl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){A("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(A("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return p(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=uv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function vm(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield Ab(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function qD(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield a2(t);A("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>$D(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$D(e.remoteStore,s)),t._onlineComponents=e})}function o2(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function a2(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!o2(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),yield vm(t,new od)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield vm(t,new od);return t._offlineComponents})}function $b(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield qD(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield qD(t,new Uy))),t._onlineComponents})}function c2(t){return $b(t).then(e=>e.syncEngine)}function zD(t){return p(this,null,function*(){let e=yield $b(t),n=e.eventManager;return n.onListen=KV.bind(null,e.syncEngine),n.onUnlisten=YV.bind(null,e.syncEngine),n})}function Bb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var GD=new Map;function Hb(t,e,n){if(!n)throw new S(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u2(t,e,n,r){if(e===!0&&r===!0)throw new S(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WD(t){if(!P.isDocumentKey(t))throw new S(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KD(t){if(P.isDocumentKey(t))throw new S(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Id(t);throw new S(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ad=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new S(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new S(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new S(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ad({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ad(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _m;switch(r.type){case"firstParty":return new Tm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=GD.get(n);r&&(A("ComponentProvider","Removing Datastore"),GD.delete(n),r.terminate())}(this),Promise.resolve()}};function qb(t,e,n,r={}){var i;let s=(t=fs(t,bs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ue.MOCK_USER;else{a=_E(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ue(u)}t._authCredentials=new wm(new Vl(a,c))}}var oi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},gt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},cr=class t extends oi{constructor(e,n,r){super(e,n,iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new P(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ct(t,e,...n){if(t=dt(t),Hb("collection","path",e),t instanceof bs){let r=ye.fromString(e,...n);return KD(r),new cr(t,null,r)}{if(!(t instanceof gt||t instanceof cr))throw new S(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return KD(r),new cr(t.firestore,null,r)}}function Pa(t,e,...n){if(t=dt(t),arguments.length===1&&(e=jl.newId()),Hb("doc","path",e),t instanceof bs){let r=ye.fromString(e,...n);return WD(r),new gt(t,null,new P(r))}{if(!(t instanceof gt||t instanceof cr))throw new S(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return WD(r),new gt(t.firestore,t instanceof cr?t.converter:null,new P(r))}}var Hy=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Xl(this,"async_queue_retry"),this.iu=()=>{let n=ym();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Rn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return p(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!xa(e))throw e;A("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=My.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&V()}verifyOperationInProgress(){}uu(){return p(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function QD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ai=class extends bs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Hy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wb(this),this._firestoreClient.terminate()}};function zb(t,e){let n=typeof t=="object"?t:mo(),r=typeof t=="string"?t:e||"(default)",i=dp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=yE("firestore");s&&qb(i,...s)}return i}function Gb(t){return t._firestoreClient||Wb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Wb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new Am(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Bb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new By(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ba=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tt.fromBase64String(e))}catch(n){throw new S(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ca=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cd=class{constructor(e){this._methodName=e}};var Sa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var l2=/^__.*__$/,qy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nn(e,this.data,this.fieldMask,n,this.fieldTransforms):new si(e,this.data,n,this.fieldTransforms)}};function Kb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}var zy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ud(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Kb(this.Iu)&&l2.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Gy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vd(e)}pu(e,n,r,i=!1){return new zy({Iu:e,methodName:n,gu:r,path:pt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Qb(t){let e=t._freezeSettings(),n=vd(t._databaseId);return new Gy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d2(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Zb("Data must be an object, but it was:",o,r);let a=Yb(r,o),c,u;if(s.merge)c=new dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=f2(e,d,n);if(!o.contains(h))throw new S(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);g2(l,h)||l.push(h)}c=new dn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new qy(new $t(a),c,u)}function h2(t,e,n,r=!1){return hv(n,t.pu(r?4:3,e))}function hv(t,e){if(Jb(t=dt(t)))return Zb("Unsupported field value:",e,t),Yb(t,e);if(t instanceof cd)return function(r,i){if(!Kb(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=hv(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ze.fromDate(r);return{timestampValue:Ql(i.serializer,s)}}if(r instanceof ze){let s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ql(i.serializer,s)}}if(r instanceof Sa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ba)return{bytesValue:Eb(i.serializer,r._byteString)};if(r instanceof gt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Id(r)}`)}(t,e)}function Yb(t,e){let n={};return XD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,(r,i)=>{let s=hv(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Jb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Sa||t instanceof ba||t instanceof gt||t instanceof cd)}function Zb(t,e,n){if(!Jb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Id(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function f2(t,e,n){if((e=dt(e))instanceof Ca)return e._internalPath;if(typeof e=="string")return Xb(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}var p2=new RegExp("[~\\*/\\[\\]]");function Xb(t,e,n){if(e.search(p2)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ca(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new S(m.INVALID_ARGUMENT,a+t+c)}function g2(t,e){return t.some(n=>n.isEqual(e))}var ld=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ed("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Wy=class extends ld{data(){return super.data()}};function Ed(t,e){return typeof e=="string"?Xb(t,e):e instanceof Ca?e._internalPath:e._delegate._internalPath}function m2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new S(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Aa=class{},dd=class extends Aa{};function Pn(t,e,...n){let r=[];e instanceof Aa&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Ky).length,a=s.filter(c=>c instanceof hd).length;if(o>1||o>0&&a>0)throw new S(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var hd=class t extends dd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return tC(e._query,n),new oi(e.firestore,e.converter,$m(e._query,n))}_parse(e){let n=Qb(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new S(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){JD(d,l);let f=[];for(let g of d)f.push(YD(c,s,g));h={arrayValue:{values:f}}}else h=YD(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||JD(d,l),h=h2(a,o,d,l==="in"||l==="not-in");return Re.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function fv(t,e,n){let r=e,i=Ed("where",t);return hd._create(i,r,n)}var Ky=class t extends Aa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)tC(o,c),o=$m(o,c)}(e._query,n),new oi(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Qy=class t extends dd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new S(m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new S(m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ni(s,o)}(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new dr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function eC(t,e="asc"){let n=e,r=Ed("orderBy",t);return Qy._create(r,n)}function YD(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new S(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ab(e)&&n.indexOf("/")!==-1)throw new S(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ye.fromString(n));if(!P.isDocumentKey(r))throw new S(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TD(t,new P(r))}if(n instanceof gt)return TD(t,n._key);throw new S(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function JD(t,e){if(!Array.isArray(t)||t.length===0)throw new S(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tC(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new S(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new S(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Yy=class{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ss(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Sa(_e(e.latitude),_e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ev(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){let n=ur(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ye.fromString(e);pe(Sb(r));let i=new Hl(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function y2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Zr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fd=class extends ld{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ed("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ps=class extends fd{data(e={}){return super.data(e)}},Jy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ps(this._firestore,this._userDataWriter,r.key,r,new Zr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:v2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function v2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}var pd=class extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ba(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}};function pv(t){return nC(fs(t.firestore,ai),[new wa(t._key,ar.none())])}function gv(t,e){let n=fs(t.firestore,ai),r=Pa(t),i=y2(t.converter,e);return nC(n,[d2(Qb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function mv(t,...e){var n,r,i;t=dt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||QD(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(QD(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof gt)u=fs(t.firestore,ai),l=iv(t._key.path),c={next:d=>{e[o]&&e[o](_2(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=fs(t,oi);u=fs(d.firestore,ai),l=d._query;let h=new pd(u);c={next:f=>{e[o]&&e[o](new Jy(u,h,d,f))},error:e[o+1],complete:e[o+2]},m2(t._query)}return function(h,f,g,w){let y=new $y(w),T=new Oy(f,y,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return qV(yield zD(h),T)})),()=>{y.Na(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return zV(yield zD(h),T)}))}}(Gb(u),l,a,c)}function nC(t,e){return function(r,i){let s=new Rn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return JV(yield c2(r),i,s)})),s.promise}(Gb(t),e)}function _2(t,e,n){let r=n.docs.get(e._key),i=new pd(t);return new fd(t,i,e._key,r,new Zr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Cs=i})(Bi),Jn(new Dt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ai(new Im(r.getProvider("auth-internal")),new bm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fe(wD,"4.4.0",e),Fe(wD,"4.4.0","esm2017")})();var Td=function(){return Td=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Td.apply(this,arguments)};var E2={includeMetadataChanges:!1};function yv(t,e){return e===void 0&&(e=E2),new H(function(n){var r=mv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function rC(t){return yv(t,{includeMetadataChanges:!0})}function iC(t,e){return e===void 0&&(e={}),rC(t).pipe(k(function(n){return vv(n,e)}))}function vv(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Td(Td({},r),(n={},n[e.idField]=t.id,n))}function sC(t){return yv(t,{includeMetadataChanges:!0}).pipe(k(function(e){return e.docs}))}function oC(t,e){return e===void 0&&(e={}),sC(t).pipe(k(function(n){return n.map(function(r){return vv(r,e)})}))}var ui=class{constructor(e){return e}},aC="firestore",_v=class{constructor(){return vo(aC)}};var wv=new x("angularfire2.firestore-instances");function T2(t,e){let n=pp(aC,t,e);return n&&new ui(n)}function D2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ui(r)}}var b2={provide:_v,deps:[[new Ft,wv]]},C2={provide:ui,useFactory:T2,deps:[[new Ft,wv],Vr]},S2=(()=>{class t{constructor(){Fe("angularfire",qi.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ot({type:t});static \u0275inj=Pt({providers:[C2,b2]})}return t})();function cC(t,...e){return{ngModule:S2,providers:[{provide:wv,useFactory:D2(t),multi:!0,deps:[de,Vt,_o,wo,[new Ft,il],[new Ft,yo],...e]}]}}var qt=Zn(oC,!0);var uC=Zn(iC,!0);var lC=Zn(zb,!0);var pr=Zn(eC,!0);var dC={providers:[wT(IT),iE(),LT({config:{availableLangs:["en","es","fr"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!UI()},loader:FT}),Xc(VE(()=>jE({apiKey:"AIzaSyCJTb1963zwqhGJKc4b71Py1B5He0ehcNg",authDomain:"moncv-47e4d.firebaseapp.com",databaseURL:"https://moncv-47e4d-default-rtdb.firebaseio.com",projectId:"moncv-47e4d",storageBucket:"moncv-47e4d.appspot.com",messagingSenderId:"654393496327",appId:"1:654393496327:web:c5c46b69c0ab9503e5aba2"}))),Xc(cC(()=>lC()))]};var gr=(()=>{let e=class e{constructor(r){this.fs=r,this.countdownEndSource=new Ee,this.countdownEnd$=this.countdownEndSource.asObservable(),this.workHit="",this.skillsRef=ct(this.fs,"skills.profile.p1")}getWorkHit(){return this.workHit}getProfile(r){let i=ct(this.fs,r+"/profile/profile"),s=Pn(i,pr("id"));return qt(s,{idField:"id"})}getSkills(r){let i=ct(this.fs,r+"/skills/skill"),s=Pn(i,pr("id"));return qt(s,{idField:"id"})}getExperience(r){let i=ct(this.fs,r+"/experiences/experience"),s=Pn(i,pr("n"));return qt(s,{idField:"id"})}getProjects(r){let i=ct(this.fs,r+"/projects/project"),s=Pn(i,pr("n"));return qt(s,{idField:"id"})}getProject(r,i){console.log("Ruta :",r+"/projects/project","    ID: ",i);let s=Pa(this.fs,r+"/projects/project/"+i);return console.log("Documento : ",s),uC(s)}getDetailsExperience(r){let i=ct(this.fs,r+"/details");return qt(i,{idField:"id"})}getSkillsByQuery(r){let i=ct(this.fs,"skills"),s=Pn(i,fv("es_desc","in",["saltar","cantar","amar"]),pr(""));return qt(s)}getVolunt(r){let i=ct(this.fs,r);return qt(i,{idField:"id"})}get(r){let i=ct(this.fs,r+"/volunteering/volunteering");return qt(i,{idField:"id"})}getVoluntDetail(r){let i=ct(this.fs,r+"/volunteering/volunteering"),s=Pn(i,pr("n"));return qt(s,{idField:"id"})}getStudy(r){let i=ct(this.fs,r+"/studies/study"),s=Pn(i,pr("n"));return qt(s,{idField:"id"})}addSkill(r){let i={detail:r},s=ct(this.fs,"skills");return gv(s,i)}deleteSkill(r){let i=Pa(this.fs,"skills/"+r);return pv(i)}};e.\u0275fac=function(i){return new(i||e)(R(ui))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function R2(t,e){if(t&1&&(v(0,"ul",1),I(1," \xA0"),v(2,"li",2),F(3,"i",3),I(4),_()()),t&2){let n=e.$implicit;N(4),fe("\xA0",n.d,"")}}var hC=(()=>{let e=class e{ngOnInit(){this.service.getDetailsExperience(this.detailsExperience).subscribe(r=>this.detailsExperiences=r)}constructor(r){this.service=r,this.detailsExperience=[],this.detailsExperiences=[]}};e.\u0275fac=function(i){return new(i||e)(Ce(gr))},e.\u0275cmp=ot({type:e,selectors:[["app-experience"]],inputs:{detailsExperience:"detailsExperience"},standalone:!0,features:[at],decls:1,vars:1,consts:[["class","list-inline",4,"ngFor","ngForOf"],[1,"list-inline"],[1,"text-justify",2,"margin-top","-1.7em"],[1,"fa-solid","fa-caret-right"]],template:function(i,s){i&1&&Le(0,R2,5,1,"ul",0),i&2&&Pe("ngForOf",s.detailsExperiences)},dependencies:[Dn,Wn]});let t=e;return t})();function x2(t,e){if(t&1&&(qn(0),I(1),zn()),t&2){let n=e.$implicit;N(1),fe(" ",n("profile")," ")}}function M2(t,e){if(t&1&&(v(0,"span")(1,"p",14),I(2),_()()),t&2){let n=e.$implicit;N(2),Be(n.sentence)}}function N2(t,e){if(t&1&&(qn(0),I(1),zn()),t&2){let n=e.$implicit;N(1),fe(" ",n("skills"),"")}}function P2(t,e){if(t&1){let n=Ef();v(0,"span"),I(1," \xA0"),v(2,"button",15),It("click",function(){let s=Hh(n).$implicit,o=uu();return qh(o.detailProject(s.id))}),I(3),_()()}if(t&2){let n=e.$implicit;N(3),Be(n.nom)}}function O2(t,e){if(t&1&&(v(0,"ul",10)(1,"li",14),I(2),_()()),t&2){let n=e.$implicit;N(2),Be(n.p)}}function k2(t,e){if(t&1&&(qn(0),I(1),zn()),t&2){let n=e.$implicit;N(1),fe(" ",n("experience")," ")}}function L2(t,e){if(t&1){let n=Ef();v(0,"div",7)(1,"div",16)(2,"div",17),I(3),_(),v(4,"div",18),I(5),v(6,"button",19),It("click",function(){let s=Hh(n).$implicit,o=uu();return qh(o.detailSkills(s.hit))}),F(7,"i",20),_()()(),v(8,"div",21),I(9),_(),v(10,"div",16)(11,"div",22),I(12),_(),v(13,"div",10),F(14,"app-experience",23),_()()()}if(t&2){let n=e.$implicit,r=uu();N(3),Be(n.job),N(2),fe("",n.year," "),N(4),Be(n.cia),N(3),Be(n.city),N(2),Pe("detailsExperience",r.experiencePath+n.id)}}function F2(t,e){if(t&1&&(qn(0),I(1),zn()),t&2){let n=e.$implicit;N(1),fe(" ",n("volunteering")," ")}}function V2(t,e){if(t&1&&(v(0,"div",10)(1,"h4",14),I(2),_(),v(3,"h5",14),I(4),_(),v(5,"h5",14),I(6),_(),v(7,"h5",14),I(8),_()()),t&2){let n=e.$implicit;N(2),Be(n.job),N(2),Be(n.cia),N(2),Be(n.year),N(2),Be(n.city)}}function j2(t,e){if(t&1&&(v(0,"ul",10)(1,"li",14),I(2),_()()),t&2){let n=e.$implicit;N(2),Be(n.d)}}var fC=(()=>{let e=class e{constructor(r,i){this.translocoService=r,this.service=i,this.hitDetail=new We,this.projectDetail=new We,this.profile=[],this.projects=[],this.skills=[],this.experiences=[],this.experiencePath="",this.volunt=[],this.voluntDetail=[],this.lngActivate="",this.target=""}ngOnInit(){this.refreshSkills()}ngOnChanges(){this.refreshSkills()}detailSkills(r){this.hitDetail.emit(r)}detailProject(r){this.projectDetail.emit(r)}refreshSkills(){this.service.getProfile("hv_"+this.lngActivate).subscribe(r=>this.profile=r),this.service.getProjects("hv_"+this.lngActivate).subscribe(r=>this.projects=r),this.service.getSkills("hv_"+this.lngActivate).subscribe(r=>this.skills=r),this.service.getExperience("hv_"+this.lngActivate).subscribe(r=>this.experiences=r),this.experiencePath="hv_"+this.lngActivate+"/experiences/experience/",this.service.getVolunt("hv_"+this.lngActivate).subscribe(r=>this.volunt=r),this.service.getVoluntDetail("hv_"+this.lngActivate).subscribe(r=>this.voluntDetail=r)}};e.\u0275fac=function(i){return new(i||e)(Ce(Cn),Ce(gr))},e.\u0275cmp=ot({type:e,selectors:[["app-main"]],inputs:{lngActivate:"lngActivate"},outputs:{hitDetail:"hitDetail",projectDetail:"projectDetail"},standalone:!0,features:[en,at],decls:35,vars:6,consts:[[1,"main"],[1,"about"],[1,"title2"],[4,"transloco"],[4,"ngFor","ngForOf"],["class","list-inline",4,"ngFor","ngForOf"],["class","box",4,"ngFor","ngForOf"],[1,"box"],[1,"about","skills"],[1,"about","interest"],[1,"list-inline"],["aria-hidden","true",1,"fa","fa-book"],["aria-hidden","true",1,"fa","fa-cutlery"],["aria-hidden","true",1,"fa","fa-language"],[1,"text-justify"],["type","button","data-bs-toggle","modal","data-bs-target","#projectModal",1,"btn","btn-secondary",3,"click"],[1,"row"],[1,"h3","col"],[1,"h4","col","text-right"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa-solid","fa-flag-checkered"],[1,"h5"],[1,"col","h5"],[3,"detailsExperience"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"div",1)(2,"h2",2),Le(3,x2,2,1,"ng-container",3),_(),Le(4,M2,3,1,"span",4),_(),v(5,"div",1)(6,"h2",2),Le(7,N2,2,1,"ng-container",3),I(8,"\xA0 "),Le(9,P2,4,1,"span",4),_(),Le(10,O2,3,1,"ul",5),_(),v(11,"h2",2),Le(12,k2,2,1,"ng-container",3),_(),Le(13,L2,15,5,"div",6),v(14,"h2",2),Le(15,F2,2,1,"ng-container",3),_(),v(16,"div",7),Le(17,V2,9,4,"div",5)(18,j2,3,1,"ul",5),_(),v(19,"div",8)(20,"h2",2),I(21,"Professional Skills"),_()(),v(22,"div",9)(23,"h2",2),I(24,"Interest"),_(),v(25,"ul",10)(26,"li"),F(27,"i",11),I(28," Reading"),_(),v(29,"li"),F(30,"i",12),I(31," Cooking"),_(),v(32,"li"),F(33,"i",13),I(34," Language"),_()()()()),i&2&&(N(4),Pe("ngForOf",s.profile),N(5),Pe("ngForOf",s.projects),N(1),Pe("ngForOf",s.skills),N(3),Pe("ngForOf",s.experiences),N(4),Pe("ngForOf",s.volunt),N(1),Pe("ngForOf",s.voluntDetail))},dependencies:[rr,qu,Dn,Wn,hC],styles:[".main[_ngcontent-%COMP%]{color:#fff;padding:.5em}"]});let t=e;return t})();function U2(t,e){if(t&1&&(qn(0),I(1),zn()),t&2){let n=e.$implicit;N(1),fe(" ",n("study")," ")}}function $2(t,e){if(t&1&&(v(0,"ul",21)(1,"li")(2,"h4"),I(3),v(4,"span"),I(5),_()()(),v(6,"li")(7,"h5"),I(8),v(9,"span"),I(10),_()()()()),t&2){let n=e.$implicit;N(3),fe("\xA0",n.level,"\xA0- \xA0"),N(2),Be(n.name),N(3),fe("",n.place,"\xA0"),N(2),fe("(",n.year,")")}}var pC=(()=>{let e=class e{constructor(r,i){this.translocoService=r,this.service=i,this.studies=[],this.lngActivate=""}ngOnInit(){this.refreshSkills()}ngOnChanges(){this.refreshSkills()}refreshSkills(){this.service.getStudy("hv_"+this.lngActivate).subscribe(r=>this.studies=r)}};e.\u0275fac=function(i){return new(i||e)(Ce(Cn),Ce(gr))},e.\u0275cmp=ot({type:e,selectors:[["app-left-bar"]],inputs:{lngActivate:"lngActivate"},standalone:!0,features:[en,at],decls:80,vars:3,consts:[[1,"left_Side"],[1,"profileText"],[1,"imgBx"],["src","assets/img/pic.jpg",1,"rounded"],[1,"contactInfo","text-white"],[1,"title"],[1,"list-inline","justify-content-center","align-items-center","fs-5","flex-grow-1","pe-3"],[1,"nav-item","mx-2"],[1,"icon"],[1,"fa-solid","fa-phone"],[1,"text"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-globe"],[1,"fa-brands","fa-linkedin"],["target","_blank","href","https://www.linkedin.com/in/german-herrera/",1,"text-decoration-none","text-light"],[1,"fa-solid","fa-location-dot"],["target","_blank",1,"text-decoration-none","text-light",3,"href"],[1,"fa-solid","fa-print"],[4,"transloco"],["class","list-inline",4,"ngFor","ngForOf"],[1,"contactInfo","language"],[1,"list-inline"],[1,"percent"],[2,"width","85%"],[2,"width","70%"],[2,"width","100%"]],template:function(i,s){i&1&&(v(0,"div",0),F(1,"br"),v(2,"div",1)(3,"div",2),F(4,"img",3),_(),v(5,"h2"),I(6,"German Herrera"),F(7,"br"),v(8,"span"),I(9,"Web Developer"),_()()(),v(10,"div",4)(11,"h3",5),I(12,"Contact Info"),_(),v(13,"ul",6)(14,"li",7),I(15," \xA0"),v(16,"span",8),F(17,"i",9),_(),I(18,"\xA0"),v(19,"span",10),I(20,"+1 438 408 1220"),_()(),v(21,"li",7),I(22," \xA0"),v(23,"span",8),F(24,"i",11),_(),I(25,"\xA0"),v(26,"span",10),I(27,"germanherrera75@hotmail.com"),_()(),v(28,"li",7),I(29," \xA0"),v(30,"span",8),F(31,"i",12),_(),I(32,"\xA0"),v(33,"span",10),I(34,"germanherrera.co"),_()(),v(35,"li",7),I(36," \xA0"),v(37,"span",8),F(38,"i",13),_(),I(39,"\xA0"),v(40,"span",10)(41,"a",14),I(42,"/in/german-herrera/"),_()()(),v(43,"li",7),I(44," \xA0"),v(45,"span",8),F(46,"i",15),_(),I(47,"\xA0"),v(48,"span",10),I(49,"Montreal, Canada"),_()(),v(50,"li",7)(51,"a",16)(52,"span",8),F(53,"i",17),_(),I(54,"\xA0 "),v(55,"span",10),I(56),_()()()()(),v(57,"div",4)(58,"h3",5),Le(59,U2,2,1,"ng-container",18),_(),Le(60,$2,11,4,"ul",19),_(),v(61,"div",20)(62,"h3",5),I(63,"Languages"),_(),v(64,"ul",21)(65,"li")(66,"span",10),I(67,"French"),_(),v(68,"span",22),F(69,"div",23),_()(),v(70,"li")(71,"span",10),I(72,"English"),_(),v(73,"span",22),F(74,"div",24),_()(),v(75,"li")(76,"span",10),I(77,"Spanish"),_(),v(78,"span",22),F(79,"div",25),_()()()()()),i&2&&(N(51),Gn("href","assets\\pdf\\CV_Herrera_",s.lngActivate,".pdf",xr),N(5),fe("CV_Herrera_",s.lngActivate,""),N(4),Pe("ngForOf",s.studies))},dependencies:[rr,qu,Dn,Wn],styles:[".left_Side[_ngcontent-%COMP%]{background:rgba(144,12,63,.8);padding:.5em}.profileText[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,.2)}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;border-radius:50%;overflow:hidden}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.profileText[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin-top:15px;text-transform:uppercase;text-align:center;font-weight:600;line-height:1.4em}.profileText[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8em;font-weight:200px}.contactInfo[_ngcontent-%COMP%]{padding-top:40px;text-transform:uppercase;font-weight:600;letter-spacing:1px;margin-bottom:20px}.contactInfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:1px;margin-bottom:20px}.contactInfo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative}.contactInfo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;list-style:none;margin:10px 0;cursor:pointer}.contactInfo.language[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:relative;width:100%;height:6px;background:#081921;display:block;margin-top:5px}.contactInfo.language[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff}.contactInfo.language[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:#ffc3df}"]});let t=e;return t})();var gC=(()=>{let e=class e{constructor(r){this.translocoService=r,this.setLang=new We,this.lngActive="en"}mnuLang(r){this.lngActive=r,this.setLang.emit(this.lngActive)}};e.\u0275fac=function(i){return new(i||e)(Ce(Cn))},e.\u0275cmp=ot({type:e,selectors:[["app-top"]],outputs:{setLang:"setLang"},standalone:!0,features:[at],decls:64,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"navbar-toggler","shadow-none","border-0"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"sidebar","offcanvas","offcanvas-start","row"],[1,"offcanvas-header","text-white","border-bottom"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white","shadow-none"],[1,"offcanvas-body","d-flex","flex-column","flex-lg-row","p-4","p-lg-0"],[1,"d-block","d-sm-block","d-md-block","d-lg-none"],[1,"profileText"],[1,"imgBx"],["src","assets/img/pic.jpg"],[1,"text-light"],[1,"list-inline","text-light","justify-content-center","align-items-center","fs-5","flex-grow-1","pe-3","d-block","d-sm-block","d-md-block","d-lg-none"],[1,"nav-item","mx-2"],[1,"icon"],[1,"fa-solid","fa-phone"],[1,"text"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-globe"],[1,"fa-brands","fa-linkedin"],["target","_blank","href","https://www.linkedin.com/in/german-herrera/",1,"text-decoration-none","text-light"],[1,"fa-solid","fa-location-dot"],["target","_blank",1,"text-decoration-none","text-light",3,"href"],[1,"fa-solid","fa-print"],[1,"d-flex","flex-row","flex-lg-row","justify-content-end","align-items-center","gap-3"],["href","#","data-tor","hover:bg(light)",1,"text-white","text-decoration-none","px-3","py-1","rounded-4","bg-primary","bg-darken-xs",3,"click"],["href","#","data-tor","hover:bg(light)",1,"text-white","text-decoration-none","px-3","py-1","rounded-4","bg-danger","bg-darken-xs",3,"click"],["href","#","data-tor","hover:bg(light)",1,"text-white","text-decoration-none","px-3","py-1","rounded-4","bg-warning","bg-darken-xs",3,"click"]],template:function(i,s){i&1&&(v(0,"nav",0)(1,"div",1)(2,"a",2),I(3,"German Herrera"),_(),v(4,"button",3),F(5,"span",4),_(),v(6,"div",5)(7,"div",6)(8,"h5",7),I(9,"German Herrera"),_(),F(10,"button",8),_(),v(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),F(15,"img",13),_(),v(16,"h2",14),I(17,"Web Developer"),_()()(),v(18,"ul",15)(19,"li",16)(20,"span",17),F(21,"i",18),_(),I(22,"\xA0 "),v(23,"span",19),I(24,"+1 438 408 1220"),_()(),v(25,"li",16)(26,"span",17),F(27,"i",20),_(),I(28,"\xA0 "),v(29,"span",19),I(30,"germanherrera75@hotmail.com"),_()(),v(31,"li",16)(32,"span",17),F(33,"i",21),_(),I(34,"\xA0 "),v(35,"span",19),I(36,"germanherrera.co"),_()(),v(37,"li",16)(38,"span",17),F(39,"i",22),_(),I(40,"\xA0 "),v(41,"span",19)(42,"a",23),I(43,"/in/german-herrera/"),_()()(),v(44,"li",16)(45,"span",17),F(46,"i",24),_(),I(47,"\xA0 "),v(48,"span",19),I(49,"Montreal, Canada"),_()(),v(50,"li",16)(51,"a",25)(52,"span",17),F(53,"i",26),_(),I(54,"\xA0 "),v(55,"span",19),I(56),_()()()(),v(57,"div",27)(58,"a",28),It("click",function(){return s.mnuLang("en")}),I(59,"EN"),_(),v(60,"a",29),It("click",function(){return s.mnuLang("fr")}),I(61,"FR"),_(),v(62,"a",30),It("click",function(){return s.mnuLang("es")}),I(63,"ES"),_()()()()()()),i&2&&(N(51),Gn("href","assets\\pdf\\CV_Herrera_",s.lngActive,".pdf",xr),N(5),fe("CV_Herrera_",s.lngActive,""))},dependencies:[rr],styles:[".profileText[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,.2)}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;border-radius:50%;overflow:hidden}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.profileText[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin-top:15px;text-transform:uppercase;text-align:center;font-weight:600;line-height:1.4em}.profileText[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8em;font-weight:200px}"]});let t=e;return t})();function B2(t,e){if(t&1&&(v(0,"ul")(1,"li"),I(2),_()()),t&2){let n=e.$implicit;N(2),Be(n)}}var mC=(()=>{let e=class e{constructor(r,i){this.translocoService=r,this.service=i,this.title="personal",this.lngActive="en",this.skills=[],this.qSkills=[],this.currentHit="",this.currentProject="",this.hits=[],this.hitsProject=[],this.detailProject={n:"",nom:"",lang:"",tools:"",repos:"",deploy:"",description:""},this.lngHit="HITS"}ngOnInit(){this.refreshSkills(),console.log("Ejecuta ngOnInit")}ngOnChange(){console.log("Ejecuta ngOnChange")}refreshSkills(){this.service.getSkills(this.lngActive).subscribe(r=>this.skills=r)}addSkill(r){this.service.addSkill(r).then(i=>{console.log(i),this.refreshSkills()})}deleteSkill(r){this.service.deleteSkill(r).then(i=>{console.log(i),this.refreshSkills()})}setLang(r){this.lngActive=r,this.translocoService.setActiveLang(this.lngActive)}hitDetail(r){this.currentHit=r;var i=this.currentHit.split("-");switch(this.hits=i,this.lngActive){case"en":this.lngHit="HITS";break;case"es":this.lngHit="LOGROS";break;case"fr":this.lngHit="SUCC\xC8S";break}}projectDetail(r){this.currentProject=r,console.log("Project ID : ",r),this.service.getProject("hv_"+this.lngActive,this.currentProject).subscribe(s=>{this.detailProject=s,console.log("Detalle Promesa : ",this.detailProject)});var i=this.currentHit;switch(this.hitsProject=i,this.lngActive){case"en":this.lngHit="HITS";break;case"es":this.lngHit="LOGROS";break;case"fr":this.lngHit="SUCC\xC8S";break}}};e.\u0275fac=function(i){return new(i||e)(Ce(Cn),Ce(gr))},e.\u0275cmp=ot({type:e,selectors:[["app-root"]],standalone:!0,features:[at],decls:51,vars:12,consts:[[1,"overflow-hidden"],[3,"setLang"],[1,"row"],[1,"col-sm-0","col-md-0","col-lg-3","col-xl-3","d-none","d-sm-none","d-md-none","d-lg-block"],[3,"lngActivate"],[1,"col-sm-12","col-md-12","col-lg-9","col-xl-9"],[3,"lngActivate","hitDetail","projectDetail"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"fa-solid","fa-flag-checkered"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","projectModal","tabindex","-1","aria-labelledby","projectModalLabel","aria-hidden","true",1,"modal","fade"],[1,"fa-solid","fa-gears"],[1,"fa-solid","fa-circle-info"],[1,"fa-regular","fa-file-code"],[1,"fa-solid","fa-screwdriver-wrench"],["target","_blank",1,"text-decoration-none","text-dark",3,"href"],[1,"fa-brands","fa-github"],[1,"fa-regular","fa-window-restore"]],template:function(i,s){i&1&&(v(0,"body",0)(1,"app-top",1),It("setLang",function(a){return s.setLang(a)}),_(),v(2,"div",2)(3,"div",3),F(4,"app-left-bar",4),_(),v(5,"div",5)(6,"app-main",6),It("hitDetail",function(a){return s.hitDetail(a)})("projectDetail",function(a){return s.projectDetail(a)}),_()()(),v(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"h5",11),I(12,"\xA0"),F(13,"i",12),I(14),_(),F(15,"button",13),_(),v(16,"div",14),Le(17,B2,3,1,"ul",15),_(),v(18,"div",16)(19,"button",17),I(20,"Close"),_()()()()(),v(21,"div",18)(22,"div",8)(23,"div",9)(24,"div",10)(25,"h5",11),I(26,"\xA0"),F(27,"i",19),I(28),_(),F(29,"button",13),_(),v(30,"div",14)(31,"p"),F(32,"i",20),I(33),_(),v(34,"p"),F(35,"i",21),I(36),_(),v(37,"p"),F(38,"i",22),I(39),_(),v(40,"p")(41,"a",23),F(42,"i",24),I(43),_()(),v(44,"p")(45,"a",23),F(46,"i",25),I(47),_()()(),v(48,"div",16)(49,"button",17),I(50,"Close"),_()()()()()()),i&2&&(N(4),Pe("lngActivate",s.lngActive),N(2),Pe("lngActivate",s.lngActive),N(8),fe("\xA0\xA0",s.lngHit,""),N(3),Pe("ngForOf",s.hits),N(11),fe("\xA0\xA0",s.detailProject.nom,""),N(5),fe("\xA0",s.detailProject.description,""),N(3),fe("\xA0",s.detailProject.lang,""),N(3),fe("\xA0",s.detailProject.tools,""),N(2),Gn("href","https://",s.detailProject.repos,"",xr),N(2),fe("\xA0",s.detailProject.repos,""),N(2),Gn("href","https://",s.detailProject.deploy,"",xr),N(2),fe("\xA0",s.detailProject.deploy,""))},dependencies:[Dn,Wn,fC,pC,gC,rr]});let t=e;return t})();hE(mC,dC).catch(t=>console.error(t));
