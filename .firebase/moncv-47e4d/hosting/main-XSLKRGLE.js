var sC=Object.defineProperty,oC=Object.defineProperties;var aC=Object.getOwnPropertyDescriptors;var dv=Object.getOwnPropertySymbols;var cC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable;var hv=(t,e,n)=>e in t?sC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||={})cC.call(e,n)&&hv(t,n,e[n]);if(dv)for(var n of dv(e))uC.call(e,n)&&hv(t,n,e[n]);return t},ce=(t,e)=>oC(t,aC(e));var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var fv=null;var yd=1;function ot(t){let e=fv;return fv=t,e}var pv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lC(t){if(!(wd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yd)){if(!t.producerMustRecompute(t)&&!vd(t)){t.dirty=!1,t.lastCleanEpoch=yd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yd}}function gv(t){return t&&(t.nextProducerIndex=0),ot(t)}function mv(t,e){if(ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_d(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vd(t){Aa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lC(n),r!==n.version))return!0}return!1}function yv(t){if(Aa(t),wd(t))for(let e=0;e<t.producerNode.length;e++)_d(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _d(t,e){if(dC(t),Aa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_d(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Aa(i),i.producerIndexOfThis[r]=e}}function wd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Aa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function dC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function hC(){throw new Error}var fC=hC;function vv(t){fC=t}function U(t){return typeof t=="function"}function oi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ra=oi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof Ra?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{_v(s)}catch(o){e=e??[],o instanceof Ra?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ra(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_v(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lr(n,e)}remove(e){let{_finalizers:n}=this;n&&lr(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Id=Ee.EMPTY;function xa(t){return t instanceof Ee||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function _v(t){U(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ai={setTimeout(t,e,...n){let{delegate:r}=ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ma(t){ai.setTimeout(()=>{let{onUnhandledError:e}=bt;if(e)e(t);else throw t})}function Cs(){}var wv=(()=>Ed("C",void 0,void 0))();function Iv(t){return Ed("E",void 0,t)}function Ev(t){return Ed("N",t,void 0)}function Ed(t,e,n){return{kind:t,value:e,error:n}}var dr=null;function ci(t){if(bt.useDeprecatedSynchronousErrorHandling){let e=!dr;if(e&&(dr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=dr;if(dr=null,n)throw r}}else t()}function Tv(t){bt.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=t)}var hr=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xa(e)&&e.add(this)):this.destination=mC}static create(e,n,r){return new dn(e,n,r)}next(e){this.isStopped?Dd(Ev(e),this):this._next(e)}error(e){this.isStopped?Dd(Iv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dd(wv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pC=Function.prototype.bind;function Td(t,e){return pC.call(t,e)}var bd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Na(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Na(r)}else Na(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Na(n)}}},dn=class extends hr{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Td(e.next,s),error:e.error&&Td(e.error,s),complete:e.complete&&Td(e.complete,s)}):i=e}this.destination=new bd(i)}};function Na(t){bt.useDeprecatedSynchronousErrorHandling?Tv(t):Ma(t)}function gC(t){throw t}function Dd(t,e){let{onStoppedNotification:n}=bt;n&&ai.setTimeout(()=>n(t,e))}var mC={closed:!0,next:Cs,error:gC,complete:Cs};var ui=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Fe(t){return t}function Pa(...t){return Cd(t)}function Cd(t){return t.length===0?Fe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=vC(n)?n:new dn(n,r,i);return ci(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Dv(r),new r((i,s)=>{let o=new dn({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ui](){return this}pipe(...n){return Cd(n)(this)}toPromise(n){return n=Dv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Dv(t){var e;return(e=t??bt.Promise)!==null&&e!==void 0?e:Promise}function yC(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function vC(t){return t&&t instanceof hr||yC(t)&&xa(t)}function Sd(t){return U(t?.lift)}function W(t){return e=>{if(Sd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,r,i){return new Ad(t,e,n,r,i)}var Ad=class extends hr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function li(){return W((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var di=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return li()(this)}};var bv=oi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Oa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bv}next(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Id:(this.currentObservers=null,s.push(n),new Ee(()=>{this.currentObservers=null,lr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new Oa(e,n),t})(),Oa=class extends Ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Id}};var Se=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ss={now(){return(Ss.delegate||Date).now()},delegate:void 0};var ka=class extends Ce{constructor(e=1/0,n=1/0,r=Ss){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var La=class extends Ee{constructor(e,n){super()}schedule(e,n=0){return this}};var As={setInterval(t,e,...n){let{delegate:r}=As;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=As;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hi=class extends La{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return As.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&As.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fi.now=Ss.now;var pi=class extends fi{constructor(e,n=fi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Fa=new pi(hi),Rd=Fa;var Va=class extends hi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ja=class extends pi{};var xd=new ja(Va);var Be=new $(t=>t.complete());function Ua(t){return t&&U(t.schedule)}function Md(t){return t[t.length-1]}function $a(t){return U(Md(t))?t.pop():void 0}function Bt(t){return Ua(Md(t))?t.pop():void 0}function Cv(t,e){return typeof Md(t)=="number"?t.pop():e}function Nd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Av(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Sv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function Rv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,v){s.push([h,f,g,v])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof fr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function xv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Sv=="function"?Sv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ba=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ha(t){return U(t?.then)}function qa(t){return U(t[ui])}function za(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Ga(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _C(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wa=_C();function Ka(t){return U(t?.[Wa])}function Qa(t){return Rv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield fr(n.read());if(i)return yield fr(void 0);yield yield fr(r)}}finally{n.releaseLock()}})}function Ya(t){return U(t?.getReader)}function ue(t){if(t instanceof $)return t;if(t!=null){if(qa(t))return wC(t);if(Ba(t))return IC(t);if(Ha(t))return EC(t);if(za(t))return Mv(t);if(Ka(t))return TC(t);if(Ya(t))return DC(t)}throw Ga(t)}function wC(t){return new $(e=>{let n=t[ui]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IC(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function EC(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ma)})}function TC(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mv(t){return new $(e=>{bC(t,e).catch(n=>e.error(n))})}function DC(t){return Mv(Qa(t))}function bC(t,e){var n,r,i,s;return Av(this,void 0,void 0,function*(){try{for(n=xv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ze(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function xn(t,e=0){return W((n,r)=>{n.subscribe(z(r,i=>Ze(r,t,()=>r.next(i),e),()=>Ze(r,t,()=>r.complete(),e),i=>Ze(r,t,()=>r.error(i),e)))})}function Mn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Nv(t,e){return ue(t).pipe(Mn(e),xn(e))}function Pv(t,e){return ue(t).pipe(Mn(e),xn(e))}function Ov(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kv(t,e){return new $(n=>{let r;return Ze(n,e,()=>{r=t[Wa](),Ze(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function Ja(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{Ze(n,e,()=>{let r=t[Symbol.asyncIterator]();Ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lv(t,e){return Ja(Qa(t),e)}function Fv(t,e){if(t!=null){if(qa(t))return Nv(t,e);if(Ba(t))return Ov(t,e);if(Ha(t))return Pv(t,e);if(za(t))return Ja(t,e);if(Ka(t))return kv(t,e);if(Ya(t))return Lv(t,e)}throw Ga(t)}function le(t,e){return e?Fv(t,e):ue(t)}function P(...t){let e=Bt(t);return le(t,e)}function gi(t,e){let n=U(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function Pd(t){return!!t&&(t instanceof $||U(t.lift)&&U(t.subscribe))}var hn=oi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Vv(t){return t instanceof Date&&!isNaN(t)}function O(t,e){return W((n,r)=>{let i=0;n.subscribe(z(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:CC}=Array;function SC(t,e){return CC(e)?t(...e):t(e)}function Za(t){return O(e=>SC(t,e))}var{isArray:AC}=Array,{getPrototypeOf:RC,prototype:xC,keys:MC}=Object;function Xa(t){if(t.length===1){let e=t[0];if(AC(e))return{args:e,keys:null};if(NC(e)){let n=MC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NC(t){return t&&typeof t=="object"&&RC(t)===xC}function ec(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mi(...t){let e=Bt(t),n=$a(t),{args:r,keys:i}=Xa(t);if(r.length===0)return le([],e);let s=new $(PC(r,e,i?o=>ec(i,o):Fe));return n?s.pipe(Za(n)):s}function PC(t,e,n=Fe){return r=>{jv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)jv(e,()=>{let u=le(t[c],e),l=!1;u.subscribe(z(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function jv(t,e,n){t?Ze(n,t,e):e()}function Uv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=v=>u<r?g(v):c.push(v),g=v=>{s&&e.next(v),u++;let y=!1;ue(n(v,l++)).subscribe(z(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let w=c.shift();o?Ze(e,o,()=>g(w)):g(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(z(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ae(t,e,n=1/0){return U(e)?Ae((r,i)=>O((s,o)=>e(r,s,i,o))(ue(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>Uv(r,i,t,n)))}function Rs(t=1/0){return Ae(Fe,t)}function $v(){return Rs(1)}function yi(...t){return $v()(le(t,Bt(t)))}function tc(t){return new $(e=>{ue(t()).subscribe(e)})}function nc(...t){let e=$a(t),{args:n,keys:r}=Xa(t),i=new $(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ue(n[l]).subscribe(z(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ec(r,a):a),s.complete())}))}});return e?i.pipe(Za(e)):i}function Bv(t=0,e,n=Rd){let r=-1;return e!=null&&(Ua(e)?n=e:r=e),new $(i=>{let s=Vv(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Od(...t){let e=Bt(t),n=Cv(t,1/0),r=t;return r.length?r.length===1?ue(r[0]):Rs(n)(le(r,e)):Be}function Xe(t,e){return W((n,r)=>{let i=0;n.subscribe(z(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ct(t){return W((e,n)=>{let r=null,i=!1,s;r=e.subscribe(z(n,void 0,void 0,o=>{s=ue(t(o,Ct(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Hv(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(z(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Nn(t,e){return U(e)?Ae(t,e,1):Ae(t,1)}function Pn(t){return W((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pt(t){return t<=0?()=>Be:W((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kd(t){return O(()=>t)}function rc(t,e=Fe){return t=t??OC,W((n,r)=>{let i,s=!0;n.subscribe(z(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function OC(t,e){return t===e}function ic(t=kC){return W((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kC(){return new hn}function pr(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ht(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,s)=>t(i,s,r)):Fe,pt(1),n?Pn(e):ic(()=>new hn))}function vi(t){return t<=0?()=>Be:W((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ld(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,s)=>t(i,s,r)):Fe,vi(1),n?Pn(e):ic(()=>new hn))}function Fd(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?Fe:W((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(z(o,d=>{i&&(a=0),o.next(d)},void 0,d=>{if(a++<n){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(r!=null){let f=typeof r=="number"?Bv(r):ue(r(d,a)),g=z(o,()=>{g.unsubscribe(),h()},()=>{o.complete()});f.subscribe(g)}else h()}else o.error(d)})),l&&(c.unsubscribe(),c=null,u())};u()})}function sc(t,e){return W(Hv(t,e,arguments.length>=2,!0))}function xs(t={}){let{connector:e=()=>new Ce,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},g=()=>{let v=o;f(),v?.unsubscribe()};return W((v,y)=>{u++,!d&&!l&&h();let w=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=Vd(g,i))}),w.subscribe(y),!o&&u>0&&(o=new dn({next:F=>w.next(F),error:F=>{d=!0,h(),a=Vd(f,n,F),w.error(F)},complete:()=>{l=!0,h(),a=Vd(f,r),w.complete()}}),ue(v).subscribe(o))})(s)}}function Vd(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new dn({next:()=>{r.unsubscribe(),t()}});return ue(e(...n)).subscribe(r)}function jd(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,xs({connector:()=>new ka(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function oc(...t){let e=Bt(t);return W((n,r)=>{(e?yi(t,n,e):yi(t,n)).subscribe(r)})}function Ie(t,e){return W((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let u=0,l=s++;ue(t(c,l)).subscribe(i=z(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ud(t){return W((e,n)=>{ue(t).subscribe(z(n,()=>n.complete(),Cs)),!n.closed&&e.subscribe(n)})}function ge(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(z(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Fe}function he(t){for(let e in t)if(t[e]===he)return e;throw Error("Could not find renamed property on target object.")}function et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LC=he({__forward_ref__:he});function R_(t){return t.__forward_ref__=R_,t.toString=function(){return et(this())},t}function mt(t){return x_(t)?t():t}function x_(t){return typeof t=="function"&&t.hasOwnProperty(LC)&&t.__forward_ref__===R_}function M_(t){return t&&!!t.\u0275providers}var N_="https://g.co/ng/security#xss",k=class extends Error{constructor(e,n){super(Oc(e,n)),this.code=e}};function Oc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var FC=he({\u0275cmp:he}),VC=he({\u0275dir:he}),jC=he({\u0275pipe:he}),UC=he({\u0275mod:he}),mc=he({\u0275fac:he}),Ms=he({__NG_ELEMENT_ID__:he}),zv=he({__NG_ENV_ID__:he});function Mh(t){return typeof t=="string"?t:t==null?"":String(t)}function $C(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Mh(t)}function BC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${n}`)}function Nh(t,e){let n=e?` in ${e}`:"";throw new k(-201,!1)}function HC(t,e){t==null&&qC(e,t,null,"!=")}function qC(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function kc(t){return Gv(t,O_)||Gv(t,k_)}function P_(t){return kc(t)!==null}function Gv(t,e){return t.hasOwnProperty(e)?t[e]:null}function zC(t){let e=t&&(t[O_]||t[k_]);return e||null}function Wv(t){return t&&(t.hasOwnProperty(Kv)||t.hasOwnProperty(GC))?t[Kv]:null}var O_=he({\u0275prov:he}),Kv=he({\u0275inj:he}),k_=he({ngInjectableDef:he}),GC=he({ngInjectorDef:he}),Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),Jd;function WC(){return Jd}function gt(t){let e=Jd;return Jd=t,e}function L_(t,e,n){let r=kc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;Nh(et(t),"Injector")}var fn=globalThis;var R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var KC={},Os=KC,Zd="__NG_DI_FLAG__",yc="ngTempTokenPath",QC="ngTokenPath",YC=/\n/gm,JC="\u0275",Qv="__source",Ns;function On(t){let e=Ns;return Ns=t,e}function ZC(t,e=Q.Default){if(Ns===void 0)throw new k(-203,!1);return Ns===null?L_(t,void 0,e):Ns.get(t,e&Q.Optional?null:void 0,e)}function A(t,e=Q.Default){return(WC()||ZC)(mt(t),e)}function I(t,e=Q.Default){return A(t,Lc(e))}function Lc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xd(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,s=Q.Default;for(let o=0;o<r.length;o++){let a=r[o],c=XC(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(A(i,s))}else e.push(A(r))}return e}function F_(t,e){return t[Zd]=e,t.prototype[Zd]=e,t}function XC(t){return t[Zd]}function eS(t,e,n,r){let i=t[yc];throw e[Qv]&&i.unshift(e[Qv]),t.message=tS(`
`+t.message,i,n,r),t[QC]=i,t[yc]=null,t}function tS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==JC?t.slice(2):t;let i=et(e);if(Array.isArray(e))i=e.map(et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):et(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YC,`
  `)}`}function zs(t){return{toString:t}.toString()}var V_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(V_||{}),Wt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wt||{}),ks={},qt=[];function j_(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function eh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];rS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function nS(t){return t===3||t===4||t===6}function rS(t){return t.charCodeAt(0)===64}function Ph(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yv(t,n,i,null,e[++r]):Yv(t,n,i,null,null))}}return t}function Yv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var U_="ng-template";function iS(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&j_(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function $_(t){return t.type===4&&t.value!==U_}function sS(t,e,n){let r=t.type===4&&!n?U_:t.value;return e===r}function oS(t,e,n){let r=4,i=t.attrs||[],s=uS(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!St(r)&&!St(c))return!1;if(o&&St(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!sS(t,c,n)||c===""&&e.length===1){if(St(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!iS(t.attrs,u,n)){if(St(r))return!1;o=!0}continue}let l=r&8?"class":c,d=aS(l,i,$_(t),n);if(d===-1){if(St(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&j_(f,u,0)!==-1||r&2&&u!==h){if(St(r))return!1;o=!0}}}}return St(r)||o}function St(t){return(t&1)===0}function aS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return lS(e,t)}function cS(t,e,n=!1){for(let r=0;r<e.length;r++)if(oS(t,e[r],n))return!0;return!1}function uS(t){for(let e=0;e<t.length;e++){let n=t[e];if(nS(n))return e}return t.length}function lS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Jv(t,e){return t?":not("+e.trim()+")":e}function dS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!St(o)&&(e+=Jv(s,i),i=""),r=o,s=s||!St(r);n++}return i!==""&&(e+=Jv(s,i)),e}function hS(t){return t.map(dS).join(",")}function fS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!St(i))break;i=s}r++}return{attrs:e,classes:n}}function nt(t){return zs(()=>{let e=G_(t),n=ce(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===V_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Wt.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""});W_(n);let r=t.dependencies;return n.directiveDefs=Xv(r,!1),n.pipeDefs=Xv(r,!0),n.id=mS(n),n})}function pS(t){return mr(t)||B_(t)}function gS(t){return t!==null}function Mt(t){return zs(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zv(t,e){if(t==null)return ks;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ai(t){return zs(()=>{let e=G_(t);return W_(e),e})}function mr(t){return t[FC]||null}function B_(t){return t[VC]||null}function H_(t){return t[jC]||null}function q_(t){let e=mr(t)||B_(t)||H_(t);return e!==null?e.standalone:!1}function z_(t,e){let n=t[UC]||null;if(!n&&e===!0)throw new Error(`Type ${et(t)} does not have '\u0275mod' property.`);return n}function G_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ks,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zv(t.inputs,e),outputs:Zv(t.outputs),debugInfo:null}}function W_(t){t.features?.forEach(e=>e(t))}function Xv(t,e){if(!t)return null;let n=e?H_:pS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(gS)}function mS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var mn=0,X=1,V=2,Re=3,At=4,Nt=5,vc=6,Ls=7,Kt=8,Ti=9,Di=10,Ve=11,Fs=12,e_=13,Ri=14,Qt=15,Fc=16,_i=17,Vs=18,Vc=19,K_=20,Ps=21,$d=22,yr=23,pn=25,Q_=1;var vr=7,_c=8,wc=9,yt=10,bi=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(bi||{});function kn(t){return Array.isArray(t)&&typeof t[Q_]=="object"}function Rt(t){return Array.isArray(t)&&t[Q_]===!0}function Oh(t){return(t.flags&4)!==0}function jc(t){return t.componentOffset>-1}function Uc(t){return(t.flags&1)===1}function Gs(t){return!!t.template}function yS(t){return(t[V]&512)!==0}function Ci(t,e){let n=t.hasOwnProperty(mc);return n?t[mc]:null}var th=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jn(){return Y_}function Y_(t){return t.type.prototype.ngOnChanges&&(t.setInput=_S),vS}jn.ngInherit=!0;function vS(){let t=Z_(this),e=t?.current;if(e){let n=t.previous;if(n===ks)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _S(t,e,n,r){let i=this.declaredInputs[n],s=Z_(t)||wS(t,{previous:ks,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new th(c&&c.currentValue,e,a===ks),t[r]=e}var J_="__ngSimpleChanges__";function Z_(t){return t[J_]||null}function wS(t,e){return t[J_]=e}var t_=null;var zt=function(t,e,n){t_?.(t,e,n)},IS="svg",ES="math";function Yt(t){for(;Array.isArray(t);)t=t[mn];return t}function TS(t,e){return Yt(e[t])}function Pt(t,e){return Yt(e[t.index])}function X_(t,e){return t.data[e]}function Un(t,e){let n=e[t];return kn(n)?n:n[mn]}function kh(t){return(t[V]&128)===128}function DS(t){return Rt(t[Re])}function Si(t,e){return e==null?null:t[e]}function ew(t){t[_i]=0}function bS(t){t[V]&1024||(t[V]|=1024,kh(t)&&$c(t))}function CS(t,e){for(;t>0;)e=e[Ri],t--;return e}function tw(t){return t[V]&9216||t[yr]?.dirty}function nw(t){tw(t)&&$c(t)}function $c(t){let e=t[Re];for(;e!==null&&!(Rt(e)&&e[V]&bi.HasChildViewsToRefresh||kn(e)&&e[V]&8192);){if(Rt(e))e[V]|=bi.HasChildViewsToRefresh;else if(e[V]|=8192,!kh(e))break;e=e[Re]}}function SS(t,e){if((t[V]&256)===256)throw new k(911,!1);t[Ps]===null&&(t[Ps]=[]),t[Ps].push(e)}var ne={lFrame:lw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function AS(){return ne.lFrame.elementDepthCount}function RS(){ne.lFrame.elementDepthCount++}function xS(){ne.lFrame.elementDepthCount--}function rw(){return ne.bindingsEnabled}function MS(){return ne.skipHydrationRootTNode!==null}function NS(t){return ne.skipHydrationRootTNode===t}function PS(){ne.skipHydrationRootTNode=null}function xe(){return ne.lFrame.lView}function yn(){return ne.lFrame.tView}function vt(){let t=iw();for(;t!==null&&t.type===64;)t=t.parent;return t}function iw(){return ne.lFrame.currentTNode}function OS(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ir(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function Lh(){return ne.lFrame.isParent}function sw(){ne.lFrame.isParent=!1}function kS(t){return ne.lFrame.bindingIndex=t}function ow(){return ne.lFrame.bindingIndex++}function LS(){return ne.lFrame.inI18n}function FS(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,nh(e)}function VS(){return ne.lFrame.currentDirectiveIndex}function nh(t){ne.lFrame.currentDirectiveIndex=t}function aw(t){ne.lFrame.currentQueryIndex=t}function jS(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Nt]:null}function cw(t,e,n){if(n&Q.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=jS(s),i===null||(s=s[Ri],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ne.lFrame=uw();return r.currentTNode=e,r.lView=t,!0}function Fh(t){let e=uw(),n=t[X];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uw(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?lw(t):e}function lw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function dw(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hw=dw;function Vh(){let t=dw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function US(t){return(ne.lFrame.contextLView=CS(t,ne.lFrame.contextLView))[Kt]}function jh(){return ne.lFrame.selectedIndex}function _r(t){ne.lFrame.selectedIndex=t}function $S(){let t=ne.lFrame;return X_(t.tView,t.selectedIndex)}function BS(){return ne.lFrame.currentNamespace}var fw=!0;function Bc(){return fw}function Hc(t){fw=t}function HS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Y_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function qc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function dc(t,e,n){pw(t,e,3,n)}function hc(t,e,n,r){(t[V]&3)===n&&pw(t,e,n,r)}function Bd(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function pw(t,e,n,r){let i=r!==void 0?t[_i]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[_i]+=65536),(a<s||s==-1)&&(qS(t,n,e,c),t[_i]=(t[_i]&4294901760)+c+2),c++}function n_(t,e){zt(4,t,e);let n=ot(null);try{e.call(t)}finally{ot(n),zt(5,t,e)}}function qS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[V]>>14<t[_i]>>16&&(t[V]&3)===e&&(t[V]+=16384,n_(a,s)):n_(a,s)}var Ei=-1,js=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function zS(t){return t instanceof js}function GS(t){return(t.flags&8)!==0}function WS(t){return(t.flags&16)!==0}function gw(t){return t!==Ei}function Ic(t){let e=t&32767;return t&32767}function KS(t){return t>>16}function Ec(t,e){let n=KS(t),r=e;for(;n>0;)r=r[Ri],n--;return r}var rh=!0;function r_(t){let e=rh;return rh=t,e}var QS=256,mw=QS-1,yw=5,YS=0,Gt={};function JS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ms)&&(r=n[Ms]),r==null&&(r=n[Ms]=YS++);let i=r&mw,s=1<<i;e.data[t+(i>>yw)]|=s}function vw(t,e){let n=_w(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,Hd(r.data,t),Hd(e,null),Hd(r.blueprint,null));let i=Uh(t,e),s=t.injectorIndex;if(gw(i)){let o=Ic(i),a=Ec(i,e),c=a[X].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Hd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _w(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Dw(i),r===null)return Ei;if(n++,i=i[Ri],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ei}function ZS(t,e,n){JS(t,e,n)}function ww(t,e,n){if(n&Q.Optional||t!==void 0)return t;Nh(e,"NodeInjector")}function Iw(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[Ti],s=gt(void 0);try{return i?i.get(e,r,n&Q.Optional):L_(e,r,n&Q.Optional)}finally{gt(s)}}return ww(r,e,n)}function Ew(t,e,n,r=Q.Default,i){if(t!==null){if(e[V]&2048&&!(r&Q.Self)){let o=rA(t,e,n,r,Gt);if(o!==Gt)return o}let s=Tw(t,e,n,r,Gt);if(s!==Gt)return s}return Iw(e,n,r,i)}function Tw(t,e,n,r,i){let s=tA(n);if(typeof s=="function"){if(!cw(e,t,r))return r&Q.Host?ww(i,n,r):Iw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Q.Optional))Nh(n);else return o}finally{hw()}}else if(typeof s=="number"){let o=null,a=_w(t,e),c=Ei,u=r&Q.Host?e[Qt][Nt]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?Uh(t,e):e[a+8],c===Ei||!s_(r,!1)?a=-1:(o=e[X],a=Ic(c),e=Ec(c,e)));a!==-1;){let l=e[X];if(i_(s,a,l.data)){let d=XS(a,e,n,o,r,u);if(d!==Gt)return d}c=e[a+8],c!==Ei&&s_(r,e[X].data[a+8]===u)&&i_(s,a,e)?(o=l,a=Ic(c),e=Ec(c,e)):a=-1}}return i}function XS(t,e,n,r,i,s){let o=e[X],a=o.data[t+8],c=r==null?jc(a)&&rh:r!=o&&(a.type&3)!==0,u=i&Q.Host&&s===a,l=eA(a,o,n,c,u);return l!==null?Us(e,o,l,a):Gt}function eA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&Gs(f)&&f.type===n)return c}return null}function Us(t,e,n,r){let i=t[n],s=e.data;if(zS(i)){let o=i;o.resolving&&BC($C(s[n]));let a=r_(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?gt(o.injectImpl):null,l=cw(t,r,Q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&HS(n,s[n],e)}finally{u!==null&&gt(u),r_(a),o.resolving=!1,hw()}}return i}function tA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ms)?t[Ms]:void 0;return typeof e=="number"?e>=0?e&mw:nA:e}function i_(t,e,n){let r=1<<t;return!!(n[e+(t>>yw)]&r)}function s_(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var gr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ew(this._tNode,this._lView,e,Lc(r),n)}};function nA(){return new gr(vt(),xe())}function zc(t){return zs(()=>{let e=t.prototype.constructor,n=e[mc]||ih(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[mc]||ih(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ih(t){return x_(t)?()=>{let e=ih(mt(t));return e&&e()}:Ci(t)}function rA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[V]&2048&&!(o[V]&512);){let a=Tw(s,o,n,r|Q.Self,Gt);if(a!==Gt)return a;let c=s.parent;if(!c){let u=o[K_];if(u){let l=u.get(n,Gt,r);if(l!==Gt)return l}c=Dw(o),o=o[Ri]}s=c}return i}function Dw(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Nt]:null}var ac="__parameters__";function iA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function bw(t,e,n){return zs(()=>{let r=iA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(ac)?c[ac]:Object.defineProperty(c,ac,{value:[]})[ac];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function sA(t){return typeof t=="function"}function $h(t,e){t.forEach(n=>Array.isArray(n)?$h(n,e):e(n))}function Cw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oA(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}var Ot=F_(bw("Optional"),8);var Sw=F_(bw("SkipSelf"),4);var Ws=new R("ENVIRONMENT_INITIALIZER"),Aw=new R("INJECTOR",-1),Rw=new R("INJECTOR_DEF_TYPES"),Dc=class{get(e,n=Os){if(n===Os){let r=new Error(`NullInjectorError: No provider for ${et(e)}!`);throw r.name="NullInjectorError",r}return n}};function ct(t){return{\u0275providers:t}}function Gc(...t){return{\u0275providers:xw(!0,t),\u0275fromNgModule:!0}}function xw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $h(e,o=>{let a=o;sh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mw(i,s),n}function Mw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Bh(i,s=>{e(s,r)})}}function sh(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=Wv(t),o=!s&&mr(t);if(!s&&!o){let c=t.ngModule;if(s=Wv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)sh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{$h(s.imports,l=>{sh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Mw(u,e)}if(!a){let u=Ci(i)||(()=>new i);e({provide:i,useFactory:u,deps:qt},i),e({provide:Rw,useValue:i,multi:!0},i),e({provide:Ws,useValue:()=>A(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Bh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Bh(t,e){for(let n of t)M_(n)&&(n=n.\u0275providers),Array.isArray(n)?Bh(n,e):e(n)}var aA=he({provide:String,useValue:he});function Nw(t){return t!==null&&typeof t=="object"&&aA in t}function cA(t){return!!(t&&t.useExisting)}function uA(t){return!!(t&&t.useFactory)}function oh(t){return typeof t=="function"}var Wc=new R("Set Injector scope."),fc={},lA={},qd;function Hh(){return qd===void 0&&(qd=new Dc),qd}var tt=class{},$s=class extends tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(e,o=>this.processProvider(o)),this.records.set(Aw,wi(void 0,this)),i.has("environment")&&this.records.set(tt,wi(void 0,this));let s=this.records.get(Wc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rw,qt,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=On(this),r=gt(void 0),i;try{return e()}finally{On(n),gt(r)}}get(e,n=Os,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zv))return e[zv](this);r=Lc(r);let i,s=On(this),o=gt(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=mA(e)&&kc(e);u&&this.injectableDefInScope(u)?c=wi(ah(e),fc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?Hh():this.parent;return n=r&Q.Optional&&n===Os?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yc]=a[yc]||[]).unshift(et(e)),s)throw a;return eS(a,e,"R3InjectorError",this.source)}else throw a}finally{gt(o),On(s)}}resolveInjectorInitializers(){let e=On(this),n=gt(void 0),r;try{let i=this.get(Ws,qt,Q.Self);for(let s of i)s()}finally{On(e),gt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){e=mt(e);let n=oh(e)?e:mt(e&&e.provide),r=hA(e);if(!oh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=wi(void 0,fc,!0),i.factory=()=>Xd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===fc&&(n.value=lA,n.value=n.factory()),typeof n.value=="object"&&n.value&&gA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ah(t){let e=kc(t),n=e!==null?e.factory:Ci(t);if(n!==null)return n;if(t instanceof R)throw new k(204,!1);if(t instanceof Function)return dA(t);throw new k(204,!1)}function dA(t){let e=t.length;if(e>0){let r=oA(e,"?");throw new k(204,!1)}let n=zC(t);return n!==null?()=>n.factory(t):()=>new t}function hA(t){if(Nw(t))return wi(void 0,t.useValue);{let e=fA(t);return wi(e,fc)}}function fA(t,e,n){let r;if(oh(t)){let i=mt(t);return Ci(i)||ah(i)}else if(Nw(t))r=()=>mt(t.useValue);else if(uA(t))r=()=>t.useFactory(...Xd(t.deps||[]));else if(cA(t))r=()=>A(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(pA(t))r=()=>new i(...Xd(t.deps));else return Ci(i)||ah(i)}return r}function wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pA(t){return!!t.deps}function gA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function mA(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function ch(t,e){for(let n of t)Array.isArray(n)?ch(n,e):n&&M_(n)?ch(n.\u0275providers,e):e(n)}function vn(t,e){t instanceof $s&&t.assertNotDestroyed();let n,r=On(t),i=gt(void 0);try{return e()}finally{On(r),gt(i)}}function o_(t,e=null,n=null,r){let i=Pw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Pw(t,e=null,n=null,r,i=new Set){let s=[n||qt,Gc(t)];return r=r||(typeof t=="object"?void 0:et(t)),new $s(s,e||Hh(),r||null,i)}var kt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return o_({name:""},i,r,"");{let s=r.name??"";return o_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Os,e.NULL=new Dc,e.\u0275prov=x({token:e,providedIn:"any",factory:()=>A(Aw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var uh;function Ow(t){uh=t}function kw(){if(uh!==void 0)return uh;if(typeof document<"u")return document;throw new k(210,!1)}var qh=new R("AppId",{providedIn:"root",factory:()=>yA}),yA="ng",zh=new R("Platform Initializer"),Jt=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Gh=new R("CSP nonce",{providedIn:"root",factory:()=>kw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Lw(t){return t instanceof Function?t():t}function Fw(t){return(t.flags&128)===128}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Er||{}),vA=/^>|^->|<!--|-->|--!>|<!-$/g,_A=/(<|>)/g,wA="\u200B$1\u200B";function IA(t){return t.replace(vA,e=>e.replace(_A,wA))}var Vw=new Map,EA=0;function TA(){return EA++}function DA(t){Vw.set(t[Vc],t)}function bA(t){Vw.delete(t[Vc])}var a_="__ngContext__";function Ln(t,e){kn(e)?(t[a_]=e[Vc],DA(e)):t[a_]=e}var CA;function Wh(t,e){return CA(t,e)}function Kh(t){let e=t[Re];return Rt(e)?e[Re]:e}function jw(t){return $w(t[Fs])}function Uw(t){return $w(t[At])}function $w(t){for(;t!==null&&!Rt(t);)t=t[At];return t}function Ii(t,e,n,r,i){if(r!=null){let s,o=!1;Rt(r)?s=r:kn(r)&&(o=!0,r=r[mn]);let a=Yt(r);t===0&&n!==null?i==null?zw(e,n,a):bc(e,n,a,i||null,!0):t===1&&n!==null?bc(e,n,a,i||null,!0):t===2?zA(e,a,o):t===3&&e.destroyNode(a),s!=null&&WA(e,t,s,n,i)}}function SA(t,e){return t.createText(e)}function AA(t,e,n){t.setValue(e,n)}function RA(t,e){return t.createComment(IA(e))}function Bw(t,e,n){return t.createElement(e,n)}function xA(t,e){let n=e[Ve];Ks(t,e,n,2,null,null),e[mn]=null,e[Nt]=null}function MA(t,e,n,r,i,s){r[mn]=i,r[Nt]=e,Ks(t,r,n,1,i,s)}function NA(t,e){Ks(t,e,e[Ve],2,null,null)}function PA(t){let e=t[Fs];if(!e)return zd(t[X],t);for(;e;){let n=null;if(kn(e))n=e[Fs];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[At]&&e!==t;)kn(e)&&zd(e[X],e),e=e[Re];e===null&&(e=t),kn(e)&&zd(e[X],e),n=e&&e[At]}e=n}}function OA(t,e,n,r){let i=yt+r,s=n.length;r>0&&(n[i-1][At]=e),r<s-yt?(e[At]=n[i],Cw(n,yt+r,e)):(n.push(e),e[At]=null),e[Re]=n;let o=e[Fc];o!==null&&n!==o&&kA(o,e);let a=e[Vs];a!==null&&a.insertView(t),nw(e),e[V]|=128}function kA(t,e){let n=t[wc],i=e[Re][Re][Qt];e[Qt]!==i&&(t[V]|=bi.HasTransplantedViews),n===null?t[wc]=[e]:n.push(e)}function Hw(t,e){let n=t[wc],r=n.indexOf(e),i=e[Re];n.splice(r,1)}function lh(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[Fc];i!==null&&i!==t&&Hw(i,r),e>0&&(t[n-1][At]=r[At]);let s=Tc(t,yt+e);xA(r[X],r);let o=s[Vs];o!==null&&o.detachView(s[X]),r[Re]=null,r[At]=null,r[V]&=-129}return r}function qw(t,e){if(!(e[V]&256)){let n=e[Ve];n.destroyNode&&Ks(t,e,n,3,null,null),PA(e)}}function zd(t,e){if(!(e[V]&256)){e[V]&=-129,e[V]|=256,e[yr]&&yv(e[yr]),FA(t,e),LA(t,e),e[X].type===1&&e[Ve].destroy();let n=e[Fc];if(n!==null&&Rt(e[Re])){n!==e[Re]&&Hw(n,e);let r=e[Vs];r!==null&&r.detachView(t)}bA(e)}}function LA(t,e){let n=t.cleanup,r=e[Ls];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ls]=null);let i=e[Ps];if(i!==null){e[Ps]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function FA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof js)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];zt(4,a,c);try{c.call(a)}finally{zt(5,a,c)}}else{zt(4,i,s);try{s.call(i)}finally{zt(5,i,s)}}}}}function VA(t,e,n){return jA(t,e.parent,n)}function jA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[mn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Wt.None||s===Wt.Emulated)return null}return Pt(r,n)}}function bc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zw(t,e,n){t.appendChild(e,n)}function c_(t,e,n,r,i){r!==null?bc(t,e,n,r,i):zw(t,e,n)}function UA(t,e,n,r){t.removeChild(e,n,r)}function Qh(t,e){return t.parentNode(e)}function $A(t,e){return t.nextSibling(e)}function BA(t,e,n){return qA(t,e,n)}function HA(t,e,n){return t.type&40?Pt(t,n):null}var qA=HA,u_;function Kc(t,e,n,r){let i=VA(t,r,e),s=e[Ve],o=r.parent||e[Nt],a=BA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)c_(s,i,n[c],a,!1);else c_(s,i,n,a,!1);u_!==void 0&&u_(s,r,e,n,i)}function pc(t,e){if(e!==null){let n=e.type;if(n&3)return Pt(e,t);if(n&4)return dh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return pc(t,r);{let i=t[e.index];return Rt(i)?dh(-1,i):Yt(i)}}else{if(n&32)return Wh(e,t)()||Yt(t[e.index]);{let r=Gw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kh(t[Qt]);return pc(i,r)}else return pc(t,e.next)}}}return null}function Gw(t,e){if(e!==null){let r=t[Qt][Nt],i=e.projection;return r.projection[i]}return null}function dh(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return pc(r,i)}return e[vr]}function zA(t,e,n){let r=Qh(t,e);r&&UA(t,r,e,n)}function Yh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ln(Yt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Yh(t,e,n.child,r,i,s,!1),Ii(e,t,i,a,s);else if(c&32){let u=Wh(n,r),l;for(;l=u();)Ii(e,t,i,l,s);Ii(e,t,i,a,s)}else c&16?GA(t,e,r,n,i,s):Ii(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ks(t,e,n,r,i,s){Yh(n,r,t.firstChild,e,i,s,!1)}function GA(t,e,n,r,i,s){let o=n[Qt],c=o[Nt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ii(e,t,i,l,s)}else{let u=c,l=o[Re];Fw(r)&&(u.flags|=128),Yh(t,e,u,l,i,s,!0)}}function WA(t,e,n,r,i){let s=n[vr],o=Yt(n);s!==o&&Ii(e,t,r,s,i);for(let a=yt;a<n.length;a++){let c=n[a];Ks(c[X],c,t,e,r,s)}}function KA(t,e,n){t.setAttribute(e,"style",n)}function Ww(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Kw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&eh(t,e,r),i!==null&&Ww(t,e,i),s!==null&&KA(t,e,s)}var cc;function QA(){if(cc===void 0&&(cc=null,fn.trustedTypes))try{cc=fn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return cc}function Qc(t){return QA()?.createHTML(t)||t}var uc;function YA(){if(uc===void 0&&(uc=null,fn.trustedTypes))try{uc=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uc}function l_(t){return YA()?.createHTML(t)||t}var Cc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${N_})`}};function Jh(t){return t instanceof Cc?t.changingThisBreaksApplicationSecurity:t}function Qw(t,e){let n=JA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${N_})`)}return n===e}function JA(t){return t instanceof Cc&&t.getTypeName()||null}function ZA(t){let e=new fh(t);return XA()?new hh(e):e}var hh=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Qc(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},fh=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Qc(e),n}};function XA(){try{return!!new window.DOMParser().parseFromString(Qc(""),"text/html")}catch{return!1}}var eR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yw(t){return t=String(t),t.match(eR)?t:"unsafe:"+t}function _n(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Qs(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Jw=_n("area,br,col,hr,img,wbr"),Zw=_n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xw=_n("rp,rt"),tR=Qs(Xw,Zw),nR=Qs(Zw,_n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rR=Qs(Xw,_n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),d_=Qs(Jw,nR,rR,tR),eI=_n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iR=_n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sR=_n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),oR=Qs(eI,iR,sR),aR=_n("script,style,template"),ph=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!d_.hasOwnProperty(n))return this.sanitizedSomething=!0,!aR.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!oR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;eI[a]&&(c=Yw(c)),this.buf.push(" ",o,'="',h_(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();d_.hasOwnProperty(n)&&!Jw.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(h_(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},cR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uR=/([^\#-~ |!])/g;function h_(t){return t.replace(/&/g,"&amp;").replace(cR,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(uR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var lc;function tI(t,e){let n=null;try{lc=lc||ZA(t);let r=e?String(e):"";n=lc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=lc.getInertBodyElement(r)}while(r!==s);let a=new ph().sanitizeChildren(f_(n)||n);return Qc(a)}finally{if(n){let r=f_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function f_(t){return"content"in t&&lR(t)?t.content:null}function lR(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Zh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zh||{});function nI(t){let e=dR();return e?l_(e.sanitize(Zh.HTML,t)||""):Qw(t,"HTML")?l_(Jh(t)):tI(kw(),Mh(t))}function dR(){let t=xe();return t&&t[Di].sanitizer}var hR="h",fR="b";var pR=(t,e,n)=>null;function Xh(t,e,n=!1){return pR(t,e,n)}var gh=class{},Sc=class{};function gR(t){let e=Error(`No component factory found for ${et(t)}.`);return e[mR]=t,e}var mR="ngComponent";var mh=class{resolveComponentFactory(e){throw gR(e)}},Yc=(()=>{let e=class e{};e.NULL=new mh;let t=e;return t})();function yR(){return Jc(vt(),xe())}function Jc(t,e){return new xi(Pt(t,e))}var xi=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=yR;let t=e;return t})();var Bs=class{},Ys=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>vR();let t=e;return t})();function vR(){let t=xe(),e=vt(),n=Un(e.index,t);return(kn(n)?n:t)[Ve]}var _R=(()=>{let e=class e{};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Fn=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},ef=new Fn("17.0.7"),Gd={};function rI(t){return IR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function wR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function IR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var yh=class{constructor(){}supports(e){return rI(e)}create(e){return new vh(e)}},ER=(t,e)=>e,vh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ER}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<p_(r,i,s)?n:r,a=p_(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!rI(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,wR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new _h(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ac),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ac),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_h=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},wh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ac=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new wh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function p_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function g_(){return new tf([new yh])}var tf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||g_()),deps:[[e,new Sw,new Ot]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new k(901,!1)}};e.\u0275prov=x({token:e,providedIn:"root",factory:g_});let t=e;return t})();function Rc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Yt(s)),Rt(s)&&TR(s,r);let o=n.type;if(o&8)Rc(t,e,n.child,r);else if(o&32){let a=Wh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Gw(e,n);if(Array.isArray(a))r.push(...a);else{let c=Kh(e[Qt]);Rc(c[X],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function TR(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&Rc(r[X],r,i,e)}t[vr]!==t[mn]&&e.push(t[vr])}var iI=[];function DR(t){return t[yr]??bR(t)}function bR(t){let e=iI.pop()??Object.create(SR);return e.lView=t,e}function CR(t){t.lView[yr]!==t&&(t.lView=null,iI.push(t))}var SR=ce(b({},pv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$c(t.lView)},consumerOnSignalRead(){this.lView[yr]=this}}),AR="ngOriginalError";function Wd(t){return t[AR]}var gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wd(e);for(;n&&Wd(n);)n=Wd(n);return n||null}},sI=new R("",{providedIn:"root",factory:()=>I(gn).handleError.bind(void 0)});var oI=!1,RR=new R("",{providedIn:"root",factory:()=>oI});var Zc={};function ae(t){aI(yn(),xe(),jh()+t,!1)}function aI(t,e,n,r){if(!r)if((e[V]&3)===3){let s=t.preOrderCheckHooks;s!==null&&dc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&hc(e,s,0,n)}_r(n)}function Me(t,e=Q.Default){let n=xe();if(n===null)return A(t,e);let r=vt();return Ew(r,n,mt(t),e)}function xR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_r(~i);else{let s=i,o=n[++r],a=n[++r];FS(o,s);let c=e[s];a(2,c)}}}finally{_r(-1)}}function Xc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[mn]=i,d[V]=r|4|128|8,(u!==null||t&&t[V]&2048)&&(d[V]|=2048),ew(d),d[Re]=d[Ri]=t,d[Kt]=n,d[Di]=o||t&&t[Di],d[Ve]=a||t&&t[Ve],d[Ti]=c||t&&t[Ti]||null,d[Nt]=s,d[Vc]=TA(),d[vc]=l,d[K_]=u,d[Qt]=e.type==2?t[Qt]:d,d}function Js(t,e,n,r,i){let s=t.data[e];if(s===null)s=MR(t,e,n,r,i),LS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=OS();s.injectorIndex=o===null?-1:o.injectorIndex}return Ir(s,!0),s}function MR(t,e,n,r,i){let s=iw(),o=Lh(),a=o?s:s&&s.parent,c=t.data[e]=LR(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function cI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uI(t,e,n,r,i){let s=jh(),o=r&2;try{_r(-1),o&&e.length>pn&&aI(t,e,pn,!1),zt(o?2:0,i),n(r,i)}finally{_r(s),zt(o?3:1,i)}}function nf(t,e,n){if(Oh(e)){let r=ot(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ot(r)}}}function rf(t,e,n){rw()&&(HR(t,e,n,Pt(n,e)),(n.flags&64)===64&&hI(t,e,n))}function sf(t,e,n=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function lI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=of(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function of(t,e,n,r,i,s,o,a,c,u,l){let d=pn+r,h=d+i,f=NR(d,h),g=typeof u=="function"?u():u;return f[X]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function NR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Zc);return n}function PR(t,e,n,r){let s=r.get(RR,oI)||n===Wt.ShadowDom,o=t.selectRootElement(e,s);return OR(o),o}function OR(t){kR(t)}var kR=t=>null;function LR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return MS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function m_(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?y_(n,e,i,s):r.hasOwnProperty(i)&&y_(n,e,r[i],s)}return n}function y_(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function FR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=m_(d.inputs,l,c,f),u=m_(d.outputs,l,u,g);let v=c!==null&&o!==null&&!$_(e)?ZR(c,l,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function VR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jR(t,e,n,r,i,s,o,a){let c=Pt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(cf(t,n,l,r,i),jc(e)&&UR(n,e.index)):e.type&3?(r=VR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function UR(t,e){let n=Un(e,t);n[V]&16||(n[V]|=64)}function af(t,e,n,r){if(rw()){let i=r===null?null:{"":-1},s=zR(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&dI(t,e,n,o,i,a),i&&GR(n,r,i)}n.mergedAttrs=Ph(n.mergedAttrs,n.attrs)}function dI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)ZS(vw(n,e),t,r[u].type);KR(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=cI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Ph(n.mergedAttrs,l.hostAttrs),QR(t,n,e,c,l),WR(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}FR(t,n,s)}function $R(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;BR(o)!=a&&o.push(a),o.push(n,r,s)}}function BR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function HR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;jc(n)&&YR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vw(n,e),Ln(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Us(e,t,a,n);if(Ln(u,e),o!==null&&JR(e,a-i,u,c,n,o),Gs(c)){let l=Un(n.index,e);l[Kt]=Us(e,t,a,n)}}}function hI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=VS();try{_r(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];nh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qR(c,u)}}finally{_r(-1),nh(o)}}function qR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function zR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(cS(e,o.selectors,!1))if(r||(r=[]),Gs(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Ih(t,e,c)}else r.unshift(o),Ih(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ih(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function GR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new k(-301,!1);r.push(e[i],s)}}}function WR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gs(e)&&(n[""]=t)}}function KR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function QR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ci(i.type,!0)),o=new js(s,Gs(i),Me);t.blueprint[r]=o,n[r]=o,$R(t,e,r,cI(t,n,i.hostVars,Zc),i)}function YR(t,e,n){let r=Pt(e,t),i=lI(n),s=t[Di].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=eu(t,Xc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function JR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];fI(r,n,c,u,l)}}function fI(t,e,n,r,i){let s=ot(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{ot(s)}}function ZR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function pI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gI(t,e){let n=t.contentQueries;if(n!==null){let r=ot(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];aw(s),a.contentQueries(2,e[o],o)}}}finally{ot(r)}}}function eu(t,e){return t[Fs]?t[e_][At]=e:t[Fs]=e,t[e_]=e,e}function Eh(t,e,n){aw(0);let r=ot(null);try{e(t,n)}finally{ot(r)}}function XR(t){return t[Ls]||(t[Ls]=[])}function ex(t){return t.cleanup||(t.cleanup=[])}function mI(t,e){let n=t[Ti],r=n?n.get(gn,null):null;r&&r.handleError(e)}function cf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];fI(u,c,r,a,i)}}function tx(t,e,n){let r=TS(e,t);AA(t[Ve],r,n)}var nx=100;function rx(t,e=!0){let n=t[Di],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{ix(t)}catch(o){throw e&&mI(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function ix(t){Th(t,0);let e=0;for(;tw(t);){if(e===nx)throw new k(103,!1);e++,Th(t,1)}}function sx(t,e,n,r){let i=e[V];if((i&256)===256)return;let s=!1;!s&&e[Di].inlineEffectRunner?.flush(),Fh(e);let o=null,a=null;!s&&ox(t)&&(a=DR(e),o=gv(a));try{ew(e),kS(t.bindingStartIndex),n!==null&&uI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&dc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&hc(e,d,0,null),Bd(e,0)}if(ax(e),yI(e,0),t.contentQueries!==null&&gI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&dc(e,d)}else{let d=t.contentHooks;d!==null&&hc(e,d,1),Bd(e,1)}xR(t,e);let u=t.components;u!==null&&_I(e,u,0);let l=t.viewQuery;if(l!==null&&Eh(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&dc(e,d)}else{let d=t.viewHooks;d!==null&&hc(e,d,2),Bd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$d]){for(let d of e[$d])d();e[$d]=null}s||(e[V]&=-73)}catch(c){throw $c(e),c}finally{a!==null&&(mv(a,o),CR(a)),Vh()}}function ox(t){return t.type!==2}function yI(t,e){for(let n=jw(t);n!==null;n=Uw(n)){n[V]&=~bi.HasChildViewsToRefresh;for(let r=yt;r<n.length;r++){let i=n[r];vI(i,e)}}}function ax(t){for(let e=jw(t);e!==null;e=Uw(e)){if(!(e[V]&bi.HasTransplantedViews))continue;let n=e[wc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Re];bS(i)}}}function cx(t,e,n){let r=Un(e,t);vI(r,n)}function vI(t,e){kh(t)&&Th(t,e)}function Th(t,e){let r=t[X],i=t[V],s=t[yr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vd(s)),s&&(s.dirty=!1),t[V]&=-9217,o)sx(r,t,r.template,t[Kt]);else if(i&8192){yI(t,1);let a=r.components;a!==null&&_I(t,a,1)}}function _I(t,e,n){for(let r=0;r<e.length;r++)cx(t,e[r],n)}function uf(t){for(;t;){t[V]|=64;let e=Kh(t);if(yS(t)&&!e)return t;t=e}return null}var wr=class{get rootNodes(){let e=this._lView,n=e[X];return Rc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return(this._lView[V]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Re];if(Rt(e)){let n=e[_c],r=n?n.indexOf(this):-1;r>-1&&(lh(e,r),Tc(n,r))}this._attachedToViewContainer=!1}qw(this._lView[X],this._lView)}onDestroy(e){SS(this._lView,e)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-129}reattach(){nw(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,rx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,NA(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}},Tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ux;let t=e;return t})();function ux(t){return lx(vt(),xe(),(t&16)===16)}function lx(t,e,n){if(jc(t)&&!n){let r=Un(t.index,e);return new wr(r,r)}else if(t.type&47){let r=e[Qt];return new wr(r,e)}return null}var v_=new Set;function lf(t){v_.has(t)||(v_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Dh=class extends Ce{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Kd(s),i&&(i=Kd(i)),o&&(o=Kd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function Kd(t){return e=>{setTimeout(t,void 0,e)}}var at=Dh;function __(...t){}function dx(){let t=typeof fn.requestAnimationFrame=="function",e=fn[t?"requestAnimationFrame":"setTimeout"],n=fn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var de=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=dx().nativeRequestAnimationFrame,px(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,hx,__,__);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hx={};function df(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bh(t),t.isCheckStableRunning=!0,df(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bh(t))}function px(t){let e=()=>{fx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(gx(a))return n.invokeTask(i,s,o,a);try{return w_(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),I_(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return w_(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),I_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bh(t),df(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function w_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function I_(t){t._nesting--,df(t)}var wI=new R("",{providedIn:"root",factory:II});function II(){let t=I(de),e=!0,n=new $(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new $(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let o=t.onUnstable.subscribe(()=>{de.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}});return Od(n,r.pipe(xs()))}function gx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var mx=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=x({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function yx(t,e){let n=Un(e,t),r=n[X];vx(r,n);let i=n[mn];i!==null&&n[vc]===null&&(n[vc]=Xh(i,n[Ti])),hf(r,n,n[Kt])}function vx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hf(t,e,n){Fh(e);try{let r=t.viewQuery;r!==null&&Eh(1,r,n);let i=t.template;i!==null&&uI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gI(t,e),t.staticViewQueries&&Eh(2,t.viewQuery,n);let s=t.components;s!==null&&_x(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[V]&=-5,Vh()}}function _x(t,e){for(let n=0;n<e.length;n++)yx(t,e[n])}function xc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=qv(i,a);else if(s==2){let c=a,u=e[++o];r=qv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Mc=class extends Yc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mr(e);return new Hs(n,this.ngModule)}};function E_(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function wx(t){let e=t.toLowerCase();return e==="svg"?IS:e==="math"?ES:null}var Ch=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Lc(r);let i=this.injector.get(e,Gd,r);return i!==Gd||n===Gd?i:this.parentInjector.get(e,n,r)}},Hs=class extends Sc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=E_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return E_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=hS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Ch(e,s):e,a=o.get(Bs,null);if(a===null)throw new k(407,!1);let c=o.get(_R,null),u=o.get(mx,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?PR(d,r,this.componentDef.encapsulation,o):Bw(d,h,wx(h)),g=4608,v=this.componentDef.onPush?576:528,y=this.componentDef.signals?g:v,w=null;f!==null&&(w=Xh(f,o,!0));let F=of(0,null,null,1,0,null,null,null,null,null,null),K=Xc(null,F,null,y,null,null,l,d,o,null,w);Fh(K);let q,we;try{let te=this.componentDef,Ne,$t=null;te.findHostDirectiveDefs?(Ne=[],$t=new Map,te.findHostDirectiveDefs(te,Ne,$t),Ne.push(te)):Ne=[te];let ur=Ix(K,f),si=Ex(ur,f,te,Ne,K,l,d);we=X_(F,pn),f&&bx(d,te,f,r),n!==void 0&&Cx(we,this.ngContentSelectors,n),q=Dx(si,te,Ne,$t,K,[Sx]),hf(F,K,null)}finally{Vh()}return new Sh(this.componentType,q,Jc(we,K),K,we)}},Sh=class extends gh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;cf(s[X],s,i,e,n),this.previousInputValues.set(e,n);let o=Un(this._tNode.index,s);uf(o)}}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ix(t,e){let n=t[X],r=pn;return t[r]=e,Js(n,r,2,"#host",null)}function Ex(t,e,n,r,i,s,o){let a=i[X];Tx(r,t,e,o);let c=null;e!==null&&(c=Xh(e,i[Ti]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Xc(i,lI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Ih(a,t,r.length-1),eu(i,d),i[t.index]=d}function Tx(t,e,n,r){for(let i of t)e.mergedAttrs=Ph(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(xc(e,e.mergedAttrs,!0),n!==null&&Kw(r,n,e))}function Dx(t,e,n,r,i,s){let o=vt(),a=i[X],c=Pt(o,i);dI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Us(i,a,d,o);Ln(h,i)}hI(a,i,o),c&&Ln(c,i);let u=Us(i,a,o.directiveStart+o.componentOffset,o);if(t[Kt]=i[Kt]=u,s!==null)for(let l of s)l(u,e);return nf(a,o,t),u}function bx(t,e,n,r){if(r)eh(t,n,["ng-version",ef.full]);else{let{attrs:i,classes:s}=fS(e.selectors[0]);i&&eh(t,n,i),s&&s.length>0&&Ww(t,n,s.join(" "))}}function Cx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Sx(){let t=vt();qc(xe()[X],t)}function EI(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ax(t,e,n,r){return EI(t,ow(),n)?e+Mh(n)+r:Zc}function rt(t,e,n){let r=xe(),i=ow();if(EI(r,i,e)){let s=yn(),o=$S();jR(s,o,r,t,e,r[Ve],n,!1)}return rt}function T_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";cf(t,n,s[o],o,r)}var Bq=new RegExp(`^(\\d+)*(${fR}|${hR})*(.*)`);var Rx=(t,e)=>null;function D_(t,e){return Rx(t,e)}function xx(t,e,n,r){let i=e.tView,o=t[V]&4096?4096:16,a=Xc(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Fc]=c;let u=t[Vs];return u!==null&&(a[Vs]=u.createEmbeddedView(i)),hf(i,a,n),a}function b_(t,e){return!e||e.firstChild===null||Fw(t)}function Mx(t,e,n,r=!0){let i=e[X];if(OA(i,e,t,n),r){let o=dh(n,t),a=e[Ve],c=Qh(a,t[vr]);c!==null&&MA(i,t[Nt],a,e,c,o)}let s=e[vc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Dr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Nx;let t=e;return t})();function Nx(){let t=vt();return Ox(t,xe())}var Px=Dr,TI=class extends Px{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new gr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uh(this._hostTNode,this._hostLView);if(gw(e)){let n=Ec(e,this._hostLView),r=Ic(e),i=n[X].data[r+8];return new gr(i,n)}else return new gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=C_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=D_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,b_(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!sA(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new Hs(mr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?u:this.parentInjector).get(tt,null);v&&(s=v)}let l=mr(c.componentType??{}),d=D_(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,b_(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(DS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Re],u=new TI(c,c[Nt],c[Re]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Mx(o,i,s,r),e.attachToViewContainerRef(),Cw(Qd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=C_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=lh(this._lContainer,n);r&&(Tc(Qd(this._lContainer),n),qw(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=lh(this._lContainer,n);return r&&Tc(Qd(this._lContainer),n)!=null?new wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function C_(t){return t[_c]}function Qd(t){return t[_c]||(t[_c]=[])}function Ox(t,e){let n,r=e[t.index];return Rt(r)?n=r:(n=pI(r,e,null,t),e[t.index]=n,eu(e,n)),Lx(n,e,t,r),new TI(n,t,e)}function kx(t,e){let n=t[Ve],r=n.createComment(""),i=Pt(e,t),s=Qh(n,i);return bc(n,s,r,$A(n,i),!1),r}var Lx=jx,Fx=(t,e,n)=>!1;function Vx(t,e,n){return Fx(t,e,n)}function jx(t,e,n,r){if(t[vr])return;let i;n.type&8?i=Yt(r):i=kx(e,n),t[vr]=i}function Ux(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Js(e,t,4,o||null,Si(u,a));af(e,n,l,Si(u,c)),qc(e,l);let d=l.tView=of(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function it(t,e,n,r,i,s,o,a){let c=xe(),u=yn(),l=t+pn,d=u.firstCreatePass?Ux(l,u,c,e,n,r,i,s,o):u.data[l];Ir(d,!1);let h=$x(u,c,d,t);Bc()&&Kc(u,c,h,d),Ln(h,c);let f=pI(h,c,h,d);return c[l]=f,eu(c,f),Vx(f,d,c),Uc(d)&&rf(u,c,d),o!=null&&sf(c,d,a),it}var $x=Bx;function Bx(t,e,n,r){return Hc(!0),e[Ve].createComment("")}function Hx(t,e,n,r,i,s){let o=e.consts,a=Si(o,i),c=Js(e,t,2,r,a);return af(e,n,c,Si(o,s)),c.attrs!==null&&xc(c,c.attrs,!1),c.mergedAttrs!==null&&xc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function D(t,e,n,r){let i=xe(),s=yn(),o=pn+t,a=i[Ve],c=s.firstCreatePass?Hx(o,s,i,e,n,r):s.data[o],u=qx(s,i,c,a,e,t);i[o]=u;let l=Uc(c);return Ir(c,!0),Kw(a,u,c),(c.flags&32)!==32&&Bc()&&Kc(s,i,u,c),AS()===0&&Ln(u,i),RS(),l&&(rf(s,i,c),nf(s,c,i)),r!==null&&sf(i,c),D}function E(){let t=vt();Lh()?sw():(t=t.parent,Ir(t,!1));let e=t;NS(e)&&PS(),xS();let n=yn();return n.firstCreatePass&&(qc(n,t),Oh(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&GS(e)&&T_(n,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&WS(e)&&T_(n,e,xe(),e.stylesWithoutHost,!1),E}function Z(t,e,n,r){return D(t,e,n,r),E(),Z}var qx=(t,e,n,r,i,s)=>(Hc(!0),Bw(r,i,BS()));function zx(t,e,n,r,i){let s=e.consts,o=Si(s,r),a=Js(e,t,8,"ng-container",o);o!==null&&xc(a,o,!0);let c=Si(s,i);return af(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function $n(t,e,n){let r=xe(),i=yn(),s=t+pn,o=i.firstCreatePass?zx(s,i,r,e,n):i.data[s];Ir(o,!0);let a=Gx(i,r,o,t);return r[s]=a,Bc()&&Kc(i,r,a,o),Ln(a,r),Uc(o)&&(rf(i,r,o),nf(i,o,r)),n!=null&&sf(r,o),$n}function Bn(){let t=vt(),e=yn();return Lh()?sw():(t=t.parent,Ir(t,!1)),e.firstCreatePass&&(qc(e,t),Oh(t)&&e.queries.elementEnd(t)),Bn}var Gx=(t,e,n,r)=>(Hc(!0),RA(e[Ve],""));var Nc="en-US";var Wx=Nc;function Kx(t){HC(t,"Expected localeId to be defined"),typeof t=="string"&&(Wx=t.toLowerCase().replace(/_/g,"-"))}function Zs(t){return!!t&&typeof t.then=="function"}function DI(t){return!!t&&typeof t.subscribe=="function"}function Hn(t,e,n,r){let i=xe(),s=yn(),o=vt();return Yx(s,i,i[Ve],o,t,e,r),Hn}function Qx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ls],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Yx(t,e,n,r,i,s,o){let a=Uc(r),u=t.firstCreatePass&&ex(t),l=e[Kt],d=XR(e),h=!0;if(r.type&3||o){let v=Pt(r,e),y=o?o(v):v,w=d.length,F=o?q=>o(Yt(q[r.index])):r.index,K=null;if(!o&&a&&(K=Qx(t,e,i,r.index)),K!==null){let q=K.__ngLastListenerFn__||K;q.__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,h=!1}else{s=A_(r,e,l,s,!1);let q=n.listen(y,i,s);d.push(s,q),u&&u.push(i,F,w,w+1)}}else s=A_(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let v=g.length;if(v)for(let y=0;y<v;y+=2){let w=g[y],F=g[y+1],we=e[w][F].subscribe(s),te=d.length;d.push(s,we),u&&u.push(i,r.index,te,-(te+1))}}}function S_(t,e,n,r){try{return zt(6,e,n),n(r)!==!1}catch(i){return mI(t,i),!1}finally{zt(7,e,n)}}function A_(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Un(t.index,e):e;uf(a);let c=S_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=S_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function bI(t=1){return US(t)}function M(t,e=""){let n=xe(),r=yn(),i=t+pn,s=r.firstCreatePass?Js(r,i,1,e,null):r.data[i],o=Jx(r,n,s,e,t);n[i]=o,Bc()&&Kc(r,n,o,s),Ir(s,!1)}var Jx=(t,e,n,r,i)=>(Hc(!0),SA(e[Ve],r));function We(t){return wn("",t,""),We}function wn(t,e,n){let r=xe(),i=Ax(r,t,e,n);return i!==Zc&&tx(r,jh(),i),wn}var Vn=class{},qs=class{};var Ah=class extends Vn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mc(this);let i=z_(e);this._bootstrapComponents=Lw(i.bootstrap),this._r3Injector=Pw(e,n,[{provide:Vn,useValue:this},{provide:Yc,useValue:this.componentFactoryResolver},...r],et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rh=class extends qs{constructor(e){super(),this.moduleType=e}create(e){return new Ah(this.moduleType,e,[])}};var Pc=class extends Vn{constructor(e){super(),this.componentFactoryResolver=new Mc(this),this.instance=null;let n=new $s([...e.providers,{provide:Vn,useValue:this},{provide:Yc,useValue:this.componentFactoryResolver}],e.parent||Hh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ff(t,e,n=null){return new Pc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Zx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=xw(!1,r.type),s=i.length>0?ff([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(A(tt))});let t=e;return t})();function st(t){lf("NgStandalone"),t.getStandaloneInjector=e=>e.get(Zx).getOrCreateStandaloneInjector(t)}var Mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tM;let t=e;return t})(),Xx=Mi,eM=class extends Xx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=xx(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new wr(i)}};function tM(){return nM(vt(),xe())}function nM(t,e){return t.type&4?new eM(e,t,Jc(t,e)):null}var tu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Xs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pf=(()=>{let e=class e{compileModuleSync(r){return new Rh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=z_(r),o=Lw(s.declarations).reduce((a,c)=>{let u=mr(c);return u&&a.push(new Hs(u)),a},[]);return new xh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var CI=new R("");var gf=new R("Application Initializer"),SI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=I(gf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Zs(o))r.push(o);else if(DI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nu=new R("appBootstrapListener");function rM(){vv(()=>{throw new k(600,!1)})}function iM(t){return t.isBoundToModule}function sM(t,e,n){try{let r=n();return Zs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ni=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(sI),this.zoneIsStable=I(wI),this.componentTypes=[],this.components=[],this.isStable=I(Xs).hasPendingTasks.pipe(Ie(r=>r?P(!1):this.zoneIsStable),rc()),this._injector=I(tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Sc;if(!this._injector.get(SI).done){let g="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&q_(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new k(405,!1)}let a;s?a=r:a=this._injector.get(Yc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=iM(a)?void 0:this._injector.get(Vn),u=i||a.selector,l=a.create(kt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(CI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Yd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Yd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(nu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Yd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new k(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var oM=(()=>{let e=class e{constructor(){this.zone=I(de),this.applicationRef=I(Ni)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aM(t){return[{provide:de,useFactory:t},{provide:Ws,multi:!0,useFactory:()=>{let e=I(oM,{optional:!0});return()=>e.initialize()}},{provide:sI,useFactory:cM},{provide:wI,useFactory:II}]}function cM(){let t=I(de),e=I(gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function uM(t){let e=aM(()=>new de(lM(t)));return ct([[],e])}function lM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function dM(){return typeof $localize<"u"&&$localize.locale||Nc}var mf=new R("LocaleId",{providedIn:"root",factory:()=>I(mf,Q.Optional|Q.SkipSelf)||dM()});var AI=new R("PlatformDestroyListeners");var gc=null;function hM(t=[],e){return kt.create({name:e,providers:[{provide:Wc,useValue:"platform"},{provide:AI,useValue:new Set([()=>gc=null])},...t]})}function fM(t=[]){if(gc)return gc;let e=hM(t);return gc=e,rM(),pM(e),e}function pM(t){t.get(zh,null)?.forEach(n=>n())}function RI(){return!1}function xI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=fM(r),s=[uM(),...n||[]],a=new Pc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(de);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(gn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(AI);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),sM(u,c,()=>{let f=a.get(SI);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(mf,Nc);Kx(g||Nc);let v=a.get(Ni);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}var yf=null;function Pi(){return yf}function OI(t){yf||(yf=t)}var ru=class{},Qe=new R("DocumentToken"),kI=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>I(_M))(),providedIn:"platform"});let t=e;return t})();var _M=(()=>{let e=class e extends kI{constructor(){super(),this._doc=I(Qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(r){let i=Pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function LI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function MI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function br(t){return t&&t[0]!=="?"?"?"+t:t}var iu=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>I(FI))(),providedIn:"root"});let t=e;return t})(),wM=new R("appBaseHref"),FI=(()=>{let e=class e extends iu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return LI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+br(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+br(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+br(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(A(kI),A(wM,8))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eo=(()=>{let e=class e{constructor(r){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=TM(MI(NI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+br(i))}normalize(r){return e.stripTrailingSlash(EM(this._basePath,NI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+br(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+br(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=br,e.joinWithSlash=LI,e.stripTrailingSlash=MI,e.\u0275fac=function(i){return new(i||e)(A(iu))},e.\u0275prov=x({token:e,factory:()=>IM(),providedIn:"root"});let t=e;return t})();function IM(){return new eo(A(iu))}function EM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function NI(t){return t.replace(/\/index.html$/,"")}function TM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function su(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var vf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ou=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new vf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),PI(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);PI(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Me(Dr),Me(Mi),Me(tf))},e.\u0275dir=Ai({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function PI(t,e){t.context.$implicit=e.item}var Cr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Mt({type:e}),e.\u0275inj=xt({});let t=e;return t})(),VI="browser",DM="server";function _f(t){return t===DM}var Oi=class{};var no=class{},cu=class{},Sr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ef=class{encodeKey(e){return jI(e)}encodeValue(e){return jI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SM(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var AM=/%(\d[a-f0-9])/gi,RM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jI(t){return encodeURIComponent(t).replace(AM,(e,n)=>RM[n]??e)}function au(t){return`${t}`}var qn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ef,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=SM(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(au):[au(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(au(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(au(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Tf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function xM(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UI(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function $I(t){return typeof Blob<"u"&&t instanceof Blob}function BI(t){return typeof FormData<"u"&&t instanceof FormData}function MM(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var to=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(xM(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Sr),this.context||(this.context=new Tf),!this.params)this.params=new qn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:UI(this.body)||$I(this.body)||BI(this.body)||MM(this.body)||typeof this.body=="string"?this.body:this.body instanceof qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BI(this.body)?null:$I(this.body)?this.body.type||null:UI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},ki=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ki||{}),ro=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Sr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Df=class t extends ro{constructor(e={}){super(e),this.type=ki.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uu=class t extends ro{constructor(e={}){super(e),this.type=ki.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lu=class extends ro{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function If(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var bf=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof to)o=r;else{let u;s.headers instanceof Sr?u=s.headers:u=new Sr(s.headers);let l;s.params&&(s.params instanceof qn?l=s.params:l=new qn({fromObject:s.params})),o=new to(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=P(o).pipe(Nn(u=>this.handler.handle(u)));if(r instanceof to||s.observe==="events")return a;let c=a.pipe(Xe(u=>u instanceof uu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(O(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(O(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(O(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(O(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new qn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,If(s,i))}post(r,i,s={}){return this.request("POST",r,If(s,i))}put(r,i,s={}){return this.request("PUT",r,If(s,i))}};e.\u0275fac=function(i){return new(i||e)(A(no))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function NM(t,e){return e(t)}function PM(t,e,n){return(r,i)=>vn(n,()=>e(r,s=>t(s,i)))}var zI=new R(""),OM=new R(""),kM=new R("");var HI=(()=>{let e=class e extends no{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=I(Xs);let s=I(kM,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(zI),...this.injector.get(OM,[])]));this.chain=s.reduceRight((o,a)=>PM(o,a,this.injector),NM)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(pr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(A(cu),A(tt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();var LM=/^\)\]\}',?\n/;function FM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var qI=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new k(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?le(i.\u0275loadImpl()):P(null)).pipe(Ie(()=>new $(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,w)=>a.setRequestHeader(y,w.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let y=r.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(r.responseType){let y=r.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let y=a.statusText||"OK",w=new Sr(a.getAllResponseHeaders()),F=FM(a)||r.url;return u=new Df({headers:w,status:a.status,statusText:y,url:F}),u},d=()=>{let{headers:y,status:w,statusText:F,url:K}=l(),q=null;w!==204&&(q=typeof a.response>"u"?a.responseText:a.response),w===0&&(w=q?200:0);let we=w>=200&&w<300;if(r.responseType==="json"&&typeof q=="string"){let te=q;q=q.replace(LM,"");try{q=q!==""?JSON.parse(q):null}catch(Ne){q=te,we&&(we=!1,q={error:Ne,text:q})}}we?(o.next(new uu({body:q,headers:y,status:w,statusText:F,url:K||void 0})),o.complete()):o.error(new lu({error:q,headers:y,status:w,statusText:F,url:K||void 0}))},h=y=>{let{url:w}=l(),F=new lu({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:w||void 0});o.error(F)},f=!1,g=y=>{f||(o.next(l()),f=!0);let w={type:ki.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),r.responseType==="text"&&a.responseText&&(w.partialText=a.responseText),o.next(w)},v=y=>{let w={type:ki.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),o.next(w)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",v)),a.send(c),o.next({type:ki.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",v)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(A(Oi))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),GI=new R("XSRF_ENABLED"),VM="XSRF-TOKEN",jM=new R("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>VM}),UM="X-XSRF-TOKEN",$M=new R("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>UM}),du=class{},BM=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=su(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(A(Qe),A(Jt),A(jM))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function HM(t,e){let n=t.url.toLowerCase();if(!I(GI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=I(du).getToken(),i=I($M);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function WI(...t){let e=[bf,qI,HI,{provide:no,useExisting:HI},{provide:cu,useExisting:qI},{provide:zI,useValue:HM,multi:!0},{provide:GI,useValue:!0},{provide:du,useClass:BM}];for(let n of t)e.push(...n.\u0275providers);return ct(e)}var Af=class extends ru{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rf=class t extends Af{static makeCurrent(){OI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qM();return n==null?null:zM(n)}resetBaseElement(){io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return su(document.cookie,e)}},io=null;function qM(){return io=io||document.querySelector("base"),io?io.getAttribute("href"):null}function zM(t){return new URL(t,document.baseURI).pathname}var GM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),xf=new R("EventManagerPlugins"),JI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(A(xf),A(de))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),hu=class{constructor(e){this._doc=e}},Cf="ng-app-id",ZI=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_f(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Cf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Cf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(A(Qe),A(qh),A(Gh,8),A(Jt))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),Sf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nf=/%COMP%/g,XI="%COMP%",WM=`_nghost-${XI}`,KM=`_ngcontent-${XI}`,QM=!0,YM=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>QM});function JM(t){return KM.replace(Nf,t)}function ZM(t){return WM.replace(Nf,t)}function eE(t,e){return e.map(n=>n.replace(Nf,t))}var KI=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=_f(c),this.defaultRenderer=new so(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wt.ShadowDom&&(i=ce(b({},i),{encapsulation:Wt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof fu?s.applyToHost(r):s instanceof oo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Wt.Emulated:o=new fu(u,l,i,this.appId,d,a,c,h);break;case Wt.ShadowDom:return new Mf(u,l,r,i,a,c,this.nonce,h);default:o=new oo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(A(JI),A(ZI),A(qh),A(YM),A(Qe),A(Jt),A(de),A(Gh))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),so=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Sf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Sf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Sf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(n,r,i&Er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function QI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mf=class extends so{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=eE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oo=class extends so{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?eE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},fu=class extends oo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=JM(u),this.hostAttr=ZM(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},XM=(()=>{let e=class e extends hu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(A(Qe))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})(),YI=["alt","control","meta","shift"],eN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nN=(()=>{let e=class e extends hu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),YI.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=eN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),YI.forEach(a=>{if(a!==s){let c=tN[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(A(Qe))},e.\u0275prov=x({token:e,factory:e.\u0275fac});let t=e;return t})();function tE(t,e){return xI(b({rootComponent:t},rN(e)))}function rN(t){return{appProviders:[...cN,...t?.providers??[]],platformProviders:aN}}function iN(){Rf.makeCurrent()}function sN(){return new gn}function oN(){return Ow(document),document}var aN=[{provide:Jt,useValue:VI},{provide:zh,useValue:iN,multi:!0},{provide:Qe,useFactory:oN,deps:[]}];var cN=[{provide:Wc,useValue:"root"},{provide:gn,useFactory:sN,deps:[]},{provide:xf,useClass:XM,multi:!0,deps:[Qe,de,Jt]},{provide:xf,useClass:nN,multi:!0,deps:[Qe]},KI,ZI,JI,{provide:Bs,useExisting:KI},{provide:Oi,useClass:GM,deps:[]},[]];function uN(){return new Pf(A(Qe))}var Pf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(A(Qe))},e.\u0275prov=x({token:e,factory:function(i){let s=null;return i?s=new i:s=uN(),s},providedIn:"root"});let t=e;return t})();var rE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new kf;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hN=function(t){let e=rE(t);return iE.encodeByteArray(e,!0)},ao=function(t){return hN(t).replace(/\./g,"")},Ff=function(t){try{return iE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pN=()=>fN().__FIREBASE_DEFAULTS__,gN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ff(t[1]);return e&&JSON.parse(e)},Vf=()=>{try{return pN()||gN()||mN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sE=t=>{var e,n;return(n=(e=Vf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oE=t=>{let e=sE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jf=()=>{var t;return(t=Vf())===null||t===void 0?void 0:t.config},aE=t=>{var e;return(e=Vf())===null||e===void 0?void 0:e[`_${t}`]};var pu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function cE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ao(JSON.stringify(n)),ao(JSON.stringify(o)),a].join(".")}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function lE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uf(){try{return typeof indexedDB=="object"}catch{return!1}}function hE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var yN="FirebaseError",_t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _t(i,a,r)}};function vN(t,e){return t.replace(_N,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var _N=/\{\$([^}]+)}/g;function Li(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(nE(s)&&nE(o)){if(!Li(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}function $f(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fE(t,e){let n=new Lf(t,e);return n.subscribe.bind(n)}var Lf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Of),i.error===void 0&&(i.error=Of),i.complete===void 0&&(i.complete=Of);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Of(){}var Jz=4*60*60*1e3;function ut(t){return t&&t._delegate?t._delegate:t}var It=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ar="[DEFAULT]";var Bf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EN(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IN(t){return t===Ar?void 0:t}function EN(t){return t.instantiationMode==="EAGER"}var gu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Bf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TN=[],Y=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Y||{}),DN={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},bN=Y.INFO,CN={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},SN=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=CN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zn=class{constructor(e){this.name=e,this._logLevel=bN,this._logHandler=SN,this._userLogHandler=null,TN.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}};var AN=(t,e)=>e.some(n=>t instanceof n),pE,gE;function RN(){return pE||(pE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xN(){return gE||(gE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mE=new WeakMap,qf=new WeakMap,yE=new WeakMap,Hf=new WeakMap,Gf=new WeakMap;function MN(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mE.set(n,t)}).catch(()=>{}),Gf.set(e,t),e}function NN(t){if(qf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qf.set(t,e)}var zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vE(t){zf=t(zf)}function PN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(mu(this),e,...n);return yE.set(r,e.sort?e.sort():[e]),Zt(r)}:xN().includes(t)?function(...e){return t.apply(mu(this),e),Zt(mE.get(this))}:function(...e){return Zt(t.apply(mu(this),e))}}function ON(t){return typeof t=="function"?PN(t):(t instanceof IDBTransaction&&NN(t),AN(t,RN())?new Proxy(t,zf):t)}function Zt(t){if(t instanceof IDBRequest)return MN(t);if(Hf.has(t))return Hf.get(t);let e=ON(t);return e!==t&&(Hf.set(t,e),Gf.set(e,t)),e}var mu=t=>Gf.get(t);function wE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Zt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zt(o.result),c.oldVersion,c.newVersion,Zt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var kN=["get","getKey","getAll","getAllKeys","count"],LN=["put","add","delete","clear"],Wf=new Map;function _E(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kN.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Wf.set(e,s),s}vE(t=>ce(b({},t),{get:(e,n,r)=>_E(e,n)||t.get(e,n,r),has:(e,n)=>!!_E(e,n)||t.has(e,n)}));var Qf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FN(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function FN(t){let e=t.getComponent();return e?.type==="VERSION"}var Yf="@firebase/app",IE="0.9.25";var Rr=new zn("@firebase/app"),VN="@firebase/app-compat",jN="@firebase/analytics-compat",UN="@firebase/analytics",$N="@firebase/app-check-compat",BN="@firebase/app-check",HN="@firebase/auth",qN="@firebase/auth-compat",zN="@firebase/database",GN="@firebase/database-compat",WN="@firebase/functions",KN="@firebase/functions-compat",QN="@firebase/installations",YN="@firebase/installations-compat",JN="@firebase/messaging",ZN="@firebase/messaging-compat",XN="@firebase/performance",eP="@firebase/performance-compat",tP="@firebase/remote-config",nP="@firebase/remote-config-compat",rP="@firebase/storage",iP="@firebase/storage-compat",sP="@firebase/firestore",oP="@firebase/firestore-compat",aP="firebase",cP="10.7.1";var Jf="[DEFAULT]",uP={[Yf]:"fire-core",[VN]:"fire-core-compat",[UN]:"fire-analytics",[jN]:"fire-analytics-compat",[BN]:"fire-app-check",[$N]:"fire-app-check-compat",[HN]:"fire-auth",[qN]:"fire-auth-compat",[zN]:"fire-rtdb",[GN]:"fire-rtdb-compat",[WN]:"fire-fn",[KN]:"fire-fn-compat",[QN]:"fire-iid",[YN]:"fire-iid-compat",[JN]:"fire-fcm",[ZN]:"fire-fcm-compat",[XN]:"fire-perf",[eP]:"fire-perf-compat",[tP]:"fire-rc",[nP]:"fire-rc-compat",[rP]:"fire-gcs",[iP]:"fire-gcs-compat",[sP]:"fire-fst",[oP]:"fire-fst-compat","fire-js":"fire-js",[aP]:"fire-js-all"};var co=new Map,Zf=new Map;function lP(t,e){try{t.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wn(t){let e=t.name;if(Zf.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(let n of co.values())lP(n,t);return!0}function np(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var dP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gn=new In("app","Firebase",dP);var Xf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}};var Fi=cP;function rp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gn.create("bad-app-name",{appName:String(i)});if(n||(n=jf()),!n)throw Gn.create("no-options");let s=co.get(i);if(s){if(Li(n,s.options)&&Li(r,s.config))return s;throw Gn.create("duplicate-app",{appName:i})}let o=new gu(i);for(let c of Zf.values())o.addComponent(c);let a=new Xf(n,r,o);return co.set(i,a),a}function lo(t=Jf){let e=co.get(t);if(!e&&t===Jf&&jf())return rp();if(!e)throw Gn.create("no-app",{appName:t});return e}function yu(){return Array.from(co.values())}function Pe(t,e,n){var r;let i=(r=uP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(a.join(" "));return}Wn(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var hP="firebase-heartbeat-database",fP=1,uo="firebase-heartbeat-store",Kf=null;function bE(){return Kf||(Kf=wE(hP,fP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uo)}}}).catch(t=>{throw Gn.create("idb-open",{originalErrorMessage:t.message})})),Kf}function pP(t){return p(this,null,function*(){try{return yield(yield bE()).transaction(uo).objectStore(uo).get(CE(t))}catch(e){if(e instanceof _t)Rr.warn(e.message);else{let n=Gn.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(n.message)}}})}function EE(t,e){return p(this,null,function*(){try{let r=(yield bE()).transaction(uo,"readwrite");yield r.objectStore(uo).put(e,CE(t)),yield r.done}catch(n){if(n instanceof _t)Rr.warn(n.message);else{let r=Gn.create("idb-set",{originalErrorMessage:n?.message});Rr.warn(r.message)}}})}function CE(t){return`${t.name}!${t.options.appId}`}var gP=1024,mP=30*24*60*60*1e3,ep=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new tp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=mP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TE(),{heartbeatsToSend:r,unsentEntries:i}=yP(this._heartbeatsCache.heartbeats),s=ao(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function TE(){return new Date().toISOString().substring(0,10)}function yP(t,e=gP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var tp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Uf()?hE().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield pP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return EE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function DE(t){return ao(JSON.stringify({version:2,heartbeats:t})).length}function vP(t){Wn(new It("platform-logger",e=>new Qf(e),"PRIVATE")),Wn(new It("heartbeat",e=>new ep(e),"PRIVATE")),Pe(Yf,IE,t),Pe(Yf,IE,"esm2017"),Pe("fire-js","")}vP("");var _P="firebase",wP="10.7.1";Pe(_P,wP,"app");var ji=new Fn("ANGULARFIRE2_VERSION");function sp(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var fo=(t,e)=>{let n=e?[e]:yu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ho=class{constructor(){return fo(IP)}},IP="app-check";function Vi(){}var vu=class{zone;delegate;constructor(e,n=xd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ip=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)),n.pipe(ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},po=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new vu(Zone.current)),this.insideAngular=n.run(()=>new vu(Zone.current,Fa)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(A(de))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _u(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function EP(t){return _u().ngZone.runOutsideAngular(()=>t())}function xr(t){return _u().ngZone.run(()=>t())}function TP(t){return DP(_u())(t)}function DP(t){return function(n){return n=n.lift(new ip(t.ngZone)),n.pipe(Mn(t.outsideAngular),xn(t.insideAngular))}}var bP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xr(()=>t.apply(void 0,r))},Mr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi))),r[s]=bP(r[s],n));let i=EP(()=>t.apply(this,r));if(!e)if(i instanceof $){let s=_u();return i.pipe(Mn(s.outsideAngular),xn(s.insideAngular))}else return xr(()=>i);return i instanceof $?i.pipe(TP):i instanceof Promise?xr(()=>new Promise((s,o)=>i.then(a=>xr(()=>s(a)),a=>xr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:xr(()=>i)};var Nr=class{constructor(e){return e}},go=class{constructor(){return yu()}};function CP(t){return t&&t.length===1?t[0]:new Nr(lo())}var op=new R("angularfire2._apps"),SP={provide:Nr,useFactory:CP,deps:[[new Ot,op]]},AP={provide:go,deps:[[new Ot,op]]};function RP(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Nr(r)}}var xP=(()=>{class t{constructor(n){Pe("angularfire",ji.full,"core"),Pe("angularfire",ji.full,"app"),Pe("angular",ef.full,n.toString())}static \u0275fac=function(r){return new(r||t)(A(Jt))};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[SP,AP]})}return t})();function SE(t,...e){return{ngModule:xP,providers:[{provide:op,useFactory:RP(t),multi:!0,deps:[de,kt,po,...e]}]}}var AE=Mr(rp,!0);var G="primary",xo=Symbol("RouteTitle"),dp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qi(t){return new dp(t)}function MP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function NP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}function Xt(t,e){let n=t?hp(t):void 0,r=e?hp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OE(t[i],e[i]))return!1;return!0}function hp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function kE(t){return t.length>0?t[t.length-1]:null}function Yn(t){return Pd(t)?t:Zs(t)?le(Promise.resolve(t)):P(t)}var PP={exact:FE,subset:VE},LE={exact:OP,subset:kP,ignored:()=>!0};function RE(t,e,n){return PP[n.paths](t.root,e.root,n.matrixParams)&&LE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OP(t,e){return Xt(t,e)}function FE(t,e,n){if(!Or(t.segments,e.segments)||!Eu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!FE(t.children[r],e.children[r],n))return!1;return!0}function kP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OE(t[n],e[n]))}function VE(t,e,n){return jE(t,e,e.segments,n)}function jE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Or(i,n)||e.hasChildren()||!Eu(i,n,r))}else if(t.segments.length===n.length){if(!Or(t.segments,n)||!Eu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Or(t.segments,i)||!Eu(t.segments,i,r)||!t.children[G]?!1:jE(t.children[G],e,s,r)}}function Eu(t,e,n){return e.every((r,i)=>LE[n](t[i].parameters,r.parameters))}var Kn=class{constructor(e=new ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qi(this.queryParams)),this._queryParamMap}toString(){return VP.serialize(this)}},ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tu(this)}},Pr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=qi(this.parameters)),this._parameterMap}toString(){return $E(this)}};function LP(t,e){return Or(t,e)&&t.every((n,r)=>Xt(n.parameters,e[r].parameters))}function Or(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function FP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===G&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==G&&(n=n.concat(e(i,r)))}),n}var Fp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>new bu)(),providedIn:"root"});let t=e;return t})(),bu=class{parse(e){let n=new pp(e);return new Kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mo(e.root,!0)}`,r=$P(e.queryParams),i=typeof e.fragment=="string"?`#${jP(e.fragment)}`:"";return`${n}${r}${i}`}},VP=new bu;function Tu(t){return t.segments.map(e=>$E(e)).join("/")}function mo(t,e){if(!t.hasChildren())return Tu(t);if(e){let n=t.children[G]?mo(t.children[G],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==G&&r.push(`${i}:${mo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FP(t,(r,i)=>i===G?[mo(t.children[G],!1)]:[`${i}:${mo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[G]!=null?`${Tu(t)}/${n[0]}`:`${Tu(t)}/(${n.join("//")})`}}function UE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wu(t){return UE(t).replace(/%3B/gi,";")}function jP(t){return encodeURI(t)}function fp(t){return UE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Du(t){return decodeURIComponent(t)}function xE(t){return Du(t.replace(/\+/g,"%20"))}function $E(t){return`${fp(t.path)}${UP(t.parameters)}`}function UP(t){return Object.keys(t).map(e=>`;${fp(e)}=${fp(t[e])}`).join("")}function $P(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${wu(n)}=${wu(i)}`).join("&"):`${wu(n)}=${wu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var BP=/^[^\/()?;#]+/;function ap(t){let e=t.match(BP);return e?e[0]:""}var HP=/^[^\/()?;=#]+/;function qP(t){let e=t.match(HP);return e?e[0]:""}var zP=/^[^=?&#]+/;function GP(t){let e=t.match(zP);return e?e[0]:""}var WP=/^[^&#]+/;function KP(t){let e=t.match(WP);return e?e[0]:""}var pp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[G]=new ie(e,n)),r}parseSegment(){let e=ap(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Pr(Du(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ap(this.remaining);i&&(r=i,this.capture(r))}e[Du(n)]=Du(r)}parseQueryParam(e){let n=GP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=KP(this.remaining);o&&(r=o,this.capture(r))}let i=xE(n),s=xE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ap(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=G);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[G]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function BE(t){return t.segments.length>0?new ie([],{[G]:t}):t}function HE(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=HE(i);if(r===G&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ie(t.segments,e);return QP(n)}function QP(t){if(t.numberOfChildren===1&&t.children[G]){let e=t.children[G];return new ie(t.segments.concat(e.segments),e.children)}return t}function zi(t){return t instanceof Kn}function YP(t,e,n=null,r=null){let i=qE(t);return zE(i,e,n,r)}function qE(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ie(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=BE(r);return e??i}function zE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return cp(i,i,i,n,r);let s=JP(e);if(s.toRoot())return cp(i,i,new ie([],{}),n,r);let o=ZP(s,i,t),a=o.processChildren?_o(o.segmentGroup,o.index,s.commands):WE(o.segmentGroup,o.index,s.commands);return cp(i,o.segmentGroup,a,n,r)}function Cu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Eo(t){return typeof t=="object"&&t!=null&&t.outlets}function cp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=GE(t,e,n);let a=BE(HE(o));return new Kn(a,s,i)}function GE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=GE(s,e,n)}),new ie(t.segments,r)}var Su=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cu(r[0]))throw new k(4003,!1);let i=r.find(Eo);if(i&&i!==kE(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Su(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Su(n,e,r)}var Bi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ZP(t,e,n){if(t.isAbsolute)return new Bi(e,!0,0);if(!n)return new Bi(e,!1,NaN);if(n.parent===null)return new Bi(n,!0,0);let r=Cu(t.commands[0])?0:1,i=n.segments.length-1+r;return XP(n,i,t.numberOfDoubleDots)}function XP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Bi(r,!1,i-s)}function eO(t){return Eo(t[0])?t[0].outlets:{[G]:t}}function WE(t,e,n){if(t||(t=new ie([],{})),t.segments.length===0&&t.hasChildren())return _o(t,e,n);let r=tO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[G]=new ie(t.segments.slice(r.pathIndex),t.children),_o(s,0,i)}else return r.match&&i.length===0?new ie(t.segments,{}):r.match&&!t.hasChildren()?gp(t,e,n):r.match?_o(t,0,i):gp(t,e,n)}function _o(t,e,n){if(n.length===0)return new ie(t.segments,{});{let r=eO(n),i={};if(Object.keys(r).some(s=>s!==G)&&t.children[G]&&t.numberOfChildren===1&&t.children[G].segments.length===0){let s=_o(t.children[G],e,n);return new ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=WE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ie(t.segments,i)}}function tO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Eo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!NE(c,u,o))return s;r+=2}else{if(!NE(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Eo(s)){let c=nO(s.outlets);return new ie(r,c)}if(i===0&&Cu(n[0])){let c=t.segments[e];r.push(new Pr(c.path,ME(n[0]))),i++;continue}let o=Eo(s)?s.outlets[G]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Cu(a)?(r.push(new Pr(o,ME(a))),i+=2):(r.push(new Pr(o,{})),i++)}return new ie(r,{})}function nO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=gp(new ie([],{}),0,r))}),e}function ME(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NE(t,e,n){return t==n.path&&Xt(e,n.parameters)}var wo="imperative",Et=class{constructor(e,n){this.id=e,this.url=n}},To=class extends Et{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kr=class extends Et{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lr=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Do=class extends Et{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Au=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yp=class extends Et{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vp=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ip=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ep=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dp=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var bo=class{},Co=class{constructor(e){this.url=e}};var Cp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ou,this.attachRef=null}},Ou=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Cp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ru=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ap(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ap(e,this._root).map(n=>n.value)}};function Sp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sp(t,n);if(r)return r}return null}function Ap(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ap(t,n);if(r.length)return r.unshift(e),r}return[]}var lt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function $i(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var xu=class extends Ru{constructor(e,n){super(e),this.snapshot=n,jp(this,e)}toString(){return this.snapshot.toString()}};function KE(t,e){let n=rO(t,e),r=new Se([new Pr("",{})]),i=new Se({}),s=new Se({}),o=new Se({}),a=new Se(""),c=new Gi(r,i,o,a,s,G,e,n.root);return c.snapshot=n.root,new xu(new lt(c,[]),n)}function rO(t,e){let n={},r={},i={},s="",o=new So([],n,i,s,r,G,e,null,{});return new Mu("",new lt(o,[]))}var Gi=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(O(u=>u[xo]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(O(e=>qi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(O(e=>qi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:b(b({},t.data),t._resolvedData??{})},i&&YE(i)&&(r.resolve[xo]=i.title),r}var So=class{get title(){return this.data?.[xo]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qi(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mu=class extends Ru{constructor(e,n){super(n),this.url=e,jp(this,n)}toString(){return QE(this._root)}};function jp(t,e){e.value._routerState=t,e.children.forEach(n=>jp(t,n))}function QE(t){let e=t.children.length>0?` { ${t.children.map(QE).join(", ")} } `:"";return`${t.value}${e}`}function up(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xt(e.params,n.params)||t.paramsSubject.next(n.params),NP(e.url,n.url)||t.urlSubject.next(n.url),Xt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rp(t,e){let n=Xt(t.params,e.params)&&LP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rp(t.parent,e.parent))}function YE(t){return typeof t.title=="string"||t.title===null}var iO=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=G,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=I(Ou),this.location=I(Dr),this.changeDetector=I(Tr),this.environmentInjector=I(tt),this.inputBinder=I(Up,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new xp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ai({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]});let t=e;return t})(),xp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gi?this.route:e===Ou?this.childContexts:this.parent.get(e,n)}},Up=new R("");function sO(t,e,n){let r=Ao(t,e._root,n?n._root:void 0);return new xu(r,e)}function Ao(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=oO(t,e,n);return new lt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ao(t,a)),o}}let r=aO(e.value),i=e.children.map(s=>Ao(t,s));return new lt(r,i)}}function oO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ao(t,r,i);return Ao(t,r)})}function aO(t){return new Gi(new Se(t.url),new Se(t.params),new Se(t.queryParams),new Se(t.fragment),new Se(t.data),t.outlet,t.component,t)}var JE="ngNavigationCancelingError";function ZE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XE(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function XE(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[JE]=!0,r.cancellationCode=e,n&&(r.url=n),r}function cO(t){return eT(t)&&zi(t.url)}function eT(t){return t&&t[JE]}var uO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[st],decls:1,vars:0,template:function(i,s){i&1&&Z(0,"router-outlet")},dependencies:[iO],encapsulation:2});let t=e;return t})();function lO(t,e){return t.providers&&!t._injector&&(t._injector=ff(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $p(t){let e=t.children&&t.children.map($p),n=e?ce(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==G&&(n.component=uO),n}function en(t){return t.outlet||G}function dO(t,e){let n=t.filter(r=>en(r)===e);return n.push(...t.filter(r=>en(r)!==e)),n}function Mo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hO=(t,e,n,r)=>O(i=>(new Mp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Mp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),up(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=$i(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=$i(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(up(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),up(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Mo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Nu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hi=class{constructor(e,n){this.component=e,this.route=n}};function fO(t,e,n){let r=t._root,i=e?e._root:null;return yo(r,i,n,[r.value])}function pO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ki(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!P_(t)?t:e.get(t):r}function yo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=$i(e);return t.children.forEach(o=>{gO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Io(a,n.getContext(o),i)),i}function gO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=mO(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Nu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?yo(t,e,a?a.children:null,r,i):yo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hi(a.outlet.component,o))}else o&&Io(e,a,i),i.canActivateChecks.push(new Nu(r)),s.component?yo(t,null,a?a.children:null,r,i):yo(t,null,n,r,i);return i}function mO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Or(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Or(t.url,e.url)||!Xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rp(t,e)||!Xt(t.queryParams,e.queryParams);case"paramsChange":default:return!Rp(t,e)}}function Io(t,e,n){let r=$i(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Io(o,e.children.getContext(s),n):Io(o,null,n):Io(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Hi(e.outlet.component,i)):n.canDeactivateChecks.push(new Hi(null,i)):n.canDeactivateChecks.push(new Hi(null,i))}function No(t){return typeof t=="function"}function yO(t){return typeof t=="boolean"}function vO(t){return t&&No(t.canLoad)}function _O(t){return t&&No(t.canActivate)}function wO(t){return t&&No(t.canActivateChild)}function IO(t){return t&&No(t.canDeactivate)}function EO(t){return t&&No(t.canMatch)}function tT(t){return t instanceof hn||t?.name==="EmptyError"}var Iu=Symbol("INITIAL_VALUE");function Wi(){return Ie(t=>mi(t.map(e=>e.pipe(pt(1),oc(Iu)))).pipe(O(e=>{for(let n of e)if(n!==!0){if(n===Iu)return Iu;if(n===!1||n instanceof Kn)return n}return!0}),Xe(e=>e!==Iu),pt(1)))}function TO(t,e){return Ae(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(ce(b({},n),{guardsResult:!0})):DO(o,r,i,t).pipe(Ae(a=>a&&yO(a)?bO(r,s,t,e):P(a)),O(a=>ce(b({},n),{guardsResult:a})))})}function DO(t,e,n,r){return le(t).pipe(Ae(i=>xO(i.component,i.route,n,e,r)),Ht(i=>i!==!0,!0))}function bO(t,e,n,r){return le(e).pipe(Nn(i=>yi(SO(i.route.parent,r),CO(i.route,r),RO(t,i.path,n),AO(t,i.route,n))),Ht(i=>i!==!0,!0))}function CO(t,e){return t!==null&&e&&e(new Dp(t)),P(!0)}function SO(t,e){return t!==null&&e&&e(new Ep(t)),P(!0)}function AO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>tc(()=>{let o=Mo(e)??n,a=Ki(s,o),c=_O(a)?a.canActivate(e,t):vn(o,()=>a(e,t));return Yn(c).pipe(Ht())}));return P(i).pipe(Wi())}function RO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>pO(o)).filter(o=>o!==null).map(o=>tc(()=>{let a=o.guards.map(c=>{let u=Mo(o.node)??n,l=Ki(c,u),d=wO(l)?l.canActivateChild(r,t):vn(u,()=>l(r,t));return Yn(d).pipe(Ht())});return P(a).pipe(Wi())}));return P(s).pipe(Wi())}function xO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=Mo(e)??i,u=Ki(a,c),l=IO(u)?u.canDeactivate(t,e,n,r):vn(c,()=>u(t,e,n,r));return Yn(l).pipe(Ht())});return P(o).pipe(Wi())}function MO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=Ki(o,t),c=vO(a)?a.canLoad(e,n):vn(t,()=>a(e,n));return Yn(c)});return P(s).pipe(Wi(),nT(r))}function nT(t){return Pa(ge(e=>{if(zi(e))throw ZE(t,e)}),O(e=>e===!0))}function NO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=Ki(o,t),c=EO(a)?a.canMatch(e,n):vn(t,()=>a(e,n));return Yn(c)});return P(s).pipe(Wi(),nT(r))}var Ro=class{constructor(e){this.segmentGroup=e||null}},Pu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ui(t){return gi(new Ro(t))}function PO(t){return gi(new k(4e3,!1))}function OO(t){return gi(XE(!1,3))}var Np=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[G])return PO(e.redirectTo);i=i.children[G]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Pu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kO(t,e,n,r,i){let s=Bp(t,e,n);return s.matched?(r=lO(e,r),NO(r,e,n,i).pipe(O(o=>o===!0?s:b({},Pp)))):P(s)}function Bp(t,e,n){if(e.path==="**")return LO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},Pp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MP)(n,t,e);if(!i)return b({},Pp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function LO(t){return{matched:!0,parameters:t.length>0?kE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PE(t,e,n,r){return n.length>0&&jO(t,n,r)?{segmentGroup:new ie(e,VO(r,new ie(n,t.children))),slicedSegments:[]}:n.length===0&&UO(t,n,r)?{segmentGroup:new ie(t.segments,FO(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ie(t.segments,t.children),slicedSegments:n}}function FO(t,e,n,r,i){let s={};for(let o of r)if(ku(t,n,o)&&!i[en(o)]){let a=new ie([],{});s[en(o)]=a}return b(b({},i),s)}function VO(t,e){let n={};n[G]=e;for(let r of t)if(r.path===""&&en(r)!==G){let i=new ie([],{});n[en(r)]=i}return n}function jO(t,e,n){return n.some(r=>ku(t,e,r)&&en(r)!==G)}function UO(t,e,n){return n.some(r=>ku(t,e,r))}function ku(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $O(t,e,n,r){return en(t)!==r&&(r===G||!ku(e,n,t))?!1:Bp(e,t,n).matched}function BO(t,e,n){return e.length===0&&!t.children[n]}var Op=class{};function HO(t,e,n,r,i,s,o="emptyOnly"){return new kp(t,e,n,r,i,o,s).recognize()}var qO=31,kp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Np(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new k(4002,`'${e.segmentGroup}'`)}recognize(){let e=PE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(O(n=>{let r=new So([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,{},G,this.rootComponentType,null,{}),i=new lt(r,n),s=new Mu("",i),o=YP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,G).pipe(Ct(r=>{if(r instanceof Pu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ro?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Vp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(O(s=>s instanceof lt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return le(i).pipe(Nn(s=>{let o=r.children[s],a=dO(n,s);return this.processSegmentGroup(e,a,o,s)}),sc((s,o)=>(s.push(...o),s)),Pn(null),Ld(),Ae(s=>{if(s===null)return Ui(r);let o=rT(s);return zO(o),P(o)}))}processSegment(e,n,r,i,s,o){return le(n).pipe(Nn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ct(c=>{if(c instanceof Ro)return P(null);throw c}))),Ht(a=>!!a),Ct(a=>{if(tT(a))return BO(r,i,s)?P(new Op):Ui(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return $O(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ui(i):Ui(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Bp(n,i,s);if(!a)return Ui(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ae(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=kO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Ie(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ie(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new So(l,h,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,WO(r),en(r),r.component??r._loadedComponent??null,r,KO(r)),{segmentGroup:g,slicedSegments:v}=PE(n,l,d,c);if(v.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe(O(w=>w===null?null:new lt(f,w)));if(c.length===0&&v.length===0)return P(new lt(f,[]));let y=en(r)===s;return this.processSegment(u,c,g,v,y?G:s,!0).pipe(O(w=>new lt(f,w instanceof lt?[w]:[])))}))):Ui(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):MO(e,n,r,this.urlSerializer).pipe(Ae(i=>i?this.configLoader.loadChildren(e,n).pipe(ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):OO(n))):P({routes:[],injector:e})}};function zO(t){t.sort((e,n)=>e.value.outlet===G?-1:n.value.outlet===G?1:e.value.outlet.localeCompare(n.value.outlet))}function GO(t){let e=t.value.routeConfig;return e&&e.path===""}function rT(t){let e=[],n=new Set;for(let r of t){if(!GO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rT(r.children);e.push(new lt(r.value,i))}return e.filter(r=>!n.has(r))}function WO(t){return t.data||{}}function KO(t){return t.resolve||{}}function QO(t,e,n,r,i,s){return Ae(o=>HO(t,e,n,r,o.extractedUrl,i,s).pipe(O(({state:a,tree:c})=>ce(b({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function YO(t,e){return Ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of iT(c))o.add(u);let a=0;return le(o).pipe(Nn(c=>s.has(c)?JO(c,r,t,e):(c.data=Vp(c,c.parent,t).resolve,P(void 0))),ge(()=>a++),vi(1),Ae(c=>a===o.size?P(n):Be))})}function iT(t){let e=t.children.map(n=>iT(n)).flat();return[t,...e]}function JO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!YE(i)&&(s[xo]=i.title),ZO(s,t,e,r).pipe(O(o=>(t._resolvedData=o,t.data=Vp(t,t.parent,n).resolve,null)))}function ZO(t,e,n,r){let i=hp(t);if(i.length===0)return P({});let s={};return le(i).pipe(Ae(o=>XO(t[o],e,n,r).pipe(Ht(),ge(a=>{s[o]=a}))),vi(1),kd(s),Ct(o=>tT(o)?Be:gi(o)))}function XO(t,e,n,r){let i=Mo(e)??r,s=Ki(t,i),o=s.resolve?s.resolve(e,n):vn(i,()=>s(e,n));return Yn(o)}function lp(t){return Ie(e=>{let n=t(e);return n?le(n).pipe(O(()=>e)):P(e)})}var sT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===G);return i}getResolvedTitleForRoute(r){return r.data[xo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>I(ek))(),providedIn:"root"});let t=e;return t})(),ek=(()=>{let e=class e extends sT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(A(Pf))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hp=new R("",{providedIn:"root",factory:()=>({})}),qp=new R("ROUTES"),tk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(pf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Yn(r.loadComponent()).pipe(O(oT),ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),pr(()=>{this.componentLoaders.delete(r)})),s=new di(i,()=>new Ce).pipe(li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=nk(i,this.compiler,r,this.onLoadEndListener).pipe(pr(()=>{this.childrenLoaders.delete(i)})),a=new di(o,()=>new Ce).pipe(li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nk(t,e,n,r){return Yn(t.loadChildren()).pipe(O(oT),Ae(i=>i instanceof qs||Array.isArray(i)?P(i):le(e.compileModuleAsync(i))),O(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(qp,[],{optional:!0,self:!0}).flat()),{routes:o.map($p),injector:s}}))}function rk(t){return t&&typeof t=="object"&&"default"in t}function oT(t){return rk(t)?t.default:t}var zp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>I(ik))(),providedIn:"root"});let t=e;return t})(),ik=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sk=new R("");var ok=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce,this.transitionAbortSubject=new Ce,this.configLoader=I(tk),this.environmentInjector=I(tt),this.urlSerializer=I(Fp),this.rootContexts=I(Ou),this.location=I(eo),this.inputBindingEnabled=I(Up,{optional:!0})!==null,this.titleStrategy=I(sT),this.options=I(Hp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(zp),this.createViewTransition=I(sk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new wp(s)),i=s=>this.events.next(new Ip(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ce(b(b({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Se({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(o=>o.id!==0),O(o=>ce(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ie(o=>{this.currentTransition=o;let a=!1,c=!1;return P(o).pipe(ge(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ie(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Lr(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Be}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return P(u).pipe(Ie(h=>{let f=this.transitions?.getValue();return this.events.next(new To(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Be:Promise.resolve(h)}),QO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ge(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Au(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:v,extras:y}=u,w=new To(h,this.urlSerializer.serialize(f),g,v);this.events.next(w);let F=KE(f,this.rootComponentType).snapshot;return this.currentTransition=o=ce(b({},u),{targetSnapshot:F,urlAfterRedirects:f,extras:ce(b({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(o)}else{let h="";return this.events.next(new Lr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Be}}),ge(u=>{let l=new mp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),O(u=>(this.currentTransition=o=ce(b({},u),{guards:fO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),TO(this.environmentInjector,u=>this.events.next(u)),ge(u=>{if(o.guardsResult=u.guardsResult,zi(u.guardsResult))throw ZE(this.urlSerializer,u.guardsResult);let l=new yp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Xe(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),lp(u=>{if(u.guards.canActivateChecks.length)return P(u).pipe(ge(l=>{let d=new vp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ie(l=>{let d=!1;return P(l).pipe(YO(this.paramsInheritanceStrategy,this.environmentInjector),ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),ge(l=>{let d=new _p(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),lp(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ge(f=>{d.component=f}),O(()=>{})));for(let f of d.children)h.push(...l(f));return h};return mi(l(u.targetSnapshot.root)).pipe(Pn(),pt(1))}),lp(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?le(d).pipe(O(()=>o)):P(o)}),O(u=>{let l=sO(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ce(b({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ge(()=>{this.events.next(new bo)}),hO(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pt(1),ge({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ud(this.transitionAbortSubject.pipe(ge(u=>{throw u}))),pr(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ct(u=>{if(c=!0,eT(u))this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),cO(u)?this.events.next(new Co(u.url)):o.resolve(!1);else{this.events.next(new Do(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return Be}))}))}cancelNavigationTransition(r,i,s){let o=new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ak(t){return t!==wo}var ck=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>I(uk))(),providedIn:"root"});let t=e;return t})(),Lp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uk=(()=>{let e=class e extends Lp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=zc(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:()=>(()=>I(lk))(),providedIn:"root"});let t=e;return t})(),lk=(()=>{let e=class e extends aT{constructor(){super(...arguments),this.location=I(eo),this.urlSerializer=I(Fp),this.options=I(Hp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(zp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KE(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof To)this.stateMemento=this.createStateMemento();else if(r instanceof Lr)this.rawUrlTree=i.initialUrl;else if(r instanceof Au){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof bo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Qn&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Do?this.restoreHistory(i,!0):r instanceof kr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=b(b({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=zc(e)))(s||e)}})(),e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vo||{});function dk(t,e){t.events.pipe(Xe(n=>n instanceof kr||n instanceof Qn||n instanceof Do||n instanceof Lr),O(n=>n instanceof kr||n instanceof Lr?vo.COMPLETE:(n instanceof Qn?n.code===0||n.code===1:!1)?vo.REDIRECTING:vo.FAILED),Xe(n=>n!==vo.REDIRECTING),pt(1)).subscribe(()=>{e()})}function hk(t){throw t}var fk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cT=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(tu),this.stateManager=I(aT),this.options=I(Hp,{optional:!0})||{},this.pendingTasks=I(Xs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(ok),this.urlSerializer=I(Fp),this.location=I(eo),this.urlHandlingStrategy=I(zp),this._events=new Ce,this.errorHandler=this.options.errorHandler||hk,this.navigated=!1,this.routeReuseStrategy=I(ck),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(qp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Up,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=I(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Qn&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof kr)this.navigated=!0;else if(i instanceof Co){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ak(s.source)};this.scheduleNavigation(a,wo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=b({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map($p),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=qE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return zE(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=zi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,wo,null,i)}navigate(r,i={skipLocationChange:!1}){return gk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=b({},fk):i===!1?s=b({},pk):s=i,zi(r))return RE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return RE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return dk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new k(4008,!1)}function mk(t){return!(t instanceof bo)&&!(t instanceof Co)}var yk=new R("");function uT(t,...e){return ct([{provide:qp,multi:!0,useValue:t},[],{provide:Gi,useFactory:vk,deps:[cT]},{provide:nu,multi:!0,useFactory:_k},e.map(n=>n.\u0275providers)])}function vk(t){return t.routerState.root}function _k(){let t=I(kt);return e=>{let n=t.get(Ni);if(e!==n.components[0])return;let r=t.get(cT),i=t.get(wk);t.get(Ik)===1&&r.initialNavigation(),t.get(Ek,null,Q.Optional)?.setUpPreloading(),t.get(yk,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wk=new R("",{factory:()=>new Ce}),Ik=new R("",{providedIn:"root",factory:()=>1});var Ek=new R("");var lT=[];function dT(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function hT(t){return t}function Gp(t,e){e=e||{};let n=e.delimiter||".",r=e.maxDepth,i=e.transformKey||hT,s={};function o(a,c,u){u=u||1,Object.keys(a).forEach(function(l){let d=a[l],h=e.safe&&Array.isArray(d),f=Object.prototype.toString.call(d),g=dT(d),v=f==="[object Object]"||f==="[object Array]",y=c?c+n+i(l):i(l);if(!h&&!g&&v&&Object.keys(d).length&&(!e.maxDepth||u<r))return o(d,y,u+1);s[y]=d})}return o(t),s}function Wp(t,e){e=e||{};let n=e.delimiter||".",r=e.overwrite||!1,i=e.transformKey||hT,s={};if(dT(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function a(l){let d=Number(l);return isNaN(d)||l.indexOf(".")!==-1||e.object?l:d}function c(l,d,h){return Object.keys(h).reduce(function(f,g){return f[l+n+g]=h[g],f},d)}function u(l){let d=Object.prototype.toString.call(l),h=d==="[object Array]",f=d==="[object Object]";if(l){if(h)return!l.length;if(f)return!Object.keys(l).length}else return!0}return t=Object.keys(t).reduce(function(l,d){let h=Object.prototype.toString.call(t[d]);return!(h==="[object Object]"||h==="[object Array]")||u(t[d])?(l[d]=t[d],l):c(d,l,Gp(t[d],e))},{}),Object.keys(t).forEach(function(l){let d=l.split(n).map(i),h=a(d.shift()),f=a(d[0]),g=s;for(;f!==void 0;){if(h==="__proto__")return;let v=Object.prototype.toString.call(g[h]),y=v==="[object Object]"||v==="[object Array]";if(!r&&!y&&typeof g[h]<"u")return;(r&&!y||!r&&g[h]==null)&&(g[h]=typeof f=="number"&&!e.object?[]:{}),g=g[h],d.length>0&&(h=a(d.shift()),f=a(d[0]))}g[h]=Wp(t[l],e)}),s}var Qp=class{translations;constructor(e){this.translations=e}getTranslation(e){return P(this.translations.get(e)||{})}},mT=new R("TRANSLOCO_LOADER");function fT(t,e){return t&&(Object.prototype.hasOwnProperty.call(t,e)?t[e]:e.split(".").reduce((n,r)=>n?.[r],t))}function Tk(t,e,n){t=b({},t);let r=e.split("."),i=r.length-1;return r.reduce((s,o,a)=>(a===i?s[o]=n:s[o]=Array.isArray(s[o])?s[o].slice():b({},s[o]),s&&s[o]),t),t}function yT(t){return t?Array.isArray(t)?t.length:tg(t)?Object.keys(t).length:t?t.length:0:0}function Dk(t){return yT(t)===0}function bk(t){return typeof t=="function"}function Qi(t){return typeof t=="string"}function tg(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function vT(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,n)=>n==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}function Yp(t){return t==null}function pT(t){return Yp(t)===!1}function ng(t){return t&&typeof t.scope=="string"}function Ck(t){return Array.isArray(t)&&t.every(ng)}function Sk(t){return t&&tg(t.loader)}function Ak(t){return Wp(t)}function gT(t){return Gp(t,{safe:!0})}var Yi=new R("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>Po}),Po={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function Rk(t={}){return ce(b(b({},Po),t),{missingHandler:b(b({},Po.missingHandler),t.missingHandler),flatten:b(b({},Po.flatten),t.flatten)})}var _T=new R("TRANSLOCO_TRANSPILER"),xk=(()=>{class t{interpolationMatcher;constructor(n){this.interpolationMatcher=Mk(n??Po)}transpile(n,r={},i,s){return Qi(n)?n.replace(this.interpolationMatcher,(o,a)=>(a=a.trim(),pT(r[a])?r[a]:pT(i[a])?this.transpile(i[a],r,i,s):"")):(r&&(tg(n)?n=this.handleObject(n,r,i,s):Array.isArray(n)&&(n=this.handleArray(n,r,i,s))),n)}handleObject(n,r={},i,s){let o=n;return Object.keys(r).forEach(a=>{let c=fT(o,a),u=fT(r,a),l=this.transpile(c,u,i,s);o=Tk(o,a,l)}),o}handleArray(n,r={},i,s){return n.map(o=>this.transpile(o,r,i,s))}static \u0275fac=function(r){return new(r||t)(A(Yi,8))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})();function Mk(t){let[e,n]=t.interpolation;return new RegExp(`${e}(.*?)${n}`,"g")}var wT=new R("TRANSLOCO_MISSING_HANDLER"),Nk=(()=>{class t{handle(n,r){if(r.missingHandler.logMissingKey&&!r.prodMode){let i=`Missing translation for '${n}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),IT=new R("TRANSLOCO_INTERCEPTOR"),Pk=(()=>{class t{preSaveTranslation(n){return n}preSaveTranslationKey(n,r){return r}static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),ET=new R("TRANSLOCO_FALLBACK_STRATEGY"),Ok=(()=>{class t{userConfig;constructor(n){this.userConfig=n}getNextLangs(){let n=this.userConfig.fallbackLang;if(!n)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(n)?n:[n]}static \u0275fac=function(r){return new(r||t)(A(Yi))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})();function Oo(t){if(!t)return"";let e=t.split("/");return e.pop(),e.join("/")}function Jn(t){return t?t.split("/").pop():""}function Jp(t,e,n="|"){if(Qi(t)){let r=t.split(n),i=r.pop();return i===e?[!0,r.toString()]:[!1,i]}return[!1,""]}function kk(t,e){let[n]=Jp(e,"static");return n?!1:!!t.config.reRenderOnLangChange}function Lk(t){return t?e=>e:pt(1)}function Fk(t,e){return Object.keys(t).reduce((n,r)=>(n[`${e}/${r}`]=t[r],n),{})}function TT(t,e){return Sk(t)?Fk(t.loader,e):void 0}function Kp(t){return{scope:Oo(t)||null,langName:Jn(t)}}function DT(t){let{path:e,inlineLoader:n,mainLoader:r,data:i}=t;if(n){let s=n[e];if(bk(s)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return n[e]().then(o=>o.default?o.default:o)}return r.getTranslation(e,i)}function Vk({mainLoader:t,path:e,data:n,fallbackPath:r,inlineLoader:i}){return(r?[e,r]:[e]).map(o=>{let a=DT({path:o,mainLoader:t,inlineLoader:i,data:n});return le(a).pipe(O(c=>({translation:c,lang:o})))})}var jk;var En=(()=>{class t{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Ce;events$=this.events.asObservable();config;constructor(n,r,i,s,o,a){this.loader=n,this.parser=r,this.missingHandler=i,this.interceptor=s,this.fallbackStrategy=a,this.loader||(this.loader=new Qp(this.translations)),jk=this,this.config=JSON.parse(JSON.stringify(o)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new Se(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(c=>{c.type==="translationLoadSuccess"&&c.wasFailure&&this.setActiveLang(c.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(n){this.defaultLang=n}getActiveLang(){return this.lang.getValue()}setActiveLang(n){return this.parser.onLangChanged?.(n),this.lang.next(n),this.events.next({type:"langChanged",payload:Kp(n)}),this}setAvailableLangs(n){this.availableLangs=n}getAvailableLangs(){return this.availableLangs}load(n,r={}){let i=this.cache.get(n);if(i)return i;let s,o=this._isLangScoped(n),a;o&&(a=Oo(n));let c={path:n,mainLoader:this.loader,inlineLoader:r.inlineLoader,data:o?{scope:a}:void 0};if(this.useFallbackTranslation(n)){let l=o?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,d=Vk(ce(b({},c),{fallbackPath:l}));s=nc(d)}else{let l=DT(c);s=le(l)}let u=s.pipe(Fd(this.config.failedRetries),ge(l=>{if(Array.isArray(l)){l.forEach(d=>{this.handleSuccess(d.lang,d.translation),d.lang!==n&&this.cache.set(d.lang,P({}))});return}this.handleSuccess(n,l)}),Ct(l=>(this.config.prodMode||console.error(`Error while trying to load "${n}"`,l),this.handleFailure(n,r))),jd(1));return this.cache.set(n,u),u}translate(n,r={},i=this.getActiveLang()){if(!n)return n;let{scope:s,resolveLang:o}=this.resolveLangAndScope(i);if(Array.isArray(n))return n.map(u=>this.translate(s?`${s}.${u}`:u,r,o));n=s?`${s}.${n}`:n;let a=this.getTranslation(o),c=a[n];return c?this.parser.transpile(c,r,a,n):this._handleMissingKey(n,c,r)}selectTranslate(n,r,i,s=!1){let o,a=(u,l)=>this.load(u,l).pipe(O(()=>s?this.translateObject(n,r,u):this.translate(n,r,u)));if(Yp(i))return this.langChanges$.pipe(Ie(u=>a(u)));if(Ck(i)||ng(i)){let u=Array.isArray(i)?i[0]:i;i=u.scope,o=TT(u,u.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return a(i);let c=i;return this.langChanges$.pipe(Ie(u=>a(`${c}/${u}`,{inlineLoader:o})))}isScopeWithLang(n){return this.isLang(Jn(n))}translateObject(n,r={},i=this.getActiveLang()){if(Qi(n)||Array.isArray(n)){let{resolveLang:o,scope:a}=this.resolveLangAndScope(i);if(Array.isArray(n))return n.map(l=>this.translateObject(a?`${a}.${l}`:l,r,o));let c=this.getTranslation(o);n=a?`${a}.${n}`:n;let u=Ak(this.getObjectByKey(c,n));return Dk(u)?this.translate(n,r,i):this.parser.transpile(u,r,c,n)}let s=[];for(let[o,a]of this.getEntries(n))s.push(this.translateObject(o,a,i));return s}selectTranslateObject(n,r,i){if(Qi(n)||Array.isArray(n))return this.selectTranslate(n,r,i,!0);let[[s,o],...a]=this.getEntries(n);return this.selectTranslateObject(s,o,i).pipe(O(c=>{let u=[c];for(let[l,d]of a)u.push(this.translateObject(l,d,i));return u}))}getTranslation(n){if(n){if(this.isLang(n))return this.translations.get(n)||{};{let{scope:r,resolveLang:i}=this.resolveLangAndScope(n),s=this.translations.get(i)||{};return this.getObjectByKey(s,r)}}return this.translations}selectTranslation(n){let r=this.langChanges$;if(n){let i=Jn(n)!==n;this.isLang(n)||i?r=P(n):r=this.langChanges$.pipe(O(s=>`${n}/${s}`))}return r.pipe(Ie(i=>this.load(i).pipe(O(()=>this.getTranslation(i)))))}setTranslation(n,r=this.getActiveLang(),i={}){let o=b(b({},{merge:!0,emitChange:!0}),i),a=Oo(r),c=n;if(a){let f=this.getMappedScope(a);c=gT({[f]:n})}let u=a?Jn(r):r,l=b(b({},o.merge&&this.getTranslation(u)),c),d=this.config.flatten.aot?l:gT(l),h=this.interceptor.preSaveTranslation(d,u);this.translations.set(u,h),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(n,r,i=this.getActiveLang(),s={}){let o=this.interceptor.preSaveTranslationKey(n,r,i),a={[n]:o};this.setTranslation(a,i,ce(b({},s),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:n}){let r=Array.isArray(n)?n[0]:n;n&&this.useFallbackTranslation(r)&&(this.firstFallbackLang=r)}_handleMissingKey(n,r,i){if(this.config.missingHandler.allowEmpty&&r==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let s=this.translate(n,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(n,this.getMissingHandlerData(),i)}_isLangScoped(n){return this.getAvailableLangsIds().indexOf(n)===-1}isLang(n){return this.getAvailableLangsIds().indexOf(n)!==-1}_loadDependencies(n,r){let i=Jn(n);return this._isLangScoped(n)&&!this.isLoadedTranslation(i)?mi([this.load(i),this.load(n,{inlineLoader:r})]):this.load(n,{inlineLoader:r})}_completeScopeWithLang(n){return this._isLangScoped(n)&&!this.isLang(Jn(n))?`${n}/${this.getActiveLang()}`:n}_setScopeAlias(n,r){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[n]=r}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(n){return yT(this.getTranslation(n))}getAvailableLangsIds(){let n=this.getAvailableLangs()[0];return Qi(n)?this.getAvailableLangs():this.getAvailableLangs().map(r=>r.id)}getMissingHandlerData(){return ce(b({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(n){return this.config.missingHandler.useFallbackTranslation&&n!==this.firstFallbackLang}handleSuccess(n,r){this.setTranslation(r,n,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:Kp(n)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(n,r){Yp(r.failedCounter)&&(r.failedCounter=0,r.fallbackLangs||(r.fallbackLangs=this.fallbackStrategy.getNextLangs(n)));let i=n.split("/"),o=r.fallbackLangs[r.failedCounter];if(this.failedLangs.add(n),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),Be;let a=o===i[i.length-1];if(!o||a){let u="Unable to load translation and all the fallback languages";throw i.length>1&&(u+=", did you misspelled the scope name?"),new Error(u)}let c=o;return i.length>1&&(i[i.length-1]=o,c=i.join("/")),r.failedCounter++,this.events.next({type:"translationLoadFailure",payload:Kp(n)}),this.load(c,r)}getMappedScope(n){let{scopeMapping:r={}}=this.config;return r[n]||vT(n)}resolveLangAndScope(n){let r=n,i;if(this._isLangScoped(n)){let s=Jn(n),o=this.isLang(s);r=o?s:this.getActiveLang(),i=this.getMappedScope(o?Oo(n):n)}return{scope:i,resolveLang:r}}getObjectByKey(n,r){let i={},s=`${r}.`;for(let o in n)o.startsWith(s)&&(i[o.replace(s,"")]=n[o]);return i}getEntries(n){return n instanceof Map?n.entries():Object.entries(n)}static \u0275fac=function(r){return new(r||t)(A(mT,8),A(_T),A(wT),A(IT),A(Yi),A(ET))};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uk=(()=>{class t{html;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=nt({type:t,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[st],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(r,i){r&1&&Z(0,"div",0),r&2&&rt("innerHTML",i.html,nI)},encapsulation:2})}return t})(),Zp=class{view;vcr;constructor(e,n){this.view=e,this.vcr=n}attachView(){if(this.view instanceof Mi)this.vcr.createEmbeddedView(this.view);else if(Qi(this.view)){let e=this.vcr.createComponent(Uk);e.instance.html=this.view,e.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}},$k=new R("TRANSLOCO_LANG"),Bk=new R("TRANSLOCO_LOADING_TEMPLATE"),Hk=new R("TRANSLOCO_SCOPE"),Xp=class{initialized=!1;resolve({inline:e,provider:n,active:r}){let i=r;if(this.initialized)return i=r,i;if(n){let[,s]=Jp(n,"static");i=s}if(e){let[,s]=Jp(e,"static");i=s}return this.initialized=!0,i}resolveLangBasedOnScope(e){return Oo(e)?Jn(e):e}resolveLangPath(e,n){return n?`${n}/${e}`:e}},eg=class{service;constructor(e){this.service=e}resolve(e){let{inline:n,provider:r}=e;if(n)return n;if(r){if(ng(r)){let{scope:i,alias:s=vT(i)}=r;return this.service._setScopeAlias(i,s),i}return r}}},Lu=(()=>{class t{service=I(En);tpl=I(Mi,{optional:!0});providerLang=I($k,{optional:!0});providerScope=I(Hk,{optional:!0});providedLoadingTpl=I(Bk,{optional:!0});cdr=I(Tr);host=I(xi);vcr=I(Dr);renderer=I(Ys);subscription=null;view;translationMemo={};key;params={};inlineScope;inlineRead;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new Xp;scopeResolver=new eg(this.service);strategy=this.tpl===null?"attribute":"structural";static ngTemplateContextGuard(n,r){return!0}ngOnInit(){let n=kk(this.service,this.providerLang||this.inlineLang);if(this.subscription=this.service.langChanges$.pipe(Ie(r=>{let i=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?nc(this.providerScope.map(s=>this.resolveScope(i,s))):this.resolveScope(i,this.providerScope)}),Lk(n)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),this.strategy==="attribute"?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){let r=this.resolveLoadingContent();r&&(this.loaderTplHandler=new Zp(r,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(n){this.strategy==="attribute"&&Object.keys(n).some(i=>!n[i].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(n,r){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(n,r),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(n,r),currentLang:this.currentLang}))}getTranslateFn(n,r){return(i,s)=>{let o=r?`${r}.${i}`:i,a=s?`${o}${JSON.stringify(s)}`:o;return Object.prototype.hasOwnProperty.call(this.translationMemo,a)?this.translationMemo[a].value:(this.translationMemo[a]={params:s,value:this.service.translate(o,s,n)},this.translationMemo[a].value)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(n,r){let i=this.scopeResolver.resolve({inline:this.inlineScope,provider:r});this.path=this.langResolver.resolveLangPath(n,i);let s=TT(r,i);return this.service._loadDependencies(this.path,s)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ai({type:t,selectors:[["","transloco",""]],inputs:{key:["transloco","key"],params:["translocoParams","params"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[jn]})}return t})();var Zn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mt({type:t});static \u0275inj=xt({})}return t})();function bT(t){let e=[Gk(xk),Kk(Nk),Qk(Pk),Wk(Ok)];return t.config&&e.push(qk(t.config)),t.loader&&e.push(zk(t.loader)),e}function qk(t){return ct([{provide:Yi,useValue:Rk(t)}])}function zk(t){return ct([{provide:mT,useClass:t}])}function Gk(t){return ct([{provide:_T,useClass:t,deps:[Yi]}])}function Wk(t){return ct([{provide:ET,useClass:t,deps:[Yi]}])}function Kk(t){return ct([{provide:wT,useClass:t}])}function Qk(t){return ct([{provide:IT,useClass:t}])}var D3=new R("TRANSLOCO_TEST_LANGS - Available testing languages"),b3=new R("TRANSLOCO_TEST_OPTIONS - Testing options");var CT=(()=>{let e=class e{constructor(){this.http=I(bf)}getTranslation(r){return this.http.get(`/assets/i18n/${r}.json`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OT=PT,kT=new In("auth","Firebase",PT());var Uu=new zn("@firebase/auth");function Jk(t,...e){Uu.logLevel<=Y.WARN&&Uu.warn(`Auth (${Fi}): ${t}`,...e)}function ju(t,...e){Uu.logLevel<=Y.ERROR&&Uu.error(`Auth (${Fi}): ${t}`,...e)}function ST(t,...e){throw fg(t,...e)}function LT(t,...e){return fg(t,...e)}function Zk(t,e,n){let r=Object.assign(Object.assign({},OT()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function fg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kT.create(t,...e)}function se(t,e,...n){if(!t)throw fg(e,...n)}function ko(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ju(e),new Error(e)}function $u(t,e){t||ko(e)}function Xk(){return AT()==="http:"||AT()==="https:"}function AT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function e1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xk()||lE()||"connection"in navigator)?navigator.onLine:!0}function t1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$u(n>e,"Short delay should be less than long delay!"),this.isMobile=uE()||dE()}get(){return e1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function n1(t,e){$u(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var r1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var i1=new Vr(3e4,6e4);function FT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qu(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return VT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=$f(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Bu.fetch()(jT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function VT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},r1),e);try{let i=new sg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Vu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vu(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Zk(t,l,u);ST(t,l)}}catch(i){if(i instanceof _t)throw i;ST(t,"network-request-failed",{message:String(i)})}})}function jT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?n1(t.config,i):`${t.config.apiScheme}://${i}`}var sg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(LT(this.auth,"network-request-failed")),i1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Vu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=LT(t,e,r);return i.customData._tokenResponse=n,i}function s1(t,e){return p(this,null,function*(){return Qu(t,"POST","/v1/accounts:delete",e)})}function o1(t,e){return p(this,null,function*(){return Qu(t,"POST","/v1/accounts:lookup",e)})}function Lo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pg(t,e=!1){return p(this,null,function*(){let n=ut(t),r=yield n.getIdToken(e),i=UT(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lo(rg(i.auth_time)),issuedAtTime:Lo(rg(i.iat)),expirationTime:Lo(rg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rg(t){return Number(t)*1e3}function UT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ff(n);return i?JSON.parse(i):(ju("Failed to decode base64 JWT payload"),null)}catch(i){return ju("Caught error parsing JWT payload as JSON",i?.toString()),null}}function a1(t){let e=UT(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function og(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof _t&&c1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function c1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ag=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield og(t,o1(n,{idToken:r}));se(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?l1(s.providerUserInfo):[],a=u1(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hu(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function gg(t){return p(this,null,function*(){let e=ut(t);yield qu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function u1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l1(t){return t.map(e=>{var{providerId:n}=e,r=Nd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function d1(t,e){return p(this,null,function*(){let n=yield VT(t,{},()=>p(this,null,function*(){let r=$f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=jT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function h1(t,e){return p(this,null,function*(){return Qu(t,"POST","/v2/accounts:revokeToken",FT(t,e))})}var zu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield d1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ko("not implemented")}};function Xn(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ag(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield og(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return pg(this,e)}reload(){return gg(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield qu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield og(this,s1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,F=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:K,emailVerified:q,isAnonymous:we,providerData:te,stsTokenManager:Ne}=n;se(K&&Ne,e,"internal-error");let $t=zu.fromJSON(this.name,Ne);se(typeof K=="string",e,"internal-error"),Xn(d,e.name),Xn(h,e.name),se(typeof q=="boolean",e,"internal-error"),se(typeof we=="boolean",e,"internal-error"),Xn(f,e.name),Xn(g,e.name),Xn(v,e.name),Xn(y,e.name),Xn(w,e.name),Xn(F,e.name);let ur=new t({uid:K,auth:e,email:h,emailVerified:q,displayName:d,isAnonymous:we,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:$t,createdAt:w,lastLoginAt:F});return te&&Array.isArray(te)&&(ur.providerData=te.map(si=>Object.assign({},si))),y&&(ur._redirectEventId=y),ur}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new zu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qu(s),s})}};var RT=new Map;function Fr(t){$u(t instanceof Function,"Expected a class definition");let e=RT.get(t);return e?($u(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RT.set(t,e),e)}var f1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),cg=f1;function ig(t,e,n){return`firebase:${t}:${e}:${n}`}var Wu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ig(this.userKey,i.apiKey,s),this.fullPersistenceKey=ig("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Fr(cg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Fr(cg),o=ig(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Gu._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function xT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_1(e))return"Blackberry";if(w1(e))return"Webos";if(g1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(v1(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function p1(t=wt()){return/firefox\//i.test(t)}function g1(t=wt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(t=wt()){return/crios\//i.test(t)}function y1(t=wt()){return/iemobile/i.test(t)}function v1(t=wt()){return/android/i.test(t)}function _1(t=wt()){return/blackberry/i.test(t)}function w1(t=wt()){return/webos/i.test(t)}function $T(t,e=[]){let n;switch(t){case"Browser":n=xT(wt());break;case"Worker":n=`${xT(wt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fi}/${r}`}var ug=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function I1(n){return p(this,arguments,function*(t,e={}){return Qu(t,"GET","/v2/passwordPolicy",FT(t,e))})}var E1=6,lg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:E1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var dg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ku(this),this.idTokenSubscription=new Ku(this),this.beforeStateQueue=new ug(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield qu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=t1()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?ut(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Fr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield I1(this),n=new lg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield h1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield Wu.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Jk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function T1(t){return ut(t)}var Ku=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fE(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function D1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function b1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var U3=D1("rcb"),$3=new Vr(3e4,6e4);var B3=new Vr(2e3,1e4);var H3=10*60*1e3;var q3=new Vr(3e4,6e4);var z3=new Vr(5e3,15e3);var G3=encodeURIComponent("fac");var MT="@firebase/auth",NT="1.5.1";var hg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function C1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function S1(t){Wn(new It("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(t)},u=new dg(r,i,s,c);return b1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new It("auth-internal",e=>{let n=T1(e.getProvider("auth").getImmediate());return(r=>new hg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(MT,NT,C1(t)),Pe(MT,NT,"esm2017")}var A1=5*60,W3=aE("authIdTokenMaxAge")||A1;S1("Browser");var SL="auth";var Yu=class{constructor(){return fo(SL)}};var AL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={},T,Fg=Fg||{},j=AL||self;function ll(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Yo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function RL(t){return Object.prototype.hasOwnProperty.call(t,mg)&&t[mg]||(t[mg]=++xL)}var mg="closure_uid_"+(1e9*Math.random()>>>0),xL=0;function ML(t,e,n){return t.call.apply(t.bind,arguments)}function NL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function He(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?He=ML:He=NL,He.apply(null,arguments)}function Ju(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function er(){this.s=this.s,this.o=this.o}var PL=0;er.prototype.s=!1;er.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PL!=0)&&RL(this)};er.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var eD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function BT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(ll(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var OL=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};j.addEventListener("test",n,e),j.removeEventListener("test",n,e)}catch{}return t}();function Bo(t){return/^[\s\xa0]*$/.test(t)}function dl(){var t=j.navigator;return t&&(t=t.userAgent)?t:""}function tn(t){return dl().indexOf(t)!=-1}function jg(t){return jg[" "](t),t}jg[" "]=function(){};function kL(t,e){var n=TF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var LL=tn("Opera"),es=tn("Trident")||tn("MSIE"),tD=tn("Edge"),Ig=tD||es,nD=tn("Gecko")&&!(dl().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),FL=dl().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge");function rD(){var t=j.document;return t?t.documentMode:void 0}var Eg;e:{if(Zu="",Xu=function(){var t=dl();if(nD)return/rv:([^\);]+)(\)|;)/.exec(t);if(tD)return/Edge\/([\d\.]+)/.exec(t);if(es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FL)return/WebKit\/(\S+)/.exec(t);if(LL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Xu&&(Zu=Xu?Xu[1]:""),es&&(el=rD(),el!=null&&el>parseFloat(Zu))){Eg=String(el);break e}Eg=Zu}var Zu,Xu,el,Tg;j.document&&es?(yg=rD(),Tg=yg||parseInt(Eg,10)||void 0):Tg=void 0;var yg,VL=Tg;function Ho(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nD){e:{try{jg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ho.$.h.call(this)}}ke(Ho,qe);var jL={2:"touch",3:"pen",4:"mouse"};Ho.prototype.h=function(){Ho.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jo="closure_listenable_"+(1e6*Math.random()|0),UL=0;function $L(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++UL,this.fa=this.ia=!1}function hl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ug(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function BL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function iD(t){let e={};for(let n in t)e[n]=t[n];return e}var HT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<HT.length;s++)n=HT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fl(t){this.src=t,this.g={},this.h=0}fl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=bg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new $L(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Dg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=eD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function bg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var $g="closure_lm_"+(1e6*Math.random()|0),vg={};function oD(t,e,n,r,i){if(r&&r.once)return cD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oD(t,e[s],n,r,i);return null}return n=qg(n),t&&t[Jo]?t.O(e,n,Yo(r)?!!r.capture:!!r,i):aD(t,e,n,!1,r,i)}function aD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Yo(i)?!!i.capture:!!i,a=Hg(t);if(a||(t[$g]=a=new fl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=HL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HL(){function t(n){return e.call(t.src,t.listener,n)}let e=qL;return t}function cD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)cD(t,e[s],n,r,i);return null}return n=qg(n),t&&t[Jo]?t.P(e,n,Yo(r)?!!r.capture:!!r,i):aD(t,e,n,!0,r,i)}function uD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uD(t,e[s],n,r,i);else r=Yo(r)?!!r.capture:!!r,n=qg(n),t&&t[Jo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=bg(s,n,r,i),-1<n&&(hl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bg(e,n,r,i)),(n=-1<t?e[t]:null)&&Bg(n))}function Bg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jo])Dg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hg(e))?(Dg(n,t),n.h==0&&(n.src=null,e[$g]=null)):hl(t)}}}function lD(t){return t in vg?vg[t]:vg[t]="on"+t}function qL(t,e){if(t.fa)t=!0;else{e=new Ho(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Bg(t),t=n.call(r,e)}return t}function Hg(t){return t=t[$g],t instanceof fl?t:null}var _g="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(t){return typeof t=="function"?t:(t[_g]||(t[_g]=function(e){return t.handleEvent(e)}),t[_g])}function Oe(){er.call(this),this.i=new fl(this),this.S=this,this.J=null}ke(Oe,er);Oe.prototype[Jo]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){uD(this,t,e,n,r)};function Ue(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new qe(e,t);else if(e instanceof qe)e.target=e.target||t;else{var i=e;e=new qe(r,t),sD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=tl(o,r,!0,e)&&i}if(o=e.g=t,i=tl(o,r,!0,e)&&i,i=tl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=tl(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hl(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function tl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Dg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var zg=j.JSON.stringify,Cg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function zL(){var t=Gg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Sg=class{constructor(){this.h=this.g=null}add(e,n){let r=dD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dD=new Cg(()=>new Ag,t=>t.reset()),Ag=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function GL(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function WL(t){j.setTimeout(()=>{throw t},0)}var qo,zo=!1,Gg=new Sg,hD=()=>{let t=j.Promise.resolve(void 0);qo=()=>{t.then(KL)}},KL=()=>{for(var t;t=zL();){try{t.h.call(t.g)}catch(n){WL(n)}var e=dD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zo=!1};function pl(t,e){Oe.call(this),this.h=t||1,this.g=e||j,this.j=He(this.qb,this),this.l=Date.now()}ke(pl,Oe);T=pl.prototype;T.ga=!1;T.T=null;T.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ue(this,"tick"),this.ga&&(Wg(this),this.start()))}};T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}T.N=function(){pl.$.N.call(this),Wg(this),delete this.g};function Kg(t,e,n){if(typeof t=="function")n&&(t=He(t,n));else if(t&&typeof t.handleEvent=="function")t=He(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function fD(t){t.g=Kg(()=>{t.g=null,t.i&&(t.i=!1,fD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Rg=class extends er{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fD(this)}N(){super.N(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Go(t){er.call(this),this.h=t,this.g={}}ke(Go,er);var qT=[];function pD(t,e,n,r){Array.isArray(n)||(n&&(qT[0]=n.toString()),n=qT);for(var i=0;i<n.length;i++){var s=oD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gD(t){Ug(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bg(e)},t),t.g={}}Go.prototype.N=function(){Go.$.N.call(this),gD(this)};Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gl(){this.g=!0}gl.prototype.Ea=function(){this.g=!1};function QL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function YL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Zi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ZL(t,n)+(r?" "+r:"")})}function JL(t,e){t.info(function(){return"TIMEOUT: "+e})}gl.prototype.info=function(){};function ZL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zg(n)}catch{return e}}var Br={},zT=null;function ml(){return zT=zT||new Oe}Br.Ta="serverreachability";function mD(t){qe.call(this,Br.Ta,t)}ke(mD,qe);function Wo(t){let e=ml();Ue(e,new mD(e))}Br.STAT_EVENT="statevent";function yD(t,e){qe.call(this,Br.STAT_EVENT,t),this.stat=e}ke(yD,qe);function Ye(t){let e=ml();Ue(e,new yD(e,t))}Br.Ua="timingevent";function vD(t,e){qe.call(this,Br.Ua,t),this.size=e}ke(vD,qe);function Zo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}var yl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_D={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qg(){}Qg.prototype.h=null;function GT(t){return t.h||(t.h=t.i())}function wD(){}var Xo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yg(){qe.call(this,"d")}ke(Yg,qe);function Jg(){qe.call(this,"c")}ke(Jg,qe);var xg;function vl(){}ke(vl,Qg);vl.prototype.g=function(){return new XMLHttpRequest};vl.prototype.i=function(){return{}};xg=new vl;function ea(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Go(this),this.P=XL,t=Ig?125:void 0,this.V=new pl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ID}function ID(){this.i=null,this.g="",this.h=!1}var XL=45e3,ED={},Mg={};T=ea.prototype;T.setTimeout=function(t){this.P=t};function Ng(t,e,n){t.L=1,t.A=wl(Dn(e)),t.u=n,t.S=!0,TD(t,null)}function TD(t,e){t.G=Date.now(),ta(t),t.B=Dn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),MD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ID,t.g=ZD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Rg(He(t.Pa,t,t.g),t.O)),pD(t.U,t.g,"readystatechange",t.nb),e=t.I?iD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wo(),QL(t.j,t.v,t.B,t.m,t.W,t.u)}T.nb=function(t){t=t.target;let e=this.M;e&&nn(t)==3?e.l():this.Pa(t)};T.Pa=function(t){try{if(t==this.g)e:{let l=nn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Ig||this.g&&(this.h.h||this.g.ja()||YT(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Wo(3):Wo(2)),_l(this);var n=this.g.da();this.ca=n;t:if(DD(this)){var r=YT(this.g);t="";var i=r.length,s=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),$o(this);var o="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,YL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bo(a)){var u=a;break t}}u=null}if(n=u)Zi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pg(this,n);else{this.i=!1,this.s=3,Ye(12),jr(this),$o(this);break e}}this.S?(bD(this,l,o),Ig&&this.i&&l==3&&(pD(this.U,this.V,"tick",this.mb),this.V.start())):(Zi(this.j,this.m,o,null),Pg(this,o)),l==4&&jr(this),this.i&&!this.J&&(l==4?KD(this.l,this):(this.i=!1,ta(this)))}else wF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),jr(this),$o(this)}}}catch{}finally{}};function DD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=eF(t,n),i==Mg){e==4&&(t.s=4,Ye(14),r=!1),Zi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ED){t.s=4,Ye(15),Zi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zi(t.j,t.m,i,null),Pg(t,i);DD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ye(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rm(e),e.M=!0,Ye(11))):(Zi(t.j,t.m,n,"[Invalid Chunked Response]"),jr(t),$o(t))}T.mb=function(){if(this.g){var t=nn(this.g),e=this.g.ja();this.o<e.length&&(_l(this),bD(this,t,e),this.i&&t!=4&&ta(this))}};function eF(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Mg:(n=Number(e.substring(n,r)),isNaN(n)?ED:(r+=1,r+n>e.length?Mg:(e=e.slice(r,r+n),t.o=r+n,e)))}T.cancel=function(){this.J=!0,jr(this)};function ta(t){t.Y=Date.now()+t.P,CD(t,t.P)}function CD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Zo(He(t.lb,t),e)}function _l(t){t.C&&(j.clearTimeout(t.C),t.C=null)}T.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(JL(this.j,this.B),this.L!=2&&(Wo(),Ye(17)),jr(this),this.s=2,$o(this)):CD(this,this.Y-t)};function $o(t){t.l.H==0||t.J||KD(t.l,t)}function jr(t){_l(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wg(t.V),gD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Og(n.i,t))){if(!t.K&&Og(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ol(n),Tl(n);else break e;nm(n),Ye(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zo(He(n.ib,n),6e3));if(1>=OD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ur(n,11)}else if((t.K||n.g==t)&&ol(n),!Bo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zg(s,s.h),s.h=null))}if(r.F){let v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,pe(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=JD(r,r.J?r.pa:null,r.Y),o.K){kD(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(_l(a),ta(a)),r.g=o}else GD(r);0<n.j.length&&Dl(n)}else u[0]!="stop"&&u[0]!="close"||Ur(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ur(n,7):tm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Wo(4)}catch{}}function tF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ll(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function nF(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ll(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function SD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ll(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=nF(t),r=tF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var AD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $r(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $r){this.h=t.h,il(this,t.j),this.s=t.s,this.g=t.g,sl(this,t.m),this.l=t.l;var e=t.i,n=new Ko;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),WT(this,n),this.o=t.o}else t&&(e=String(t).match(AD))?(this.h=!1,il(this,e[1]||"",!0),this.s=jo(e[2]||""),this.g=jo(e[3]||"",!0),sl(this,e[4]),this.l=jo(e[5]||"",!0),WT(this,e[6]||"",!0),this.o=jo(e[7]||"")):(this.h=!1,this.i=new Ko(null,this.h))}$r.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uo(e,KT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uo(e,KT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uo(n,n.charAt(0)=="/"?oF:sF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uo(n,cF)),t.join("")};function Dn(t){return new $r(t)}function il(t,e,n){t.j=n?jo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function WT(t,e,n){e instanceof Ko?(t.i=e,uF(t.i,t.h)):(n||(e=Uo(e,aF)),t.i=new Ko(e,t.h))}function pe(t,e,n){t.i.set(e,n)}function wl(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,iF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var KT=/[#\/\?@]/g,sF=/[#\?:]/g,oF=/[#\?]/g,aF=/[#\?@]/g,cF=/#/g;function Ko(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tr(t){t.g||(t.g=new Map,t.h=0,t.i&&rF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}T=Ko.prototype;T.add=function(t,e){tr(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function RD(t,e){tr(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xD(t,e){return tr(t),e=ts(t,e),t.g.has(e)}T.forEach=function(t,e){tr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};T.ta=function(){tr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};T.Z=function(t){tr(this);let e=[];if(typeof t=="string")xD(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};T.set=function(t,e){return tr(this),this.i=null,t=ts(this,t),xD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};T.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function MD(t,e,n){RD(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),Vg(n)),t.h+=n.length)}T.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uF(t,e){e&&!t.j&&(tr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(RD(this,r),MD(this,i,n))},t)),t.j=e}var lF=class{constructor(t,e){this.g=t,this.map=e}};function ND(t){this.l=t||dF,j.PerformanceNavigationTiming?(t=j.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(j.g&&j.g.Ka&&j.g.Ka()&&j.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dF=10;function PD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function OD(t){return t.h?1:t.g?t.g.size:0}function Og(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zg(t,e){t.g?t.g.add(e):t.h=e}function kD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ND.prototype.cancel=function(){if(this.i=LD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function LD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Vg(t.i)}var hF=class{stringify(t){return j.JSON.stringify(t,void 0)}parse(t){return j.JSON.parse(t,void 0)}};function fF(){this.g=new hF}function pF(t,e,n){let r=n||"";try{SD(t,function(i,s){let o=i;Yo(i)&&(o=zg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gF(t,e){let n=new gl;if(j.Image){let r=new Image;r.onload=Ju(nl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ju(nl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ju(nl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ju(nl,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function nl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function na(t){this.l=t.ec||null,this.j=t.ob||!1}ke(na,Qg);na.prototype.g=function(){return new Il(this.l,this.j)};na.prototype.i=function(t){return function(){return t}}({});function Il(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(Il,Oe);var Xg=0;T=Il.prototype;T.open=function(t,e){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qo(this)};T.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||j).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=Xg};T.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function FD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}T.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ra(this):Qo(this),this.readyState==3&&FD(this)}};T.Za=function(t){this.g&&(this.response=this.responseText=t,ra(this))};T.Ya=function(t){this.g&&(this.response=t,ra(this))};T.ka=function(){this.g&&ra(this)};function ra(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qo(t)}T.setRequestHeader=function(t,e){this.v.append(t,e)};T.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};T.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Qo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var mF=j.JSON.parse;function ye(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VD,this.L=this.M=!1}ke(ye,Oe);var VD="",yF=/^https?$/i,vF=["POST","PUT"];T=ye.prototype;T.Oa=function(t){this.M=t};T.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xg.g(),this.C=this.u?GT(this.u):GT(xg),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){QT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=j.FormData&&t instanceof j.FormData,!(0<=eD(vF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$D(this),0<this.B&&((this.L=_F(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=Kg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){QT(this,s)}};function _F(t){return es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}T.ua=function(){typeof Fg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ue(this,"timeout"),this.abort(8))};function QT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jD(t),El(t)}function jD(t){t.F||(t.F=!0,Ue(t,"complete"),Ue(t,"error"))}T.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ue(this,"complete"),Ue(this,"abort"),El(this))};T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),El(this,!0)),ye.$.N.call(this)};T.La=function(){this.s||(this.G||this.v||this.l?UD(this):this.kb())};T.kb=function(){UD(this)};function UD(t){if(t.h&&typeof Fg<"u"&&(!t.C[1]||nn(t)!=4||t.da()!=2)){if(t.v&&nn(t)==4)Kg(t.La,0,t);else if(Ue(t,"readystatechange"),nn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(AD)[1]||null;!i&&j.self&&j.self.location&&(i=j.self.location.protocol.slice(0,-1)),r=!yF.test(i?i.toLowerCase():"")}n=r}if(n)Ue(t,"complete"),Ue(t,"success");else{t.m=6;try{var s=2<nn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",jD(t)}}finally{El(t)}}}}function El(t,e){if(t.g){$D(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ue(t,"ready");try{n.onreadystatechange=r}catch{}}}function $D(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}T.isActive=function(){return!!this.g};function nn(t){return t.g?t.g.readyState:0}T.da=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}};T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};T.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),mF(e)}};function YT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case VD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function wF(t){let e={};t=(t.g&&2<=nn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Bo(t[r]))continue;var n=GL(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}BL(e,function(r){return r.join(", ")})}T.Ia=function(){return this.m};T.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function BD(t){let e="";return Ug(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function em(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=BD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pe(t,e,n))}function Fo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HD(t){this.Ga=0,this.j=[],this.l=new gl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fo("baseRetryDelayMs",5e3,t),this.hb=Fo("retryDelaySeedMs",1e4,t),this.eb=Fo("forwardChannelMaxRetries",2,t),this.xa=Fo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ND(t&&t.concurrentRequestLimit),this.Ja=new fF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}T=HD.prototype;T.ra=8;T.H=1;function tm(t){if(qD(t),t.H==3){var e=t.W++,n=Dn(t.I);if(pe(n,"SID",t.K),pe(n,"RID",e),pe(n,"TYPE","terminate"),ia(t,n),e=new ea(t,t.l,e),e.L=2,e.A=wl(Dn(n)),n=!1,j.navigator&&j.navigator.sendBeacon)try{n=j.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&j.Image&&(new Image().src=e.A,n=!0),n||(e.g=ZD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ta(e)}YD(t)}function Tl(t){t.g&&(rm(t),t.g.cancel(),t.g=null)}function qD(t){Tl(t),t.u&&(j.clearTimeout(t.u),t.u=null),ol(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&j.clearTimeout(t.m),t.m=null)}function Dl(t){if(!PD(t.i)&&!t.m){t.m=!0;var e=t.Na;qo||hD(),zo||(qo(),zo=!0),Gg.add(e,t),t.C=0}}function IF(t,e){return OD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zo(He(t.Na,t,e),QD(t,t.C)),t.C++,!0)}T.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ea(this,this.l,t),s=this.s;if(this.U&&(s?(s=iD(s),sD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zD(this,i,e),n=Dn(this.I),pe(n,"RID",t),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),ia(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(BD(s)))+"&"+e:this.o&&em(n,this.o,s)),Zg(this.i,i),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",e),pe(n,"SID","null"),i.aa=!0,Ng(i,n,null)):Ng(i,n,e),this.H=2}}else this.H==3&&(t?JT(this,t):this.j.length==0||PD(this.i)||JT(this))};function JT(t,e){var n;e?n=e.m:n=t.W++;let r=Dn(t.I);pe(r,"SID",t.K),pe(r,"RID",n),pe(r,"AID",t.V),ia(t,r),t.o&&t.s&&em(r,t.o,t.s),n=new ea(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zg(t.i,n),Ng(n,r,e)}function ia(t,e){t.na&&Ug(t.na,function(n,r){pe(e,r,n)}),t.h&&SD({},function(n,r){pe(e,r,n)})}function zD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?He(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{pF(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function GD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qo||hD(),zo||(qo(),zo=!0),Gg.add(e,t),t.A=0}}function nm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zo(He(t.Ma,t),QD(t,t.A)),t.A++,!0)}T.Ma=function(){if(this.u=null,WD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zo(He(this.jb,this),t)}};T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ye(10),Tl(this),WD(this))};function rm(t){t.B!=null&&(j.clearTimeout(t.B),t.B=null)}function WD(t){t.g=new ea(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Dn(t.wa);pe(e,"RID","rpc"),pe(e,"SID",t.K),pe(e,"AID",t.V),pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pe(e,"TO",t.qa),pe(e,"TYPE","xmlhttp"),ia(t,e),t.o&&t.s&&em(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wl(Dn(e)),n.u=null,n.S=!0,TD(n,t)}T.ib=function(){this.v!=null&&(this.v=null,Tl(this),nm(this),Ye(19))};function ol(t){t.v!=null&&(j.clearTimeout(t.v),t.v=null)}function KD(t,e){var n=null;if(t.g==e){ol(t),rm(t),t.g=null;var r=2}else if(Og(t.i,e))n=e.F,kD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ml(),Ue(r,new vD(r,n)),Dl(t)}else GD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&IF(t,e)||r==2&&nm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ur(t,5);break;case 4:Ur(t,10);break;case 3:Ur(t,6);break;default:Ur(t,2)}}}function QD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ur(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=He(t.pb,t);n||(n=new $r("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||il(n,"https"),wl(n)),gF(n.toString(),r)}else Ye(2);t.H=0,t.h&&t.h.za(e),YD(t),qD(t)}T.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ye(2)):(this.l.info("Failed to ping google.com"),Ye(1))};function YD(t){if(t.H=0,t.ma=[],t.h){let e=LD(t.i);(e.length!=0||t.j.length!=0)&&(BT(t.ma,e),BT(t.ma,t.j),t.i.i.length=0,Vg(t.j),t.j.length=0),t.h.ya()}}function JD(t,e,n){var r=n instanceof $r?Dn(n):new $r(n);if(r.g!="")e&&(r.g=e+"."+r.g),sl(r,r.m);else{var i=j.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $r(null);r&&il(s,r),e&&(s.g=e),i&&sl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&pe(r,n,e),pe(r,"VER",t.ra),ia(t,r),r}function ZD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new na({ob:n})):new ye(t.va),e.Oa(t.J),e}T.isActive=function(){return!!this.h&&this.h.isActive(this)};function XD(){}T=XD.prototype;T.Ba=function(){};T.Aa=function(){};T.za=function(){};T.ya=function(){};T.isActive=function(){return!0};T.Va=function(){};function al(){if(es&&!(10<=Number(VL)))throw Error("Environmental error: no available transport.")}al.prototype.g=function(t,e){return new dt(t,e)};function dt(t,e){Oe.call(this),this.g=new HD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}ke(dt,Oe);dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ye(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JD(t,null,t.Y),Dl(t)};dt.prototype.close=function(){tm(this.g)};dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zg(t),t=n);e.j.push(new lF(e.fb++,t)),e.H==3&&Dl(e)};dt.prototype.N=function(){this.g.h=null,delete this.j,tm(this.g),delete this.g,dt.$.N.call(this)};function e0(t){Yg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(e0,Yg);function t0(){Jg.call(this),this.status=1}ke(t0,Jg);function ns(t){this.g=t}ke(ns,XD);ns.prototype.Ba=function(){Ue(this.g,"a")};ns.prototype.Aa=function(t){Ue(this.g,new e0(t))};ns.prototype.za=function(t){Ue(this.g,new t0)};ns.prototype.ya=function(){Ue(this.g,"b")};function EF(){this.blockSize=-1}function Lt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(Lt,EF);Lt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Lt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)wg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){wg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){wg(this,r),i=0;break}}this.h=i,this.i+=e};Lt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var TF={};function im(t){return-128<=t&&128>t?kL(t,function(e){return new oe([e|0],0>e?-1:0)}):new oe([t|0],0>t?-1:0)}function rn(t){if(isNaN(t)||!isFinite(t))return Xi;if(0>t)return je(rn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kg;return new oe(e,0)}function n0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return je(n0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rn(Math.pow(e,8)),r=Xi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=rn(Math.pow(e,s)),r=r.R(s).add(rn(o))):(r=r.R(n),r=r.add(rn(o)))}return r}var kg=4294967296,Xi=im(0),Lg=im(1),ZT=im(16777216);T=oe.prototype;T.ea=function(){if(Tt(this))return-je(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kg+r)*e,e*=kg}return t};T.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Tn(this))return"0";if(Tt(this))return"-"+je(this).toString(t);for(var e=rn(Math.pow(t,6)),n=this,r="";;){var i=ul(n,e).g;n=cl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Tn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};T.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Tn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}T.X=function(t){return t=cl(this,t),Tt(t)?-1:Tn(t)?0:1};function je(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new oe(n,~t.h).add(Lg)}T.abs=function(){return Tt(this)?je(this):this};T.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new oe(n,n[n.length-1]&-2147483648?-1:0)};function cl(t,e){return t.add(je(e))}T.R=function(t){if(Tn(this)||Tn(t))return Xi;if(Tt(this))return Tt(t)?je(this).R(je(t)):je(je(this).R(t));if(Tt(t))return je(this.R(je(t)));if(0>this.X(ZT)&&0>t.X(ZT))return rn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,rl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,rl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,rl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,rl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new oe(n,0)};function rl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Vo(t,e){this.g=t,this.h=e}function ul(t,e){if(Tn(e))throw Error("division by zero");if(Tn(t))return new Vo(Xi,Xi);if(Tt(t))return e=ul(je(t),e),new Vo(je(e.g),je(e.h));if(Tt(e))return e=ul(t,je(e)),new Vo(je(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lg,r=e;0>=r.X(t);)n=XT(n),r=XT(r);var i=Ji(n,1),s=Ji(r,1);for(r=Ji(r,2),n=Ji(n,2);!Tn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ji(r,1),n=Ji(n,1)}return e=cl(t,i.R(e)),new Vo(i,e)}for(i=Xi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=rn(n),o=s.R(e);Tt(o)||0<o.X(t);)n-=r,s=rn(n),o=s.R(e);Tn(s)&&(s=Lg),i=i.add(s),t=cl(t,o)}return new Vo(i,t)}T.gb=function(t){return ul(this,t).h};T.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new oe(n,this.h&t.h)};T.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new oe(n,this.h|t.h)};T.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new oe(n,this.h^t.h)};function XT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new oe(n,t.h)}function Ji(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new oe(i,t.h)}al.prototype.createWebChannel=al.prototype.g;dt.prototype.send=dt.prototype.u;dt.prototype.open=dt.prototype.m;dt.prototype.close=dt.prototype.close;yl.NO_ERROR=0;yl.TIMEOUT=8;yl.HTTP_ERROR=6;_D.COMPLETE="complete";wD.EventType=Xo;Xo.OPEN="a";Xo.CLOSE="b";Xo.ERROR="c";Xo.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;Lt.prototype.digest=Lt.prototype.l;Lt.prototype.reset=Lt.prototype.reset;Lt.prototype.update=Lt.prototype.j;oe.prototype.add=oe.prototype.add;oe.prototype.multiply=oe.prototype.R;oe.prototype.modulo=oe.prototype.gb;oe.prototype.compare=oe.prototype.X;oe.prototype.toNumber=oe.prototype.ea;oe.prototype.toString=oe.prototype.toString;oe.prototype.getBits=oe.prototype.D;oe.fromNumber=rn;oe.fromString=n0;var r0=Ft.createWebChannelTransport=function(){return new al},i0=Ft.getStatEventTarget=function(){return ml()},bl=Ft.ErrorCode=yl,s0=Ft.EventType=_D,o0=Ft.Event=Br,sm=Ft.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FW=Ft.FetchXmlHttpFactory=na,sa=Ft.WebChannel=wD,a0=Ft.XhrIo=ye,c0=Ft.Md5=Lt,Hr=Ft.Integer=oe;var u0="@firebase/firestore";var Le=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Le.UNAUTHENTICATED=new Le(null),Le.GOOGLE_CREDENTIALS=new Le("google-credentials-uid"),Le.FIRST_PARTY=new Le("first-party-uid"),Le.MOCK_USER=new Le("mock-user");var Is="10.7.0";var Wr=new zn("@firebase/firestore");function oa(){return Wr.logLevel}function S(t,...e){if(Wr.logLevel<=Y.DEBUG){let n=e.map(Hy);Wr.debug(`Firestore (${Is}): ${t}`,...n)}}function Cn(t,...e){if(Wr.logLevel<=Y.ERROR){let n=e.map(Hy);Wr.error(`Firestore (${Is}): ${t}`,...n)}}function ls(t,...e){if(Wr.logLevel<=Y.WARN){let n=e.map(Hy);Wr.warn(`Firestore (${Is}): ${t}`,...n)}}function Hy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function L(t="Unexpected state"){let e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+t;throw Cn(e),new Error(e)}function fe(t,e){t||L()}function H(t,e){return t}var m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends _t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var xl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Le.UNAUTHENTICATED))}shutdown(){}},dm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hm=class{constructor(e){this.t=e,this.currentUser=Le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new xl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new Le(e)}},fm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Le.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},pm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Le.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new gm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function DF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ml=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=DF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $e=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $e(0,0))}static max(){return new t(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Nl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&L(),r===void 0?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},me=class t extends Nl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new C(m.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},bF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ht=class t extends Nl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return bF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new C(m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new C(m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var N=class t{constructor(e){this.path=e}static fromPath(e){return new t(me.fromString(e))}static fromName(e){return new t(me.fromString(e).popFirst(5))}static empty(){return new t(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new me(e.slice()))}};var ym=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ym.UNKNOWN_ID=-1;function CF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Kr(i,N.empty(),e)}function SF(t){return new Kr(t.readTime,t.key,-1)}var Kr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(B.min(),N.empty(),-1)}static max(){return new t(B.max(),N.empty(),-1)}};function AF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=N.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var RF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Da(t){return p(this,null,function*(){if(t.code!==m.FAILED_PRECONDITION||t.message!==RF)throw t;S("LocalStore","Unexpectedly lost primary lease")})}var _=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function ba(t){return t.name==="IndexedDbTransactionError"}var $0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function ad(t){return t==null}function ha(t){return t===0&&1/t==-1/0}function xF(t){return typeof t=="number"&&Number.isInteger(t)&&!ha(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var MF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KW=[...MF,"documentOverlays"],NF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],PF=NF,QW=[...PF,"indexConfiguration","indexState","indexEntries"];function l0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _e=class t{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}},os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();let e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,n,r,i,s){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class t{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pl(this.data.getIterator())}getIteratorFrom(e){return new Pl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Pl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var on=class t{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ge(ht.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ol=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Je=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ol("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Je.EMPTY_BYTE_STRING=new Je("");var OF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(fe(!!t),typeof t=="string"){let e=0,n=OF.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(t.seconds),nanos:ve(t.nanos)}}function ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sr(t){return typeof t=="string"?Je.fromBase64String(t):Je.fromUint8Array(t)}function qy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zy(t){let e=t.mapValue.fields.__previous_value__;return qy(e)?zy(e):e}function fa(t){let e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}var _m=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},kl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qy(t)?4:H0(t)?9007199254740991:10:L()}function ln(t,e){if(t===e)return!0;let n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fa(t).isEqual(fa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ir(i.timestampValue),a=ir(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return sr(i.bytesValue).isEqual(sr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ve(i.doubleValue),a=ve(s.doubleValue);return o===a?ha(o)===ha(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ds(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(l0(o)!==l0(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ln(o[c],a[c])))return!1;return!0}(t,e);default:return L()}}function pa(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function hs(t,e){if(t===e)return 0;let n=Qr(t),r=Qr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ve(s.integerValue||s.doubleValue),c=ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return d0(t.timestampValue,e.timestampValue);case 4:return d0(fa(t),fa(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){let a=sr(s),c=sr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=re(a[u],c[u]);if(l!==0)return l}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=re(ve(s.latitude),ve(o.latitude));return a!==0?a:re(ve(s.longitude),ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=hs(a[u],c[u]);if(l)return l}return re(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Cl.mapValue&&o===Cl.mapValue)return 0;if(s===Cl.mapValue)return 1;if(o===Cl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=re(c[d],l[d]);if(h!==0)return h;let f=hs(a[c[d]],u[l[d]]);if(f!==0)return f}return re(c.length,l.length)}(t.mapValue,e.mapValue);default:throw L()}}function d0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=ir(t),r=ir(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function fs(t){return wm(t)}function wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return N.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=wm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wm(n.fields[o])}`;return i+"}"}(t.mapValue):L()}function h0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Im(t){return!!t&&"integerValue"in t}function Gy(t){return!!t&&"arrayValue"in t}function f0(t){return!!t&&"nullValue"in t}function p0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}function ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ca(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ca(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ca(this.value))}};function q0(t){let e=[];return Es(t.fields,(n,r)=>{let i=new ht([n]);if(Al(r)){let s=q0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new on(e)}var jt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ps=class{constructor(e,n){this.position=e,this.inclusive=n}};function g0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=N.comparator(N.fromName(o.referenceValue),n.key):r=hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function m0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}var Yr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function kF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ll=class{},be=class t extends Ll{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Tm(e,n,r):n==="array-contains"?new Cm(e,r):n==="in"?new Sm(e,r):n==="not-in"?new Am(e,r):n==="array-contains-any"?new Rm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dm(e,r):new bm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ut=class t extends Ll{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return z0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function z0(t){return t.op==="and"}function G0(t){return LF(t)&&z0(t)}function LF(t){for(let e of t.filters)if(e instanceof Ut)return!1;return!0}function Em(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(G0(t))return t.filters.map(e=>Em(e)).join(",");{let e=t.filters.map(n=>Em(n)).join(",");return`${t.op}(${e})`}}function W0(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&ln(r.value,i.value)}(t,e):t instanceof Ut?function(r,i){return i instanceof Ut&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&W0(o,i.filters[a]),!0):!1}(t,e):void L()}function K0(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof Ut?function(n){return n.op.toString()+" {"+n.getFilters().map(K0).join(" ,")+"}"}(t):"Filter"}var Tm=class extends be{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){let n=N.comparator(e.key,this.key);return this.matchesComparison(n)}},Dm=class extends be{constructor(e,n){super(e,"in",n),this.keys=Q0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},bm=class extends be{constructor(e,n){super(e,"not-in",n),this.keys=Q0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Q0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}var Cm=class extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Gy(n)&&pa(n.arrayValue,this.value)}},Sm=class extends be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}},Am=class extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!pa(this.value.arrayValue,n)}},Rm=class extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pa(this.value.arrayValue,r))}};var xm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function y0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xm(t,e,n,r,i,s,o)}function Wy(t){let e=H(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ce=n}return e.ce}function Ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m0(t.startAt,e.startAt)&&m0(t.endAt,e.endAt)}function Mm(t){return N.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var or=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function FF(t,e,n,r,i,s,o,a){return new or(t,e,n,r,i,s,o,a)}function Qy(t){return new or(t)}function v0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y0(t){return t.collectionGroup!==null}function ua(t){let e=H(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ge(ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Yr(s,r))}),n.has(ht.keyField().canonicalString())||e.le.push(new Yr(ht.keyField(),r))}return e.le}function cn(t){let e=H(t);return e.he||(e.he=VF(e,ua(t))),e.he}function VF(t,e){if(t.limitType==="F")return y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yr(i.field,s)});let n=t.endAt?new ps(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ps(t.startAt.position,t.startAt.inclusive):null;return y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nm(t,e){let n=t.filters.concat([e]);return new or(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,n){return new or(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return Ky(cn(t),cn(e))&&t.limitType===e.limitType}function J0(t){return`${Wy(cn(t))}|lt:${t.limitType}`}function rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>K0(i)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):N.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ua(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=g0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,ua(r),i)||r.endAt&&!function(o,a,c){let u=g0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,ua(r),i))}(t,e)}function jF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z0(t){return(e,n)=>{let r=!1;for(let i of ua(t)){let s=UF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UF(t,e,n){let r=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?hs(c,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}var ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return B0(this.inner)}size(){return this.innerSize}};var $F=new _e(N.comparator);function Sn(){return $F}var X0=new _e(N.comparator);function aa(...t){let e=X0;for(let n of t)e=e.insert(n.key,n);return e}function eb(t){let e=X0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qr(){return la()}function tb(){return la()}function la(){return new ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var BF=new _e(N.comparator),HF=new Ge(N.comparator);function J(...t){let e=HF;for(let n of t)e=e.add(n);return e}var qF=new Ge(re);function zF(){return qF}function nb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ha(e)?"-0":e}}function rb(t){return{integerValue:""+t}}function GF(t,e){return xF(e)?rb(e):nb(t,e)}var gs=class{constructor(){this._=void 0}};function WF(t,e,n){return t instanceof ms?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qy(s)&&(s=zy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Jr?sb(t,e):t instanceof Zr?ob(t,e):function(i,s){let o=ib(i,s),a=_0(o)+_0(i.Ie);return Im(o)&&Im(i.Ie)?rb(a):nb(i.serializer,a)}(t,e)}function KF(t,e,n){return t instanceof Jr?sb(t,e):t instanceof Zr?ob(t,e):n}function ib(t,e){return t instanceof ys?function(r){return Im(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ms=class extends gs{},Jr=class extends gs{constructor(e){super(),this.elements=e}};function sb(t,e){let n=ab(e);for(let r of t.elements)n.some(i=>ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var Zr=class extends gs{constructor(e){super(),this.elements=e}};function ob(t,e){let n=ab(e);for(let r of t.elements)n=n.filter(i=>!ln(i,r));return{arrayValue:{values:n}}}var ys=class extends gs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function _0(t){return ve(t.integerValue||t.doubleValue)}function ab(t){return Gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jr&&i instanceof Jr||r instanceof Zr&&i instanceof Zr?ds(r.elements,i.elements,ln):r instanceof ys&&i instanceof ys?ln(r.Ie,i.Ie):r instanceof ms&&i instanceof ms}(t.transform,e.transform)}var Om=class{constructor(e,n){this.version=e,this.transformResults=n}},nr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vs=class{};function cb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ga(t.key,nr.none()):new Xr(t.key,t.data,nr.none());{let n=t.data,r=Vt.empty(),i=new Ge(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new An(t.key,r,new on(i.toArray()),nr.none())}}function YF(t,e,n){t instanceof Xr?function(i,s,o){let a=i.value.clone(),c=I0(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof An?function(i,s,o){if(!Rl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=I0(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(ub(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function da(t,e,n,r){return t instanceof Xr?function(s,o,a,c){if(!Rl(s.precondition,o))return a;let u=s.value.clone(),l=E0(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof An?function(s,o,a,c){if(!Rl(s.precondition,o))return a;let u=E0(s.fieldTransforms,c,o),l=o.data;return l.setAll(ub(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Rl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JF(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=ib(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function w0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(s,o)=>QF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Xr=class extends vs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},An=class extends vs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function ub(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function I0(t,e,n){let r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KF(o,a,n[i]))}return r}function E0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,WF(s,o,e))}return r}var ga=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},km=class extends vs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Lm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&YF(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=cb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(n,r)=>w0(n,r))&&ds(this.baseMutations,e.baseMutations,(n,r)=>w0(n,r))}},Fm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return BF}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Vm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Te,ee;function ZF(t){switch(t){default:return L();case m.CANCELLED:case m.UNKNOWN:case m.DEADLINE_EXCEEDED:case m.RESOURCE_EXHAUSTED:case m.INTERNAL:case m.UNAVAILABLE:case m.UNAUTHENTICATED:return!1;case m.INVALID_ARGUMENT:case m.NOT_FOUND:case m.ALREADY_EXISTS:case m.PERMISSION_DENIED:case m.FAILED_PRECONDITION:case m.ABORTED:case m.OUT_OF_RANGE:case m.UNIMPLEMENTED:case m.DATA_LOSS:return!0}}function lb(t){if(t===void 0)return Cn("GRPC error has no .code"),m.UNKNOWN;switch(t){case Te.OK:return m.OK;case Te.CANCELLED:return m.CANCELLED;case Te.UNKNOWN:return m.UNKNOWN;case Te.DEADLINE_EXCEEDED:return m.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return m.RESOURCE_EXHAUSTED;case Te.INTERNAL:return m.INTERNAL;case Te.UNAVAILABLE:return m.UNAVAILABLE;case Te.UNAUTHENTICATED:return m.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return m.INVALID_ARGUMENT;case Te.NOT_FOUND:return m.NOT_FOUND;case Te.ALREADY_EXISTS:return m.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return m.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return m.FAILED_PRECONDITION;case Te.ABORTED:return m.ABORTED;case Te.OUT_OF_RANGE:return m.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return m.UNIMPLEMENTED;case Te.DATA_LOSS:return m.DATA_LOSS;default:return L()}}(ee=Te||(Te={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";var T0=null;function XF(){return new TextEncoder}var eV=new Hr([4294967295,4294967295],0);function D0(t){let e=XF().encode(t),n=new c0;return n.update(e),new Uint8Array(n.digest())}function b0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hr([n,r],0),new Hr([i,s],0)]}var Um=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zr(`Invalid padding: ${n}`);if(r<0)throw new zr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Hr.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Hr.fromNumber(r)));return i.compare(eV)===1&&(i=new Hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=D0(e),[r,i]=b0(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=D0(e),[r,i]=b0(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},zr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Fl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(B.min(),i,new _e(re),Sn(),J())}},ma=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,J(),J(),J())}};var as=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Vl=class{constructor(e,n){this.targetId=e,this.fe=n}},jl=class{constructor(e,n,r=Je.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ul=class{constructor(){this.ge=0,this.pe=S0(),this.ye=Je.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),r=J();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new ma(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=S0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,fe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},$m=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Sn(),this.Qe=C0(),this.Ke=new _e(re)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Mm(s))if(r===0){let o=new N(s.path);this.We(n,o,jt.newNoDocument(o,B.min()))}else fe(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}T0?.tt(function(l,d,h,f,g){var v,y,w,F,K,q;let we={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},te=d.unchangedNames;return te&&(we.bloomFilter={applied:g===0,hashCount:(v=te?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(F=(w=(y=te?.bits)===null||y===void 0?void 0:y.bitmap)===null||w===void 0?void 0:w.length)!==null&&F!==void 0?F:0,padding:(q=(K=te?.bits)===null||K===void 0?void 0:K.padding)!==null&&q!==void 0?q:0,mightContain:Ne=>{var $t;return($t=f?.mightContain(Ne))!==null&&$t!==void 0&&$t}}),we}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=sr(r).toUint8Array()}catch(c){if(c instanceof Ol)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Um(o,i,s)}catch(c){return ls(c instanceof zr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Mm(a.target)){let c=new N(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,jt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=J();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Fl(e,n,this.Ke,this.qe,r);return this.qe=Sn(),this.Qe=C0(),this.Ke=new _e(re),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ul,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ge(re),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||S("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ul),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function C0(){return new _e(N.comparator)}function S0(){return new _e(N.comparator)}var tV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rV=(()=>({and:"AND",or:"OR"}))(),Bm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hm(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function $l(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function db(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iV(t,e){return $l(t,e.toTimestamp())}function un(t){return fe(!!t),B.fromTimestamp(function(n){let r=ir(n);return new $e(r.seconds,r.nanos)}(t))}function Yy(t,e){return function(r){return new me(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function hb(t){let e=me.fromString(t);return fe(mb(e)),e}function qm(t,e){return Yy(t.databaseId,e.path)}function om(t,e){let n=hb(e);if(n.get(1)!==t.databaseId.projectId)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(fb(n))}function zm(t,e){return Yy(t.databaseId,e)}function sV(t){let e=hb(t);return e.length===4?me.emptyPath():fb(e)}function Gm(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fb(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function A0(t,e,n){return{name:qm(t,e),fields:n.value.mapValue.fields}}function oV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:L()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(fe(l===void 0||typeof l=="string"),Je.fromBase64String(l||"")):(fe(l===void 0||l instanceof Uint8Array),Je.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?m.UNKNOWN:lb(u.code);return new C(l,u.message||"")}(o);n=new jl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=om(t,r.document.name),s=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):B.min(),a=new Vt({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new as(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=om(t,r.document),s=r.readTime?un(r.readTime):B.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new as([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=om(t,r.document),s=r.removedTargetIds||[];n=new as([],s,i,null)}else{if(!("filter"in e))return L();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new jm(i,s),a=r.targetId;n=new Vl(a,o)}}return n}function aV(t,e){let n;if(e instanceof Xr)n={update:A0(t,e.key,e.value)};else if(e instanceof ga)n={delete:qm(t,e.key)};else if(e instanceof An)n={update:A0(t,e.key,e.data),updateMask:mV(e.fieldMask)};else{if(!(e instanceof km))return L();n={verify:qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ms)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ys)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:iV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:L()}(t,e.precondition)),n}function cV(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?un(i.updateTime):un(s);return o.isEqual(B.min())&&(o=un(s)),new Om(o,i.transformResults||[])}(n,e))):[]}function uV(t,e){return{documents:[zm(t,e.path)]}}function lV(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=zm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return gb(Ut.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:is(d.field),direction:fV(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=Hm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function dV(t){let e=sV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=pb(d);return h instanceof Ut&&G0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Yr(ss(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ad(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new ps(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new ps(f,h)}(n.endAt)),FF(e,i,o,s,a,"F",c,u)}function hV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ss(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ss(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ss(n.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ss(n.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):t.fieldFilter!==void 0?function(n){return be.create(ss(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ut.create(n.compositeFilter.filters.map(r=>pb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return L()}}(n.compositeFilter.op))}(t):L()}function fV(t){return tV[t]}function pV(t){return nV[t]}function gV(t){return rV[t]}function is(t){return{fieldPath:t.canonicalString()}}function ss(t){return ht.fromServerFormat(t.fieldPath)}function gb(t){return t instanceof be?function(n){if(n.op==="=="){if(p0(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(f0(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p0(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(f0(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:pV(n.op),value:n.value}}}(t):t instanceof Ut?function(n){let r=n.getFilters().map(i=>gb(i));return r.length===1?r[0]:{compositeFilter:{op:gV(n.op),filters:r}}}(t):L()}function mV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ya=class t{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Je.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wm=class{constructor(e){this.ut=e}};function yV(t){let e=dV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}var Bl=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),ha(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(sr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?H0(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):L()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),N.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Bl.St=new Bl;var Km=class{constructor(){this.on=new Qm}addToCollectionParentIndex(e,n){return this.on.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}deleteAllFieldIndexes(e){return _.resolve()}createTargetIndexes(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Kr.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}},Qm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(me.comparator)).toArray()}};var JW=new Uint8Array(0);var sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);var va=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var Ym=class{constructor(){this.changes=new ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Zm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&da(r.mutation,i,on.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){let i=qr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=aa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sn(),o=la(),a=function(){return la()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof An)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),da(l.mutation,u,l.mutation.getFieldMask(),$e.now())):o.set(u.key,on.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Jm(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=la(),i=new _e((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||on.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||J()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=tb();l.forEach(h=>{if(!s.has(h)){let f=cb(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return N.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(qr()),a=-1,c=s;return o.next(u=>_.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,J())).next(l=>({batchId:a,changes:eb(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=aa();return this.indexManager.getCollectionParents(e,s).next(a=>_.forEach(a,c=>{let u=function(d,h){return new or(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,jt.newInvalidDocument(l)))});let a=aa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&da(l.mutation,u,on.empty(),$e.now()),ud(n,u)&&(a=a.insert(c,u))}),a})}};var Xm=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return _.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:un(i.createTime)}}(n)),_.resolve()}getNamedQuery(e,n){return _.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:yV(i.bundledQuery),readTime:un(i.readTime)}}(n)),_.resolve()}};var ey=class{constructor(){this.overlays=new _e(N.comparator),this.lr=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){let r=qr();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){let i=qr(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _e((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=qr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=qr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return _.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vm(n,r));let s=this.lr.get(n);s===void 0&&(s=J(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var _a=class{constructor(){this.hr=new Ge(De.Pr),this.Ir=new Ge(De.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new De(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new De(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new N(new me([])),r=new De(n,e),i=new De(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new N(new me([])),r=new De(n,e),i=new De(n,e+1),s=J();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new De(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return N.comparator(e.key,n.key)||re(e.gr,n.gr)}static Tr(e,n){return re(e.gr,n.gr)||N.comparator(e.key,n.key)}};var ty=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ge(De.Pr)}checkEmpty(e){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Lm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(re);return n.forEach(i=>{let s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),_.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;N.isDocumentKey(s)||(s=s.child(""));let o=new De(new N(s),0),a=new Ge(re);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),_.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return _.forEach(n.mutations,i=>{let s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new De(n,0),i=this.yr.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ny=class{constructor(e){this.Cr=e,this.docs=function(){return new _e(N.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Sn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sn(),o=n.path,a=new N(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AF(SF(l),r)<=0||(i.has(l.key)||ud(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){L()}vr(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ry(this)}getSize(e){return _.resolve(this.size)}},ry=class extends Ym{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var iy=class{constructor(e){this.persistence=e,this.Fr=new ar(n=>Wy(n),Ky),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _a,this.targetCount=0,this.Nr=va.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),_.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new va(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.kn(n),_.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),_.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Or.containsKey(n))}};var sy=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new $0(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new iy(this),this.indexManager=new Km,this.remoteDocumentCache=function(i){return new ny(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Wm(n),this.Kr=new Xm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ey,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ty(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);let i=new oy(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return _.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},oy=class extends vm{constructor(e){super(),this.currentSequenceNumber=e}},ay=class t{constructor(e){this.persistence=e,this.Gr=new _a,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw L()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),_.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Hr,r=>{let i=N.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return _.or([()=>_.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var cy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=J(),i=J();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var uy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ly=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new uy;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(oa()<=Y.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),_.resolve()):(oa()<=Y.DEBUG&&S("QueryEngine","Query:",rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(oa()<=Y.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):_.resolve())}zi(e,n){if(v0(n))return _.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pm(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=J(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Pm(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return v0(n)||i.isEqual(B.min())?_.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?_.resolve(null):(oa()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rs(n)),this.Xi(e,o,n,CF(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ge(Z0(e));return n.forEach((i,s)=>{ud(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return oa()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",rs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Kr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var dy=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new _e(re),this.ns=new ar(s=>Wy(s),Ky),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function vV(t,e,n,r){return new dy(t,e,n,r)}function yb(t,e){return p(this,null,function*(){let n=H(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=J();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function _V(t,e){let n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=_.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(v=>{let y=u.docVersions.get(g);fe(y!==null),v.version.compareTo(y)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),l.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=J();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vb(t){let e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function wV(t,e){let n=H(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Je.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(v,y,w){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=Sn(),u=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(IV(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(B.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function IV(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(B.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function EV(t,e){let n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TV(t,e){let n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ya(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function hy(t,e,n){return p(this,null,function*(){let r=H(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ba(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function R0(t,e,n){let r=H(t),i=B.min(),s=J();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=H(c),h=d.ns.get(l);return h!==void 0?_.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:J())).next(a=>(DV(r,jF(e),a),{documents:a,ls:s})))}function DV(t,e,n){let r=t.rs.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var Hl=class{constructor(){this.activeTargetIds=zF()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var fy=class{constructor(){this.eo=new Hl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Hl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var py=class{ro(e){}shutdown(){}};var ql=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sl=null;function am(){return Sl===null?Sl=function(){return 268435456+Math.round(2147483648*Math.random())}():Sl++,"0x"+Sl.toString(16)}var bV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gy=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var ze="WebChannelConnection",my=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=am(),c=this.So(n,r);S("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(S("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ls("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=bV[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=am();return new Promise((o,a)=>{let c=new a0;c.setWithCredentials(!0),c.listenOnce(s0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case bl.NO_ERROR:let l=c.getResponseJson();S(ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case bl.TIMEOUT:S(ze,`RPC '${e}' ${s} timed out`),a(new C(m.DEADLINE_EXCEEDED,"Request time out"));break;case bl.HTTP_ERROR:let d=c.getStatus();if(S(ze,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(y){let w=y.toLowerCase().replace(/_/g,"-");return Object.values(m).indexOf(w)>=0?w:m.UNKNOWN}(f.status);a(new C(g,f.message))}else a(new C(m.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new C(m.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{S(ze,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);S(ze,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=am(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r0(),a=i0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");S(ze,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new gy({co:y=>{f?S(ze,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(ze,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),v=(y,w,F)=>{y.listen(w,K=>{try{F(K)}catch(q){setTimeout(()=>{throw q},0)}})};return v(d,sa.EventType.OPEN,()=>{f||S(ze,`RPC '${e}' stream ${i} transport opened.`)}),v(d,sa.EventType.CLOSE,()=>{f||(f=!0,S(ze,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),v(d,sa.EventType.ERROR,y=>{f||(f=!0,ls(ze,`RPC '${e}' stream ${i} transport errored:`,y),g.Ro(new C(m.UNAVAILABLE,"The operation could not be completed")))}),v(d,sa.EventType.MESSAGE,y=>{var w;if(!f){let F=y.data[0];fe(!!F);let K=F,q=K.error||((w=K[0])===null||w===void 0?void 0:w.error);if(q){S(ze,`RPC '${e}' stream ${i} received error:`,q);let we=q.status,te=function(ur){let si=Te[ur];if(si!==void 0)return lb(si)}(we),Ne=q.message;te===void 0&&(te=m.INTERNAL,Ne="Unknown error status: "+we+" with message "+q.message),f=!0,g.Ro(new C(te,Ne)),d.close()}else S(ze,`RPC '${e}' stream ${i} received:`,F),g.Vo(F)}}),v(a,o0.STAT_EVENT,y=>{y.stat===sm.PROXY?S(ze,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===sm.NOPROXY&&S(ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}};function cm(){return typeof document<"u"?document:null}function ld(t){return new Bm(t,!0)}var zl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Gl=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new zl(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return p(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return p(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return p(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===m.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===m.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new C(m.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>p(this,null,function*(){this.state=0,this.start()}))}o_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yy=class extends Gl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=oV(this.serializer,e),r=function(s){if(!("targetChange"in s))return B.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?un(o.readTime):B.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Gm(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Mm(c)?{documents:uV(s,c)}:{query:lV(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=db(s,o.resumeToken);let u=Hm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){a.readTime=$l(s,o.snapshotVersion.toTimestamp());let u=Hm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=hV(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Gm(this.serializer),n.removeTarget=e,this.e_(n)}},vy=class extends Gl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=cV(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.I_(r,n)}return fe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Gm(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>aV(this.serializer,r))};this.e_(n)}};var _y=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(m.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===m.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(m.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var wy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Cn(n),this.f_=!1):S("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Iy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){ni(this)&&(S("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=H(c);u.C_.add(4),yield Ca(u),u.M_.set("Unknown"),u.C_.delete(4),yield dd(u)})}(this))}))}),this.M_=new wy(r,i)}};function dd(t){return p(this,null,function*(){if(ni(t))for(let e of t.v_)yield e(!0)})}function Ca(t){return p(this,null,function*(){for(let e of t.v_)yield e(!1)})}function _b(t,e){let n=H(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Xy(n)?Zy(n):Ts(n).Ho()&&Jy(n,e))}function wb(t,e){let n=H(t),r=Ts(n);n.D_.delete(e),r.Ho()&&Ib(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ni(n)&&n.M_.set("Unknown"))}function Jy(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(t).u_(e)}function Ib(t,e){t.x_.Oe(e),Ts(t).c_(e)}function Zy(t){t.x_=new $m({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ts(t).start(),t.M_.g_()}function Xy(t){return ni(t)&&!Ts(t).jo()&&t.D_.size>0}function ni(t){return H(t).C_.size===0}function Eb(t){t.x_=void 0}function CV(t){return p(this,null,function*(){t.D_.forEach((e,n)=>{Jy(t,e)})})}function SV(t,e){return p(this,null,function*(){Eb(t),Xy(t)?(t.M_.w_(e),Zy(t)):t.M_.set("Unknown")})}function AV(t,e,n){return p(this,null,function*(){if(t.M_.set("Online"),e instanceof jl&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wl(t,r)}else if(e instanceof as?t.x_.$e(e):e instanceof Vl?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(B.min()))try{let r=yield vb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(Je.EMPTY_BYTE_STRING,l.snapshotVersion)),Ib(s,c);let d=new ya(l.target,c,u,l.sequenceNumber);Jy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Wl(t,r)}})}function Wl(t,e,n){return p(this,null,function*(){if(!ba(e))throw e;t.C_.add(1),yield Ca(t),t.M_.set("Offline"),n||(n=()=>vb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield dd(t)}))})}function Tb(t,e){return e().catch(n=>Wl(t,n,e))}function hd(t){return p(this,null,function*(){let e=H(t),n=cr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;RV(e);)try{let i=yield EV(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,xV(e,i)}catch(i){yield Wl(e,i)}Db(e)&&bb(e)})}function RV(t){return ni(t)&&t.b_.length<10}function xV(t,e){t.b_.push(e);let n=cr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Db(t){return ni(t)&&!cr(t).jo()&&t.b_.length>0}function bb(t){cr(t).start()}function MV(t){return p(this,null,function*(){cr(t).E_()})}function NV(t){return p(this,null,function*(){let e=cr(t);for(let n of t.b_)e.P_(n.mutations)})}function PV(t,e,n){return p(this,null,function*(){let r=t.b_.shift(),i=Fm.from(r,e,n);yield Tb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hd(t)})}function OV(t,e){return p(this,null,function*(){e&&cr(t).h_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return ZF(o)&&o!==m.ABORTED}(i.code)){let s=r.b_.shift();cr(r).Yo(),yield Tb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield hd(r)}})}(t,e)),Db(t)&&bb(t)})}function x0(t,e){return p(this,null,function*(){let n=H(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");let r=ni(n);n.C_.add(3),yield Ca(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield dd(n)})}function kV(t,e){return p(this,null,function*(){let n=H(t);e?(n.C_.delete(2),yield dd(n)):e||(n.C_.add(2),yield Ca(n),n.M_.set("Unknown"))})}function Ts(t){return t.O_||(t.O_=function(n,r,i){let s=H(n);return s.A_(),new yy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:CV.bind(null,t),Io:SV.bind(null,t),a_:AV.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.O_.Yo(),Xy(t)?Zy(t):t.M_.set("Unknown")):(yield t.O_.stop(),Eb(t))}))),t.O_}function cr(t){return t.N_||(t.N_=function(n,r,i){let s=H(n);return s.A_(),new vy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:MV.bind(null,t),Io:OV.bind(null,t),T_:NV.bind(null,t),I_:PV.bind(null,t)}),t.v_.push(e=>p(this,null,function*(){e?(t.N_.Yo(),yield hd(t)):(yield t.N_.stop(),t.b_.length>0&&(S("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Ey=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ev(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),ba(t))return new C(m.UNAVAILABLE,`${e}: ${t}`);throw t}var Kl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=aa(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ql=class{constructor(){this.B_=new _e(N.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):L():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},_s=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Kl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ty=class{constructor(){this.k_=void 0,this.listeners=[]}},Dy=class{constructor(){this.queries=new ar(e=>J0(e),cd),this.onlineState="Unknown",this.q_=new Set}};function LV(t,e){return p(this,null,function*(){let n=H(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ty),i)try{s.k_=yield n.onListen(r)}catch(o){let a=ev(o,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&tv(n)})}function FV(t,e){return p(this,null,function*(){let n=H(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function VV(t,e){let n=H(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&tv(n)}function jV(t,e,n){let r=H(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function tv(t){t.q_.forEach(e=>{e.next()})}var by=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Yl=class{constructor(e){this.key=e}},Jl=class{constructor(e){this.key=e}},Cy=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=J(),this.mutatedKeys=J(),this._a=Z0(e),this.aa=new Kl(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Ql,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=ud(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),y=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),y=!0):this.ha(h,f)||(r.track({type:2,doc:f}),y=!0,(c&&this._a(f,c)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(f?(o=o.add(f),s=v?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,g){let v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return v(f)-v(g)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new _s(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ql,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=J(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Jl(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Yl(r))}),n}da(e){this.ia=e.ls,this.oa=J();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return _s.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Sy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Ay=class{constructor(e){this.key=e,this.Ra=!1}},Ry=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ar(a=>J0(a),cd),this.fa=new Map,this.ga=new Set,this.pa=new _e(N.comparator),this.ya=new Map,this.wa=new _a,this.Sa={},this.ba=new Map,this.Da=va.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function UV(t,e){return p(this,null,function*(){let n=YV(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield TV(n.localStore,cn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield $V(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&_b(n.remoteStore,o)}return i})}function $V(t,e,n,r,i){return p(this,null,function*(){t.va=(d,h,f)=>function(v,y,w,F){return p(this,null,function*(){let K=y.view.ca(w);K.Zi&&(K=yield R0(v.localStore,y.query,!1).then(({documents:Ne})=>y.view.ca(Ne,K)));let q=F&&F.targetChanges.get(y.targetId),we=F&&F.targetMismatches.get(y.targetId)!=null,te=y.view.applyChanges(K,v.isPrimaryClient,q,we);return N0(v,y.targetId,te.Ta),te.snapshot})}(t,d,h,f);let s=yield R0(t.localStore,e,!0),o=new Cy(e,s.ls),a=o.ca(s.documents),c=ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);N0(t,n,u.Ta);let l=new Sy(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function BV(t,e){return p(this,null,function*(){let n=H(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!cd(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield hy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wb(n.remoteStore,r.targetId),xy(n,r.targetId)}).catch(Da))):(xy(n,r.targetId),yield hy(n.localStore,r.targetId,!0))})}function HV(t,e,n){return p(this,null,function*(){let r=JV(t);try{let i=yield function(o,a){let c=H(o),u=$e.now(),l=a.reduce((f,g)=>f.add(g.key),J()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Sn(),v=J();return c.ss.getEntries(f,l).next(y=>{g=y,g.forEach((w,F)=>{F.isValidDocument()||(v=v.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(y=>{d=y;let w=[];for(let F of a){let K=JF(F,d.get(F.key).overlayedDocument);K!=null&&w.push(new An(F.key,K,q0(K.value.mapValue),nr.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,w,a)}).next(y=>{h=y;let w=y.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(f,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:eb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new _e(re)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Sa(r,i.changes),yield hd(r.remoteStore)}catch(i){let s=ev(i,"Failed to persist write");n.reject(s)}})}function Cb(t,e){return p(this,null,function*(){let n=H(t);try{let r=yield wV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?fe(o.Ra):i.removedDocuments.size>0&&(fe(o.Ra),o.Ra=!1))}),yield Sa(n,r,e)}catch(r){yield Da(r)}})}function M0(t,e,n){let r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=H(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(u=!0)}),u&&tv(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qV(t,e,n){return p(this,null,function*(){let r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new _e(N.comparator);o=o.insert(s,jt.newNoDocument(s,B.min()));let a=J().add(s),c=new Fl(B.min(),new Map,new _e(re),o,a);yield Cb(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),nv(r)}else yield hy(r.localStore,e,!1).then(()=>xy(r,e,n)).catch(Da)})}function zV(t,e){return p(this,null,function*(){let n=H(t),r=e.batch.batchId;try{let i=yield _V(n.localStore,e);Ab(n,r,null),Sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Sa(n,i)}catch(i){yield Da(i)}})}function GV(t,e,n){return p(this,null,function*(){let r=H(t);try{let i=yield function(o,a){let c=H(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(fe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);Ab(r,e,n),Sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Sa(r,i)}catch(i){yield Da(i)}})}function Sb(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Ab(t,e,n){let r=H(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function xy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Rb(t,r)})}function Rb(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(wb(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),nv(t))}function N0(t,e,n){for(let r of n)r instanceof Yl?(t.wa.addReference(r.key,e),WV(t,r)):r instanceof Jl?(S("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Rb(t,r.key)):L()}function WV(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(S("SyncEngine","New document in limbo: "+n),t.ga.add(r),nv(t))}function nv(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new N(me.fromString(e)),r=t.Da.next();t.ya.set(r,new Ay(n)),t.pa=t.pa.insert(n,r),_b(t.remoteStore,new ya(cn(Qy(n.path)),r,"TargetPurposeLimboResolution",$0._e))}}function Sa(t,e,n){return p(this,null,function*(){let r=H(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=cy.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return p(this,null,function*(){let l=H(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(u,h=>_.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ba(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,v)}}})}(r.localStore,s))})}function KV(t,e){return p(this,null,function*(){let n=H(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());let r=yield yb(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new C(m.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sa(n,r._s)}})}function QV(t,e){let n=H(t),r=n.ya.get(e);if(r&&r.Ra)return J().add(r.key);{let i=J(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function YV(t){let e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qV.bind(null,e),e.Va.a_=VV.bind(null,e.eventManager),e.Va.Fa=jV.bind(null,e.eventManager),e}function JV(t){let e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GV.bind(null,e),e}var Zl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vV(this.persistence,new ly,e.initialUser,this.serializer)}createPersistence(e){return new sy(ay.jr,this.serializer)}createSharedClientState(e){return new fy}terminate(){return p(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var My=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,this.syncEngine),yield kV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Dy}()}createDatastore(e){let n=ld(e.databaseInfo.databaseId),r=function(s){return new my(s)}(e.databaseInfo);return function(s,o,a,c){return new _y(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Iy(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>M0(this.syncEngine,n,0),function(){return ql.D()?new ql:new py}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Ry(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return p(this,null,function*(){let r=H(n);S("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Ca(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Ny=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Py=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Le.UNAUTHENTICATED,this.clientId=Ml.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){S("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return p(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(m.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ev(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function um(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield yb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function P0(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield XV(t);S("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>x0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>x0(e.remoteStore,s)),t._onlineComponents=e})}function ZV(t){return t.name==="FirebaseError"?t.code===m.FAILED_PRECONDITION||t.code===m.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function XV(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield um(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!ZV(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),yield um(t,new Zl)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield um(t,new Zl);return t._offlineComponents})}function xb(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield P0(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield P0(t,new My))),t._onlineComponents})}function e2(t){return xb(t).then(e=>e.syncEngine)}function O0(t){return p(this,null,function*(){let e=yield xb(t),n=e.eventManager;return n.onListen=UV.bind(null,e.syncEngine),n.onUnlisten=BV.bind(null,e.syncEngine),n})}function Mb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var k0=new Map;function Nb(t,e,n){if(!n)throw new C(m.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t2(t,e,n,r){if(e===!0&&r===!0)throw new C(m.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L0(t){if(!N.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F0(t){if(N.isDocumentKey(t))throw new C(m.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":L()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fd(t);throw new C(m.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Xl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new C(m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new C(m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new C(m.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ws=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new C(m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lm;switch(r.type){case"firstParty":return new pm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new C(m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=k0.get(n);r&&(S("ComponentProvider","Removing Datastore"),k0.delete(n),r.terminate())}(this),Promise.resolve()}};function Pb(t,e,n,r={}){var i;let s=(t=cs(t,ws))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Le.MOCK_USER;else{a=cE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Le(u)}t._authCredentials=new dm(new xl(a,c))}}var ei=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},rr=class t extends ei{constructor(e,n,r){super(e,n,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new N(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Dt(t,e,...n){if(t=ut(t),Nb("collection","path",e),t instanceof ws){let r=me.fromString(e,...n);return F0(r),new rr(t,null,r)}{if(!(t instanceof ft||t instanceof rr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(me.fromString(e,...n));return F0(r),new rr(t.firestore,null,r)}}function pd(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Ml.newId()),Nb("doc","path",e),t instanceof ws){let r=me.fromString(e,...n);return L0(r),new ft(t,null,new N(r))}{if(!(t instanceof ft||t instanceof rr))throw new C(m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(me.fromString(e,...n));return L0(r),new ft(t.firestore,t instanceof rr?t.converter:null,new N(r))}}var Oy=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new zl(this,"async_queue_retry"),this.iu=()=>{let n=cm();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=cm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new bn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return p(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ba(e))throw e;S("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=Ey.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&L()}verifyOperationInProgress(){}uu(){return p(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function V0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ti=class extends ws{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Oy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lb(this),this._firestoreClient.terminate()}};function Ob(t,e){let n=typeof t=="object"?t:lo(),r=typeof t=="string"?t:e||"(default)",i=np(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=oE("firestore");s&&Pb(i,...s)}return i}function kb(t){return t._firestoreClient||Lb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new _m(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Mb(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Py(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var wa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Je.fromBase64String(e))}catch(n){throw new C(m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ia=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new C(m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ed=class{constructor(e){this._methodName=e}};var Ea=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var n2=/^__.*__$/,ky=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new An(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xr(e,this.data,n,this.fieldTransforms)}};function Fb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}var Ly=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return td(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Fb(this.Iu)&&n2.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Fy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}pu(e,n,r,i=!1){return new Ly({Iu:e,methodName:n,gu:r,path:ht.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Vb(t){let e=t._freezeSettings(),n=ld(t._databaseId);return new Fy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r2(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);$b("Data must be an object, but it was:",o,r);let a=jb(r,o),c,u;if(s.merge)c=new on(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=s2(e,d,n);if(!o.contains(h))throw new C(m.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);a2(l,h)||l.push(h)}c=new on(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new ky(new Vt(a),c,u)}function i2(t,e,n,r=!1){return rv(n,t.pu(r?4:3,e))}function rv(t,e){if(Ub(t=ut(t)))return $b("Unsupported field value:",e,t),jb(t,e);if(t instanceof ed)return function(r,i){if(!Fb(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=rv(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$e.fromDate(r);return{timestampValue:$l(i.serializer,s)}}if(r instanceof $e){let s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$l(i.serializer,s)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wa)return{bytesValue:db(i.serializer,r._byteString)};if(r instanceof ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${fd(r)}`)}(t,e)}function jb(t,e){let n={};return B0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,i)=>{let s=rv(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ub(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Ea||t instanceof wa||t instanceof ft||t instanceof ed)}function $b(t,e,n){if(!Ub(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=fd(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function s2(t,e,n){if((e=ut(e))instanceof Ia)return e._internalPath;if(typeof e=="string")return Bb(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}var o2=new RegExp("[~\\*/\\[\\]]");function Bb(t,e,n){if(e.search(o2)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ia(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new C(m.INVALID_ARGUMENT,a+t+c)}function a2(t,e){return t.some(n=>n.isEqual(e))}var nd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Vy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(gd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Vy=class extends nd{data(){return super.data()}};function gd(t,e){return typeof e=="string"?Bb(t,e):e instanceof Ia?e._internalPath:e._delegate._internalPath}function c2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new C(m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ta=class{},rd=class extends Ta{};function ri(t,e,...n){let r=[];e instanceof Ta&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof jy).length,a=s.filter(c=>c instanceof id).length;if(o>1||o>0&&a>0)throw new C(m.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var id=class t extends rd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return qb(e._query,n),new ei(e.firestore,e.converter,Nm(e._query,n))}_parse(e){let n=Vb(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new C(m.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){U0(d,l);let f=[];for(let g of d)f.push(j0(c,s,g));h={arrayValue:{values:f}}}else h=j0(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||U0(d,l),h=i2(a,o,d,l==="in"||l==="not-in");return be.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function iv(t,e,n){let r=e,i=gd("where",t);return id._create(i,r,n)}var jy=class t extends Ta{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ut.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)qb(o,c),o=Nm(o,c)}(e._query,n),new ei(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Uy=class t extends rd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new C(m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new C(m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yr(s,o)}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new or(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Hb(t,e="asc"){let n=e,r=gd("orderBy",t);return Uy._create(r,n)}function j0(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new C(m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y0(e)&&n.indexOf("/")!==-1)throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(me.fromString(n));if(!N.isDocumentKey(r))throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h0(t,new N(r))}if(n instanceof ft)return h0(t,n._key);throw new C(m.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function U0(t,e){if(!Array.isArray(t)||t.length===0)throw new C(m.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new C(m.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var $y=class{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ea(ve(e.latitude),ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fa(e));default:return null}}convertTimestamp(e){let n=ir(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=me.fromString(e);fe(mb(r));let i=new kl(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||Cn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function u2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Gr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sd=class extends nd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},us=class extends sd{data(e={}){return super.data(e)}},By=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new us(this._firestore,this._userDataWriter,r.key,r,new Gr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:l2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function l2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}var od=class extends $y{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}};function sv(t){return zb(cs(t.firestore,ti),[new ga(t._key,nr.none())])}function ov(t,e){let n=cs(t.firestore,ti),r=pd(t),i=u2(t.converter,e);return zb(n,[r2(Vb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function av(t,...e){var n,r,i;t=ut(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||V0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(V0(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof ft)u=cs(t.firestore,ti),l=Qy(t._key.path),c={next:d=>{e[o]&&e[o](d2(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=cs(t,ei);u=cs(d.firestore,ti),l=d._query;let h=new od(u);c={next:f=>{e[o]&&e[o](new By(u,h,d,f))},error:e[o+1],complete:e[o+2]},c2(t._query)}return function(h,f,g,v){let y=new Ny(v),w=new by(f,y,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return LV(yield O0(h),w)})),()=>{y.Na(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return FV(yield O0(h),w)}))}}(kb(u),l,a,c)}function zb(t,e){return function(r,i){let s=new bn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return HV(yield e2(r),i,s)})),s.promise}(kb(t),e)}function d2(t,e,n){let r=n.docs.get(e._key),i=new od(t);return new sd(t,i,e._key,r,new Gr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Is=i})(Fi),Wn(new It("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ti(new hm(r.getProvider("auth-internal")),new mm(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pe(u0,"4.4.0",e),Pe(u0,"4.4.0","esm2017")})();var md=function(){return md=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},md.apply(this,arguments)};var p2={includeMetadataChanges:!1};function Gb(t,e){return e===void 0&&(e=p2),new $(function(n){var r=av(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Wb(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:md(md({},r),(n={},n[e.idField]=t.id,n))}function Kb(t){return Gb(t,{includeMetadataChanges:!0}).pipe(O(function(e){return e.docs}))}function Qb(t,e){return e===void 0&&(e={}),Kb(t).pipe(O(function(n){return n.map(function(r){return Wb(r,e)})}))}var ii=class{constructor(e){return e}},Yb="firestore",cv=class{constructor(){return fo(Yb)}};var uv=new R("angularfire2.firestore-instances");function g2(t,e){let n=sp(Yb,t,e);return n&&new ii(n)}function m2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ii(r)}}var y2={provide:cv,deps:[[new Ot,uv]]},v2={provide:ii,useFactory:g2,deps:[[new Ot,uv],Nr]},_2=(()=>{class t{constructor(){Pe("angularfire",ji.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Mt({type:t});static \u0275inj=xt({providers:[v2,y2]})}return t})();function Jb(t,...e){return{ngModule:_2,providers:[{provide:uv,useFactory:m2(t),multi:!0,deps:[de,kt,po,go,[new Ot,Yu],[new Ot,ho],...e]}]}}var Rn=Mr(Qb,!0);var Zb=Mr(Ob,!0);var Ds=Mr(Hb,!0);var Xb={providers:[uT(lT),WI(),bT({config:{availableLangs:["en","es","fr"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!RI()},loader:CT}),Gc(SE(()=>AE({apiKey:"AIzaSyCJTb1963zwqhGJKc4b71Py1B5He0ehcNg",authDomain:"moncv-47e4d.firebaseapp.com",databaseURL:"https://moncv-47e4d-default-rtdb.firebaseio.com",projectId:"moncv-47e4d",storageBucket:"moncv-47e4d.appspot.com",messagingSenderId:"654393496327",appId:"1:654393496327:web:c5c46b69c0ab9503e5aba2"}))),Gc(Jb(()=>Zb()))]};var bs=(()=>{let e=class e{constructor(r){this.fs=r,this.skillsRef=Dt(this.fs,"skills.profile.p1")}getProfile(r){let i=Dt(this.fs,r+"/profile/profile"),s=ri(i,Ds("id"));return Rn(s,{idField:"id"})}getSkills(r){let i=Dt(this.fs,r+"/skills/skill"),s=ri(i,Ds("id"));return Rn(s,{idField:"id"})}getExperience(r){let i=Dt(this.fs,r+"/experiences/experience"),s=ri(i,Ds("n"));return Rn(s,{idField:"id"})}getDetailsExperience(r){let i=Dt(this.fs,r+"/details");return Rn(i,{idField:"id"})}getSkillsByQuery(r){let i=Dt(this.fs,"skills"),s=ri(i,iv("es_desc","in",["saltar","cantar","amar"]),Ds(""));return Rn(s)}getVolunt(r){let i=Dt(this.fs,r);return Rn(i,{idField:"id"})}get(r){let i=Dt(this.fs,r+"/volunteering/volunteering");return Rn(i,{idField:"id"})}getVoluntDetail(r){let i=Dt(this.fs,r+"/volunteering/volunteering"),s=ri(i,Ds("n"));return Rn(s,{idField:"id"})}addSkill(r){let i={detail:r},s=Dt(this.fs,"skills");return ov(s,i)}deleteSkill(r){let i=pd(this.fs,"skills/"+r);return sv(i)}};e.\u0275fac=function(i){return new(i||e)(A(ii))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I2(t,e){if(t&1&&(D(0,"ul",1)(1,"li",2),Z(2,"i",3),M(3),E()()),t&2){let n=e.$implicit;ae(3),We(n.d)}}var eC=(()=>{let e=class e{ngOnInit(){this.service.getDetailsExperience(this.detailsExperience).subscribe(r=>this.detailsExperiences=r)}constructor(r){this.service=r,this.detailsExperience=[],this.detailsExperiences=[]}};e.\u0275fac=function(i){return new(i||e)(Me(bs))},e.\u0275cmp=nt({type:e,selectors:[["app-experience"]],inputs:{detailsExperience:"detailsExperience"},standalone:!0,features:[st],decls:1,vars:1,consts:[["class","list-inline",4,"ngFor","ngForOf"],[1,"list-inline"],[1,"text-justify"],[1,"fa-solid","fa-caret-right"]],template:function(i,s){i&1&&it(0,I2,4,1,"ul",0),i&2&&rt("ngForOf",s.detailsExperiences)},dependencies:[Cr,ou]});let t=e;return t})();function E2(t,e){if(t&1&&($n(0),M(1),Bn()),t&2){let n=e.$implicit;ae(1),wn(" ",n("profile")," ")}}function T2(t,e){if(t&1&&(D(0,"span")(1,"p",14),M(2),E()()),t&2){let n=e.$implicit;ae(2),We(n.sentence)}}function D2(t,e){if(t&1&&($n(0),M(1),Bn()),t&2){let n=e.$implicit;ae(1),wn(" ",n("skills"),"")}}function b2(t,e){if(t&1&&(D(0,"ul",10)(1,"li",14),M(2),E()()),t&2){let n=e.$implicit;ae(2),We(n.p)}}function C2(t,e){if(t&1&&($n(0),M(1),Bn()),t&2){let n=e.$implicit;ae(1),wn(" ",n("experience")," ")}}function S2(t,e){if(t&1&&(D(0,"div",7)(1,"div",10)(2,"h4",14),M(3),E(),D(4,"div",15)(5,"h5",14),M(6),E(),D(7,"h5",14),M(8),E(),D(9,"h5",14),M(10),E(),D(11,"button",16),Z(12,"i",17),E()(),Z(13,"p")(14,"app-experience",18),E()()),t&2){let n=e.$implicit,r=bI();ae(3),We(n.job),ae(3),We(n.cia),ae(2),We(n.year),ae(2),We(n.city),ae(4),rt("detailsExperience",r.experiencePath+n.id)}}function A2(t,e){if(t&1&&($n(0),M(1),Bn()),t&2){let n=e.$implicit;ae(1),wn(" ",n("volunteering")," ")}}function R2(t,e){if(t&1&&(D(0,"div",10)(1,"h4",14),M(2),E(),D(3,"h5",14),M(4),E(),D(5,"h5",14),M(6),E(),D(7,"h5",14),M(8),E()()),t&2){let n=e.$implicit;ae(2),We(n.job),ae(2),We(n.cia),ae(2),We(n.year),ae(2),We(n.city)}}function x2(t,e){if(t&1&&(D(0,"ul",10)(1,"li",14),M(2),E()()),t&2){let n=e.$implicit;ae(2),We(n.d)}}var tC=(()=>{let e=class e{constructor(r,i){this.translocoService=r,this.service=i,this.profile=[],this.skills=[],this.experiences=[],this.experiencePath="",this.volunt=[],this.voluntDetail=[],this.lngActivate=""}ngOnInit(){this.refreshSkills()}ngOnChanges(){this.refreshSkills()}refreshSkills(){this.service.getProfile("hv_"+this.lngActivate).subscribe(r=>this.profile=r),this.service.getSkills("hv_"+this.lngActivate).subscribe(r=>this.skills=r),this.service.getExperience("hv_"+this.lngActivate).subscribe(r=>this.experiences=r),this.experiencePath="hv_"+this.lngActivate+"/experiences/experience/",this.service.getVolunt("hv_"+this.lngActivate).subscribe(r=>this.volunt=r),this.service.getVoluntDetail("hv_"+this.lngActivate).subscribe(r=>this.voluntDetail=r)}};e.\u0275fac=function(i){return new(i||e)(Me(En),Me(bs))},e.\u0275cmp=nt({type:e,selectors:[["app-main"]],inputs:{lngActivate:"lngActivate"},standalone:!0,features:[jn,st],decls:33,vars:5,consts:[[1,"overflow-hidden"],[1,"about"],[1,"title2"],[4,"transloco"],[4,"ngFor","ngForOf"],["class","list-inline",4,"ngFor","ngForOf"],["class","box",4,"ngFor","ngForOf"],[1,"box"],[1,"about","skills"],[1,"about","interest"],[1,"list-inline"],["aria-hidden","true",1,"fa","fa-book"],["aria-hidden","true",1,"fa","fa-cutlery"],["aria-hidden","true",1,"fa","fa-language"],[1,"text-justify"],[1,"year_company"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],[1,"fa-solid","fa-flag-checkered"],[3,"detailsExperience"]],template:function(i,s){i&1&&(D(0,"body",0)(1,"div",1)(2,"h2",2),it(3,E2,2,1,"ng-container",3),E(),it(4,T2,3,1,"span",4),E(),D(5,"div",1)(6,"h2",2),it(7,D2,2,1,"ng-container",3),E(),it(8,b2,3,1,"ul",5),E(),D(9,"h2",2),it(10,C2,2,1,"ng-container",3),E(),it(11,S2,15,5,"div",6),D(12,"h2",2),it(13,A2,2,1,"ng-container",3),E(),D(14,"div",7),it(15,R2,9,4,"div",5)(16,x2,3,1,"ul",5),E(),D(17,"div",8)(18,"h2",2),M(19,"Professional Skills"),E()(),D(20,"div",9)(21,"h2",2),M(22,"Interest"),E(),D(23,"ul",10)(24,"li"),Z(25,"i",11),M(26," Reading"),E(),D(27,"li"),Z(28,"i",12),M(29," Cooking"),E(),D(30,"li"),Z(31,"i",13),M(32," Language"),E()()()()),i&2&&(ae(4),rt("ngForOf",s.profile),ae(4),rt("ngForOf",s.skills),ae(3),rt("ngForOf",s.experiences),ae(4),rt("ngForOf",s.volunt),ae(1),rt("ngForOf",s.voluntDetail))},dependencies:[Zn,Lu,Cr,ou,eC]});let t=e;return t})();function M2(t,e){if(t&1&&($n(0),M(1),Bn()),t&2){let n=e.$implicit;ae(1),wn(" ",n("study")," ")}}var nC=(()=>{let e=class e{constructor(r){this.translocoService=r}};e.\u0275fac=function(i){return new(i||e)(Me(En))},e.\u0275cmp=nt({type:e,selectors:[["app-left-bar"]],standalone:!0,features:[st],decls:77,vars:0,consts:[[1,"left_Side"],[1,"profileText"],[1,"imgBx"],["src","assets/img/pic.jpg",1,"rounded"],[1,"contactInfo"],[1,"title"],[1,"list-inline"],[1,"nav-item","mx-2"],[1,"icon"],[1,"fa-solid","fa-phone"],[1,"text"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-globe"],[1,"fa-brands","fa-linkedin"],[1,"text","lk"],["target","_blank","href","https://www.linkedin.com/in/german-herrera/",1,"text-decoration-none","text-black"],[1,"fa-solid","fa-location-dot"],[1,"contactInfo","education"],[4,"transloco"],[1,"contactInfo","language"],[1,"percent"],[2,"width","85%"],[2,"width","70%"],[2,"width","100%"]],template:function(i,s){i&1&&(D(0,"div",0),Z(1,"br"),D(2,"div",1)(3,"div",2),Z(4,"img",3),E(),D(5,"h2"),M(6,"German Herrera"),Z(7,"br"),D(8,"span"),M(9,"Web Developer"),E()()(),D(10,"div",4)(11,"h3",5),M(12,"Contact Info"),E(),D(13,"ul",6)(14,"li",7)(15,"span",8),Z(16,"i",9),E(),D(17,"span",10),M(18,"+1 438 408 1220"),E()(),D(19,"li",7)(20,"span",8),Z(21,"i",11),E(),D(22,"span",10),M(23,"germanherrera75@hotmail.com"),E()(),D(24,"li",7)(25,"span",8),Z(26,"i",12),E(),D(27,"span",10),M(28,"germanherrera.co"),E()(),D(29,"li",7)(30,"span",8),Z(31,"i",13),E(),D(32,"span",14)(33,"a",15),M(34,"/in/german-herrera/"),E()()(),D(35,"li",7)(36,"span",8),Z(37,"i",16),E(),D(38,"span",10),M(39,"Montreal, Canada"),E()()()(),D(40,"div",17)(41,"h3",5),it(42,M2,2,1,"ng-container",18),E(),D(43,"ul",6)(44,"li")(45,"h5"),M(46,"2023"),E(),D(47,"h4"),M(48,"AEC Gestion Informatique"),E(),D(49,"h4"),M(50,"Institute Teccart"),E()(),D(51,"li")(52,"h5"),M(53,"2023"),E(),D(54,"h4"),M(55,"Bachelor Degree in Computer Science"),E(),D(56,"h4"),M(57,"University National of Colombia"),E()()()(),D(58,"div",19)(59,"h3",5),M(60,"Languages"),E(),D(61,"ul",6)(62,"li")(63,"span",10),M(64,"French"),E(),D(65,"span",20),Z(66,"div",21),E()(),D(67,"li")(68,"span",10),M(69,"English"),E(),D(70,"span",20),Z(71,"div",22),E()(),D(72,"li")(73,"span",10),M(74,"Spanish"),E(),D(75,"span",20),Z(76,"div",23),E()()()()())},dependencies:[Zn,Lu],styles:[".profileText[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,.2)}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;border-radius:50%;overflow:hidden}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]});let t=e;return t})();var rC=(()=>{let e=class e{constructor(r){this.translocoService=r,this.setLang=new at,this.lngActive=""}mnuLang(r){this.lngActive=r,this.setLang.emit(this.lngActive)}};e.\u0275fac=function(i){return new(i||e)(Me(En))},e.\u0275cmp=nt({type:e,selectors:[["app-top"]],outputs:{setLang:"setLang"},standalone:!0,features:[st],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-transparent"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"navbar-toggler","shadow-none","border-0"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"sidebar","offcanvas","offcanvas-start","row"],[1,"offcanvas-header","text-white","border-bottom"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white","shadow-none"],[1,"offcanvas-body","d-flex","flex-column","flex-lg-row","p-4","p-lg-0","row","justify-content-between"],[1,"d-block","d-sm-block","d-md-block","d-lg-none"],[1,"profileText"],[1,"imgBx"],["src","assets/img/pic.jpg"],[1,"d-flex","flex-row","flex-lg-row","justify-content-center","align-items-center","gap-3"],["href","#","data-tor","hover:bg(light)",1,"text-white","text-decoration-none","px-3","py-1","rounded-4","bg-primary","bg-darken-xs",3,"click"],["href","#","data-tor","hover:bg(light)",1,"text-white","text-decoration-none","px-3","py-1","rounded-4","bg-danger","bg-darken-xs",3,"click"],["href","#","data-tor","hover:bg(light)",1,"text-white","text-decoration-none","px-3","py-1","rounded-4","bg-warning","bg-darken-xs",3,"click"]],template:function(i,s){i&1&&(D(0,"nav",0)(1,"div",1)(2,"a",2),M(3,"German Herrera"),E(),D(4,"button",3),Z(5,"span",4),E(),D(6,"div",5)(7,"div",6)(8,"h5",7),M(9,"German Herrera"),E(),Z(10,"button",8),E(),D(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),Z(15,"img",13),E(),D(16,"h2"),M(17,"German Herrera"),Z(18,"br"),D(19,"span"),M(20,"Web Developer"),E()()()(),D(21,"div",14)(22,"a",15),Hn("click",function(){return s.mnuLang("en")}),M(23,"EN"),E(),D(24,"a",16),Hn("click",function(){return s.mnuLang("fr")}),M(25,"FR"),E(),D(26,"a",17),Hn("click",function(){return s.mnuLang("es")}),M(27,"ES"),E()()()()()())},dependencies:[Zn],styles:[".profileText[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,.2)}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;border-radius:50%;overflow:hidden}.profileText[_ngcontent-%COMP%]   .imgBx[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.profileText[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin-top:20px;text-transform:uppercase;text-align:center;font-weight:600;line-height:1.4em}.profileText[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8em;font-weight:300px}"]});let t=e;return t})();var iC=(()=>{let e=class e{constructor(r,i){this.translocoService=r,this.service=i,this.title="personal",this.lngActive="en",this.skills=[],this.qSkills=[]}ngOnInit(){this.refreshSkills()}refreshSkills(){this.service.getSkills(this.lngActive).subscribe(r=>this.skills=r)}addSkill(r){this.service.addSkill(r).then(i=>{console.log(i),this.refreshSkills()})}deleteSkill(r){this.service.deleteSkill(r).then(i=>{console.log(i),this.refreshSkills()})}setLang(r){this.lngActive=r,this.translocoService.setActiveLang(this.lngActive)}};e.\u0275fac=function(i){return new(i||e)(Me(En),Me(bs))},e.\u0275cmp=nt({type:e,selectors:[["app-root"]],standalone:!0,features:[st],decls:16,vars:1,consts:[[1,"container"],[3,"setLang"],[1,"row"],[1,"col-sm-0","col-md-0","col-lg-3","col-xl-3","d-none","d-sm-none","d-md-none","d-lg-block"],[1,"col-sm-12","col-md-12","col-lg-9","col-xl-9","bg-light"],[3,"lngActivate"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"fa-solid","fa-flag-checkered"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"]],template:function(i,s){i&1&&(D(0,"div",0)(1,"app-top",1),Hn("setLang",function(a){return s.setLang(a)}),E(),D(2,"div",2)(3,"div",3),Z(4,"app-left-bar"),E(),D(5,"div",4),Z(6,"app-main",5),E()()(),D(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h5",10),Z(12,"i",11),E(),Z(13,"button",12),E(),D(14,"div",13),M(15," ... "),E()()()()),i&2&&(ae(6),rt("lngActivate",s.lngActive))},dependencies:[Cr,tC,nC,rC,Zn]});let t=e;return t})();tE(iC,Xb).catch(t=>console.error(t));
